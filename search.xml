<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>å»åŠªåŠ›ç»´æŠ¤å¿ƒä¸­çš„é‚£ç‚¹æ­£ä¹‰</title>
    <url>/3019/11/07/%E5%8E%BB%E5%8A%AA%E5%8A%9B%E7%BB%B4%E6%8A%A4%E5%BF%83%E4%B8%AD%E7%9A%84%E9%82%A3%E7%82%B9%E6%AD%A3%E4%B9%89/</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2019/11/07/kjgSTREJYwLp1da.jpg" alt></p>
<a id="more"></a>

]]></content>
      <categories>
        <category>æ‚è®°</category>
      </categories>
      <tags>
        <tag>æ‚è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>å…¥é—¨æ•°æ®æŒ–æ˜1-æ•°æ®æ¢ç´¢EDA</title>
    <url>/2020/03/24/%E5%85%A5%E9%97%A8%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%981-%E6%95%B0%E6%8D%AE%E6%8E%A2%E7%B4%A2EDA/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324152822.png" alt></p>
<a id="more"></a>

<p>[toc]</p>
<hr>
<h3 id="1-EDA-æ•°æ®æ¢ç´¢"><a href="#1-EDA-æ•°æ®æ¢ç´¢" class="headerlink" title="1. EDA-æ•°æ®æ¢ç´¢"></a>1. EDA-æ•°æ®æ¢ç´¢</h3><p>â€‹        å¯¹æ•°æ®è¿›è¡ŒEDAä¸»è¦åšçš„æ˜¯å¯¹æ•°æ®é›†çš„<strong>å®è§‚</strong>åˆ†æï¼Œ æˆ‘ä»¬è¦äº†è§£æ•°æ®é›†çš„<strong>è§„æ¨¡</strong>ï¼ŒæŸ¥çœ‹æ•°æ®çš„<strong>ç»Ÿè®¡åˆ†å¸ƒ</strong>,äº†è§£ç‰¹å¾ä¹‹é—´çš„<strong>ç›¸å…³æ€§</strong>ç­‰ã€‚</p>
<p>â€‹        æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦åšEDAï¼Œæ˜¯ä¸ºäº†èƒ½å¤Ÿç†è§£æ•°æ®ï¼Œæ‰€ä»¥åœ¨å¼€å§‹åœ°æ—¶å€™ï¼Œæˆ‘ä»¬ä¸èƒ½æŠ±æœ‰æŸç§åè§ï¼Œè¦å®Œå…¨æ­£ç›´ï¼Œæˆ–è€…æŠŠè‡ªå·±å½“ä½œå°ç™½å»çœ‹æ•°æ®ï¼Œä¸€å¼€å§‹ï¼Œå¦‚æœä½ ä»€ä¹ˆéƒ½ä¸çŸ¥é“ï¼Œæ˜¯å¯¹çš„çŠ¶æ€ã€‚</p>
<p>â€‹        åœ¨æ•°æ®å¯è§†åŒ–ä¸­ï¼Œæˆ‘ä»¬è¦å°½é‡è®©ç®€æ´å›¾å‘ˆç°å‡ºé‡è¦çš„ä¿¡æ¯ã€‚</p>
<p>â€‹        æè¿°<strong>è¶‹åŠ¿</strong>ä½¿ç”¨<strong>æŠ˜çº¿å›¾</strong>ï¼›</p>
<p>â€‹        æè¿°<strong>æ•°é‡</strong>ä½¿ç”¨<strong>æŸ±çŠ¶å›¾</strong>ï¼›</p>
<p>â€‹        æè¿°<strong>å…³ç³»</strong>ä½¿ç”¨<strong>æ•£ç‚¹å›¾</strong>ï¼›</p>
<p>â€‹        æè¿°<strong>æ¯”ä¾‹</strong>ä½¿ç”¨<strong>é¥¼çŠ¶å›¾</strong>ï¼›</p>
<p>â€‹        æœ¬æ¬¡å­¦ä¹ ä½¿ç”¨å¤©æ± æ•°æ®æŒ–æ˜å…¥é—¨çº§ç«èµ›ï¼ŒäºŒæ‰‹è½¦äº¤æ˜“ä»·æ ¼é¢„æµ‹<a href="https://tianchi.aliyun.com/competition/entrance/231784/information" target="_blank" rel="noopener">https://tianchi.aliyun.com/competition/entrance/231784/information</a></p>
<h4 id="1-1-ç›¸å…³ç¬¬ä¸‰æ–¹åŒ…å¯¼å…¥"><a href="#1-1-ç›¸å…³ç¬¬ä¸‰æ–¹åŒ…å¯¼å…¥" class="headerlink" title="1.1 ç›¸å…³ç¬¬ä¸‰æ–¹åŒ…å¯¼å…¥"></a>1.1 ç›¸å…³ç¬¬ä¸‰æ–¹åŒ…å¯¼å…¥</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    å¯¼å…¥warningsåŒ…ï¼Œåˆ©ç”¨è¿‡æ»¤å™¨å®ç°å¿½ç•¥è­¦å‘Šè¯­å¥</span></span><br><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line">warnings.filterwarnings(<span class="string">'ignore'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">import</span> missingno <span class="keyword">as</span> msno</span><br></pre></td></tr></table></figure>

<p>â€‹        pandasï¼Œnumpyï¼Œmatplotlibå¯¹äºæ•°æ®åˆ†ææ˜¯éå¸¸å¸¸è§çš„ã€‚æœ¬æ¬¡ä»»åŠ¡ä¸­ç”¨åˆ°äº†ä¸¤ä¸ªæ–°çš„åº“ï¼Œ<strong>seaborn</strong>ï¼Œ<strong>missingno</strong>ï¼Œ</p>
<p>â€‹        <strong>seaborn</strong>ï¼šæ˜¯åŸºäºmatplotlibçš„ä¸€ä¸ªå¯è§†åŒ–åº“ï¼Œç›¸å½“äºå¯¹åº•å±‚matplotlibåšäº†ä¸€å±‚å°è£…ï¼Œå¯ä»¥ç”¨å®ƒç”»å‡ºæ›´åŠ ç›´è§‚ã€å¸å¼•äººçš„ç»Ÿè®¡å›¾å½¢ã€‚</p>
<p>â€‹        <strong>missingno</strong>ï¼šæ˜¯ä¸€ä¸ªç”¨äº<strong>ç¼ºå¤±æ•°æ®</strong>å¯è§†åŒ–å’Œå®ç”¨ç¨‹åºçš„å°å·¥å…·é›†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®ƒç›´è§‚çš„æ€»ç»“æ•°æ®é›†çš„å®Œæ•´æ€§ã€‚</p>
<h4 id="1-2-è½½å…¥æ•°æ®"><a href="#1-2-è½½å…¥æ•°æ®" class="headerlink" title="1.2 è½½å…¥æ•°æ®"></a>1.2 è½½å…¥æ•°æ®</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    è½½å…¥æ•°æ®</span></span><br><span class="line">train_data = pd.read_csv(<span class="string">'../data/used_car_train_20200313.csv'</span>,sep=<span class="string">' '</span>)</span><br><span class="line">test_data = pd.read_csv(<span class="string">'../data/used_car_testA_20200313.csv'</span>,sep=<span class="string">' '</span>)</span><br></pre></td></tr></table></figure>

<p><strong>å¯¼å…¥å…¶ä»–æ ¼å¼æ–‡ä»¶</strong></p>
<table>
<thead>
<tr>
<th align="right">æ–‡ä»¶æ ¼å¼</th>
<th align="right">å¯¹åº”å‡½æ•°</th>
</tr>
</thead>
<tbody><tr>
<td align="right">CSVæ–‡ä»¶</td>
<td align="right">pd.read_csv(filename)</td>
</tr>
<tr>
<td align="right">Excelæ–‡ä»¶</td>
<td align="right">pd.read_excel(filename)</td>
</tr>
<tr>
<td align="right">Mysqlæ–‡ä»¶</td>
<td align="right">pd.read_sql(query, connection_object)+</td>
</tr>
<tr>
<td align="right">æ–‡æœ¬æ–‡ä»¶</td>
<td align="right">pd.read_table(filename)</td>
</tr>
</tbody></table>
<p><code>read_csv()</code>è¯»æ–‡ä»¶é»˜è®¤æ˜¯ä»¥<strong>é€—å·</strong>ä¸ºåˆ†éš”ç¬¦ï¼Œè‹¥æ˜¯ä»¥å…¶ä»–åˆ†éš”ç¬¦ï¼Œæ¯”å¦‚åˆ¶è¡¨ç¬¦<code>/t</code>ï¼Œåˆ™éœ€è¦åœ¨æŒ‡å®šå‚æ•°<code>sep</code>ååŠ ä¸ŠæŒ‡å®šçš„åˆ†éš”ç¬¦ï¼Œæœ¬æ¬¡æ•°æ®é›†ä½¿ç”¨ç©ºæ ¼ä¸ºåˆ†éš”ç¬¦ã€‚</p>
<h4 id="1-3-è§‚å¯Ÿæ•°æ®"><a href="#1-3-è§‚å¯Ÿæ•°æ®" class="headerlink" title="1.3 è§‚å¯Ÿæ•°æ®"></a>1.3 è§‚å¯Ÿæ•°æ®</h4><h5 id="1-3-1-å¤§ä½“è§‚å¯Ÿæ•°æ®"><a href="#1-3-1-å¤§ä½“è§‚å¯Ÿæ•°æ®" class="headerlink" title="1.3.1 å¤§ä½“è§‚å¯Ÿæ•°æ®"></a>1.3.1 å¤§ä½“è§‚å¯Ÿæ•°æ®</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    è§‚å¯Ÿæ•°æ®çš„å‰éƒ¨åˆ†ï¼Œé»˜è®¤æ˜¯5ä¸ªï¼Œå¯ä»¥åŠ å‚æ•°</span></span><br><span class="line"><span class="comment">#    train_data.head(10)</span></span><br><span class="line">train_data.head()</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    è§‚å¯Ÿæ•°æ®çš„åéƒ¨åˆ†ï¼Œé»˜è®¤æ˜¯5ä¸ªï¼Œå¯ä»¥åŠ å‚æ•°</span></span><br><span class="line"><span class="comment">#    train_data.tail(10)</span></span><br><span class="line">train_data.tail()</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    è¿˜å¯ä»¥å°†äºŒè€…ç»¼åˆèµ·æ¥ä¸€èµ·è§‚å¯Ÿ</span></span><br><span class="line">train_data.head().append(train_data.tail())</span><br></pre></td></tr></table></figure>

<h5 id="1-3-2-è§‚å¯Ÿæ•°æ®ç»´åº¦"><a href="#1-3-2-è§‚å¯Ÿæ•°æ®ç»´åº¦" class="headerlink" title="1.3.2 è§‚å¯Ÿæ•°æ®ç»´åº¦"></a>1.3.2 è§‚å¯Ÿæ•°æ®<strong>ç»´åº¦</strong></h5><p>è¿™ä¸€ç‚¹ååˆ†é‡è¦ï¼Œä¸ç„¶åé¢æ¨¡å‹è®­ç»ƒå¾ˆéº»çƒ¦ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    ç®¡æ“¦æ•°æ®çš„ç»´åº¦</span></span><br><span class="line">train_data.shape</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    è§‚å¯Ÿæ•°æ®çš„åˆ—æ•°</span></span><br><span class="line">train_data.shape[<span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    è§‚å¯Ÿæ•°æ®çš„è¡Œæ•°</span></span><br><span class="line">train_data.shape[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•æ•°æ®åŒæ ·è¦è§‚å¯Ÿï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼Œä¸‹é¢çš„ç¬”è®°ä¹Ÿéƒ½æ˜¯å€¼å¯¹trainåšå¤„ç†ï¼Œè®°å¾—testæ•°æ®åšåŒæ¨å¤„ç†å³å¯ã€‚</p>
<h5 id="1-3-3-è§‚å¯Ÿæ•°æ®çš„ä¸€äº›ç›¸å…³ç»Ÿè®¡é‡"><a href="#1-3-3-è§‚å¯Ÿæ•°æ®çš„ä¸€äº›ç›¸å…³ç»Ÿè®¡é‡" class="headerlink" title="1.3.3 è§‚å¯Ÿæ•°æ®çš„ä¸€äº›ç›¸å…³ç»Ÿè®¡é‡"></a>1.3.3 è§‚å¯Ÿæ•°æ®çš„ä¸€äº›ç›¸å…³ç»Ÿè®¡é‡</h5><p>ä¾‹å¦‚æ€»æ•°ï¼Œå¹³å‡å€¼ï¼Œæ ‡å‡†å·®ï¼Œæœ€å°å€¼ï¼Œ25%ã€50%ã€75%åˆ†æ•°ï¼Œæœ€å¤§å€¼ç­‰ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è§‚å¯ŸæŸäº›å€¼æå‰é€‰å®šæŸäº›å¼‚å¸¸å€¼æˆ–ç¼ºå¤±å€¼ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    é€šè¿‡describe()æ¥ç†Ÿæ‚‰æ•°æ®çš„ç›¸å…³ç»Ÿè®¡é‡</span></span><br><span class="line">train_data.describe()</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/1585015351116.png" alt></p>
<h5 id="1-3-4-é€šè¿‡info-æ¥ç†Ÿæ‚‰æ•°æ®ç±»å‹"><a href="#1-3-4-é€šè¿‡info-æ¥ç†Ÿæ‚‰æ•°æ®ç±»å‹" class="headerlink" title="1.3.4 é€šè¿‡info()æ¥ç†Ÿæ‚‰æ•°æ®ç±»å‹"></a>1.3.4 é€šè¿‡<code>info()</code>æ¥ç†Ÿæ‚‰æ•°æ®ç±»å‹</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">train_data.info()</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324183645.png" alt></p>
<p>åƒæœ¬æ­¤æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“æ›´å¤šçš„éƒ½æ˜¯æ•°å­—ç±»å‹ï¼Œåˆå¯ä»¥ç»†åˆ†ä¸ºæ•´å‹å’Œæµ®ç‚¹å‹ï¼Œä½†æ˜¯å€¼å¾—æ³¨æ„çš„æ˜¯æœ‰ä¸€ä¸ªæ•°æ®ç±»å‹æ˜¯<code>object</code>ã€‚é‚£è¿™ä¸ª<code>object</code>åˆ°åº•æ˜¯ä¸ªå•¥å‘¢ï¼Œçœ‹ä¸‹è¡¨</p>
<table>
<thead>
<tr>
<th>:pandas dtype</th>
<th>:-pythonç±»å‹</th>
<th>:-numpyç±»å‹</th>
<th>:-ç”¨é€”</th>
</tr>
</thead>
<tbody><tr>
<td>object</td>
<td>str</td>
<td>string, unicode</td>
<td>æ–‡æœ¬</td>
</tr>
<tr>
<td>int64</td>
<td>int</td>
<td>int, int8, int16, int32, int64, uint8, uint16, uint32, uint64</td>
<td>æ•´æ•°</td>
</tr>
<tr>
<td>float64</td>
<td>float</td>
<td>floatï¼Œfloat16ï¼Œfloat32ï¼Œfloat64</td>
<td>æµ®ç‚¹æ•°</td>
</tr>
<tr>
<td>bool</td>
<td>bool</td>
<td>bool</td>
<td>å¸ƒå°”å€¼</td>
</tr>
<tr>
<td>datetime64</td>
<td>NA</td>
<td>NA</td>
<td>æ—¥æœŸæ—¶é—´</td>
</tr>
<tr>
<td>timedelta[ns]</td>
<td>NA</td>
<td>NA</td>
<td>æ—¶é—´å·®</td>
</tr>
<tr>
<td>category</td>
<td>NA</td>
<td>NA</td>
<td>æœ‰é™é•¿åº¦çš„æ–‡æœ¬å€¼åˆ—è¡¨</td>
</tr>
</tbody></table>
<h5 id="1-3-5-æŸ¥çœ‹æ¯åˆ—çš„å­˜åœ¨çš„nanæƒ…å†µ"><a href="#1-3-5-æŸ¥çœ‹æ¯åˆ—çš„å­˜åœ¨çš„nanæƒ…å†µ" class="headerlink" title="1.3.5 æŸ¥çœ‹æ¯åˆ—çš„å­˜åœ¨çš„nanæƒ…å†µ"></a>1.3.5 æŸ¥çœ‹æ¯åˆ—çš„å­˜åœ¨çš„nanæƒ…å†µ</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    æŸ¥çœ‹æ¯åˆ—çš„å­˜åœ¨nanæƒ…å†µ</span></span><br><span class="line">train_data.isnull().sum()</span><br></pre></td></tr></table></figure>

<p>ä»è¿™é‡Œæˆ‘ä»¬å¯ä»¥çŸ¥é“æ•°æ®é›†çš„æŸäº›ç‰¹å¾æœ‰å¤šå°‘ç¼ºå¤±å€¼ï¼Œå¯¹äºç¼ºå¤±å€¼çš„å¤„ç†ä¹Ÿååˆ†é‡è¦ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    å¯¹ç¼ºå¤±å€¼å¯è§†åŒ–</span></span><br><span class="line"></span><br><span class="line">missing= train_data.isnull().sum()</span><br><span class="line">missing = missing[missing &gt; <span class="number">0</span>]</span><br><span class="line">missing.sort_values(inplace=<span class="literal">True</span>)</span><br><span class="line">missing.plot.bar()</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324102210.png" alt></p>
<ol>
<li>å¦‚æœç¼ºå¤±å€¼çš„æ•°é‡å¾ˆå°ï¼Œä¸€èˆ¬é€‰æ‹©è¿›è¡Œå¡«å……ï¼Œå½“ç„¶å¦‚æœä½ ä½¿ç”¨<code>lgb</code>ç­‰æ ‘æ¨¡å‹ï¼Œå¯ä»¥ä¸åšå¤„ç†ï¼Œæ¨¡å‹ä¼šè‡ªåŠ¨ä¼˜åŒ–</li>
<li>å¦‚æœç¼ºå¤±å€¼çš„æ•°é‡å¾ˆå¤§ï¼Œè¿‡å¤šï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸€èˆ¬è€ƒè™‘å°†å…¶åˆ æ‰ï¼Œè§‚å¯Ÿæ¨¡å‹çš„å¾—åˆ†æƒ…å†µå¦‚ä½•ã€‚</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    å¯è§†åŒ–çœ‹ä¸‹ç¼ºçœå€¼</span></span><br><span class="line">msno.matrix(train_data.sample(<span class="number">250</span>))</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324104328.png" alt></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">msno.bar(train_data.sample(<span class="number">1000</span>))</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324104401.png" alt></p>
<h5 id="1-3-6-å¼‚å¸¸å€¼æ£€æµ‹"><a href="#1-3-6-å¼‚å¸¸å€¼æ£€æµ‹" class="headerlink" title="1.3.6 å¼‚å¸¸å€¼æ£€æµ‹"></a>1.3.6 å¼‚å¸¸å€¼æ£€æµ‹</h5><p>ä»ä¸Šé¢æˆ‘ä»¬å¯ä»¥çŸ¥é“<code>notRepairedDamage</code>çš„æ•°æ®ç±»å‹ä¸æ˜¯æ•°å­—ï¼Œå› æ­¤æˆ‘ä»¬å…ˆæ¥åˆ†ææ­¤ç‰¹å¾ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">train_data[<span class="string">'notRepairedDamage'</span>].value_counts()</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324183809.png" alt></p>
<p>å¯ä»¥çœ‹åˆ°è¯¥ç‰¹å¾æœ‰ä¸ªå–å€¼æ˜¯â€™-â€˜ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶è®¤ä¸ºä¸ºç¼ºå¤±å€¼ï¼Œæ›¿æ¢ä¸º<code>nan</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    å°†-æ›¿æ¢ä¸ºnan</span></span><br><span class="line">train_data[<span class="string">'notRepairedDamage'</span>].replace(<span class="string">'-'</span>, np.nan, inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<p>å¯¹äº<code>seller</code>å’Œ<code>offerType</code>è¿™ä¸¤ä¸ªç‰¹å¾ä¸¥é‡å€¾æ–œï¼Œå¯¹é¢„æµ‹ç»“æœçš„æ„ä¹‰ä¸å¤§ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥å°†å…¶åˆ é™¤æ‰ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">del</span> train_data[<span class="string">'seller'</span>]</span><br><span class="line"><span class="keyword">del</span> train_data[<span class="string">'offerType'</span>]</span><br></pre></td></tr></table></figure>

<h5 id="1-3-7-äº†è§£é¢„æµ‹å€¼åˆ†å¸ƒ"><a href="#1-3-7-äº†è§£é¢„æµ‹å€¼åˆ†å¸ƒ" class="headerlink" title="1.3.7 äº†è§£é¢„æµ‹å€¼åˆ†å¸ƒ"></a>1.3.7 äº†è§£é¢„æµ‹å€¼åˆ†å¸ƒ</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">train_data[<span class="string">'price'</span>]</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬é€šè¿‡è§‚å¯Ÿé¢„æµ‹å€¼ï¼Œå¯ä»¥çŸ¥é“è¿™æ˜¯ä¸€ä¸ªåˆ†ç±»ä»»åŠ¡è¿˜æ˜¯å›å½’ä»»åŠ¡ï¼Œæœ¬æ­¤æ•°æ®é›†ï¼Œæ˜¾ç„¶æ˜¯ä¸€ä¸ªå›å½’ä»»åŠ¡ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">train_data[<span class="string">'price'</span>].value_counts()</span><br></pre></td></tr></table></figure>

<p>é¢„æµ‹å€¼çš„æ€»ä½“åˆ†å¸ƒæ¦‚å†µ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    æ€»ä½“åˆ†å¸ƒæ¦‚å†µ</span></span><br><span class="line"><span class="keyword">import</span> scipy.stats <span class="keyword">as</span> st</span><br><span class="line">y = train_data[<span class="string">'price'</span>]</span><br><span class="line">plt.figure(<span class="number">1</span>);plt.title(<span class="string">'Johnson SU'</span>)</span><br><span class="line">sns.distplot(y, kde=<span class="literal">False</span>, fit=st.johnsonsu)</span><br><span class="line">plt.figure(<span class="number">2</span>);plt.title(<span class="string">'Normal'</span>)</span><br><span class="line">sns.distplot(y, kde=<span class="literal">False</span>, fit=st.norm)</span><br><span class="line">plt.figure(<span class="number">3</span>);plt.title(<span class="string">'Log Normal'</span>)</span><br><span class="line">sns.distplot(y, kde=<span class="literal">False</span>, fit=st.lognorm)</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324105351.png" alt></p>
<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324105429.png" alt></p>
<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324183902.png" alt></p>
<p>â€‹        <strong>çº¦ç¿°é€Šåˆ†å¸ƒ</strong>æ˜¯ç»è¿‡çº¦ç¿°å˜æ¢åæœä»æ­£æ€åˆ†å¸ƒçš„éšæœºå˜é‡çš„æ¦‚ç‡åˆ†å¸ƒ<br>â€‹        <code>displot()</code>é›†åˆäº†<code>matplotlib</code>çš„<code>hist()</code>ä¸æ ¸å‡½æ•°ä¼°è®¡<code>kdeplot</code>çš„åŠŸèƒ½ï¼Œå¢åŠ äº†<code>rugplot</code>åˆ†å¸ƒè§‚æµ‹æ¡æ˜¾ç¤ºä¸åˆ©ç”¨<code>scipy</code>åº“<code>fit</code>æ‹Ÿåˆå‚æ•°åˆ†å¸ƒçš„æ–°é¢–åŠŸèƒ½  </p>
<p>â€‹        ä»å›¾å¯ä»¥çŸ¥é“ï¼Œä»·æ ¼å¾ˆæ˜æ˜¾æ˜¯ä¸ç¬¦åˆæ­£æ€åˆ†å¸ƒçš„ï¼Œæ‰€åœ¨åœ¨è¿›è¡Œå›å½’ä¹‹å‰ï¼Œå¿…é¡»è¿›è¡Œè½¬æ¢ã€‚æœ€ä½³æ‹Ÿåˆæ— ç•Œçº¦ç¿°é€Šåˆ†å¸ƒã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#    æŸ¥çœ‹é¢„æµ‹å€¼çš„å…·ä½“é¢‘æ•°</span><br><span class="line">plt.hist(train_data[&apos;price&apos;], orientation=&apos;vertical&apos;,histtype=&apos;bar&apos;)</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324183941.png" alt></p>
<p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡º0åˆ°20000çš„å–å€¼å äº†ç»å¤§éƒ¨åˆ†ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨åšæ¨¡å‹è®­ç»ƒçš„æ—¶å€™ï¼Œå¯ä»¥å°†å…¶è§†ä½œä¸€æ¡<strong>è§„åˆ™</strong>ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    å¯¹æ•°å˜æ¢åè§‚å¯Ÿåˆ†å¸ƒã€</span></span><br><span class="line">plt.hist(np.log(train_data[<span class="string">'price'</span>]), orientation=<span class="string">'vertical'</span>, histtype=<span class="string">'bar'</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324145602.png" alt></p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œç»è¿‡å¯¹æ•°å˜æ¢åï¼Œåˆ†å¸ƒè¾ƒä¸ºå‡åŒ€ï¼Œæœ‰ç‚¹<strong>æ­£æ€</strong>åˆ†å¸ƒçš„æ„æ€äº†ã€‚</p>
<h5 id="1-3-7æŸ¥çœ‹å³°åº¦å’Œååº¦"><a href="#1-3-7æŸ¥çœ‹å³°åº¦å’Œååº¦" class="headerlink" title="1.3.7æŸ¥çœ‹å³°åº¦å’Œååº¦"></a>1.3.7æŸ¥çœ‹å³°åº¦å’Œååº¦</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    æŸ¥çœ‹ååº¦å’Œå³°åº¦</span></span><br><span class="line">sns.distplot(train_data[<span class="string">'price'</span>]);</span><br><span class="line">print(<span class="string">'Skewness: %f'</span> % train_data[<span class="string">'price'</span>].skew())</span><br><span class="line">print(<span class="string">'Kurtness: %f'</span> % train_data[<span class="string">'price'</span>].kurt())</span><br></pre></td></tr></table></figure>

<p><strong>ååº¦</strong>ï¼šååº¦ï¼ˆskewnessï¼‰ä¹Ÿç§°ä¸ºåæ€ã€åæ€ç³»æ•°ï¼Œæ˜¯ç»Ÿè®¡æ•°æ®åˆ†å¸ƒ<strong>åæ–œ</strong>æ–¹å‘å’Œç¨‹åº¦çš„åº¦é‡ï¼Œæ˜¯ç»Ÿè®¡æ•°æ®åˆ†å¸ƒ<strong>éå¯¹ç§°</strong>ç¨‹åº¦çš„æ•°å­—ç‰¹å¾  </p>
<p><strong>å³°åº¦</strong>ï¼šå³°åº¦ï¼ˆKurtosisï¼‰ä¸ååº¦ç±»ä¼¼ï¼Œæ˜¯æè¿°æ€»ä½“ä¸­æ‰€æœ‰å–å€¼åˆ†å¸ƒå½¢æ€é™¡ç¼“ç¨‹åº¦çš„ç»Ÿè®¡é‡ã€‚è¿™ä¸ªç»Ÿè®¡é‡éœ€è¦ä¸æ­£æ€åˆ†å¸ƒç›¸æ¯”è¾ƒï¼Œå³°åº¦ä¸º0è¡¨ç¤ºè¯¥æ€»ä½“æ•°æ®åˆ†å¸ƒä¸æ­£æ€åˆ†å¸ƒçš„é™¡ç¼“ç¨‹åº¦ç›¸åŒï¼›å³°åº¦å¤§äº0è¡¨ç¤ºè¯¥æ€»ä½“æ•°æ®åˆ†å¸ƒä¸æ­£æ€åˆ†å¸ƒç›¸æ¯”è¾ƒä¸ºé™¡å³­ï¼Œä¸ºå°–é¡¶å³°ï¼›å³°åº¦å°äº0è¡¨ç¤ºè¯¥æ€»ä½“æ•°æ®åˆ†å¸ƒä¸æ­£æ€åˆ†å¸ƒç›¸æ¯”è¾ƒä¸ºå¹³å¦ï¼Œä¸ºå¹³é¡¶å³°ã€‚å³°åº¦çš„ç»å¯¹å€¼æ•°å€¼è¶Šå¤§è¡¨ç¤ºå…¶åˆ†å¸ƒå½¢æ€çš„é™¡ç¼“ç¨‹åº¦ä¸æ­£æ€åˆ†å¸ƒçš„å·®å¼‚ç¨‹åº¦è¶Šå¤§</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    æŸ¥çœ‹æ‰€æœ‰ç‰¹å¾çš„å³°åº¦å’Œååº¦</span></span><br><span class="line">train_data.skew(), train_data.kurt()</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    å¯è§†åŒ–ååº¦</span></span><br><span class="line">sns.distplot(train_data.skew(), color=<span class="string">'blue'</span>, axlabel=<span class="string">'Skewness'</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324142743.png" alt></p>
<p>æ¨ªåæ ‡æ˜¯ååº¦ï¼Œçºµåæ ‡æ˜¯è¯¥ååº¦å€¼åœ¨æ€»ä½“ æ ·æœ¬ä¸­å çš„ç™¾åˆ†æ¯”ï¼Œä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œ-10~10çš„ååº¦æ›´å¤šä¸€äº›ï¼Œå°¤å…¶æ˜¯0é™„è¿‘çš„ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    å¯è§†åŒ–å³°åº¦</span></span><br><span class="line">sns.distplot(train_data.kurt(), color=<span class="string">'orange'</span>, axlabel=<span class="string">'Kurtness'</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324143930.png" alt></p>
<h4 id="1-4-å¯¹ç‰¹å¾åˆ†ç±»è§‚å¯Ÿåˆ†æ"><a href="#1-4-å¯¹ç‰¹å¾åˆ†ç±»è§‚å¯Ÿåˆ†æ" class="headerlink" title="1.4 å¯¹ç‰¹å¾åˆ†ç±»è§‚å¯Ÿåˆ†æ"></a>1.4 å¯¹ç‰¹å¾åˆ†ç±»è§‚å¯Ÿåˆ†æ</h4><p>ç‰¹å¾å¯ä»¥åˆ†ç±»ä¸º<strong>æ•°å­—</strong>ç‰¹å¾å’Œ<strong>ç±»åˆ«</strong>ç‰¹å¾ï¼Œè¿™ä¸¤è€…æ—¢æœ‰è”ç³»ä¹Ÿæœ‰åŒºåˆ«ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶åˆ†ç±»è§‚å¯Ÿåˆ†æã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    å°†ç‰¹å¾è¿›è¡Œåˆ†ç±»</span></span><br><span class="line">numeric_features = [<span class="string">'power'</span>, <span class="string">'kilometer'</span>, <span class="string">'v_0'</span>,<span class="string">'v_1'</span>,<span class="string">'v_2'</span>,<span class="string">'v_3'</span>,<span class="string">'v_4'</span>,<span class="string">'v_5'</span>,<span class="string">'v_6'</span>,<span class="string">'v_7'</span>,<span class="string">'v_8'</span>,<span class="string">'v_9'</span>,<span class="string">'v_10'</span>,<span class="string">'v_11'</span>,<span class="string">'v_12'</span>,<span class="string">'v_13'</span>,<span class="string">'v_14'</span>]</span><br><span class="line"></span><br><span class="line">categorical_features = [ n <span class="keyword">for</span> n <span class="keyword">in</span> list(train_data.columns.values) <span class="keyword">if</span> n <span class="keyword">not</span> <span class="keyword">in</span> numeric_features ]</span><br></pre></td></tr></table></figure>

<h5 id="1-4-1-æ•°å­—ç‰¹å¾åˆ†æ"><a href="#1-4-1-æ•°å­—ç‰¹å¾åˆ†æ" class="headerlink" title="1.4.1 æ•°å­—ç‰¹å¾åˆ†æ"></a>1.4.1 æ•°å­—ç‰¹å¾åˆ†æ</h5><h6 id="1-4-1-1-ç›¸å…³æ€§åˆ†æ"><a href="#1-4-1-1-ç›¸å…³æ€§åˆ†æ" class="headerlink" title="1.4.1.1 ç›¸å…³æ€§åˆ†æ"></a>1.4.1.1 ç›¸å…³æ€§åˆ†æ</h6><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    è§‚å¯Ÿæ•°å­—ç‰¹å¾å’Œé¢„æµ‹å€¼çš„ç›¸å…³æ€§</span></span><br><span class="line">price_numeric = train_data[numeric_features]</span><br><span class="line">correlation = price_numeric.corr()</span><br><span class="line">print(correlation[<span class="string">'price'</span>].sort_values(ascending=<span class="literal">False</span>),<span class="string">'\n'</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324150402.png" alt></p>
<p>â€‹        ç›¸å…³æ€§åˆ†ææ˜¯é‡åŒ–ä¸åŒå› ç´ é—´å˜åŠ¨çŠ¶å†µä¸€è‡´ç¨‹åº¦çš„é‡è¦æŒ‡æ ‡ã€‚ç›¸å…³ç¨‹åº¦é«˜çš„ç‰¹å¾æ˜¯æˆ‘ä»¬å¸Œæœ›è¦çš„ï¼Œå› ä¸ºç›¸å…³ç¨‹åº¦è¶Šé«˜ï¼Œè¶Šè¯´æ˜è¯¥ç‰¹å¾å¯¹é¢„æµ‹ç»“æœæ›´æœ‰å¸®åŠ©ã€‚<br>â€‹        ç›¸å…³ç³»æ•°corrï¼Œå–å€¼åœ¨<strong>[-1,1]</strong>ã€‚corrå€¼è¶Šå¤§ï¼Œä¸ç”¨å› ç´ ä¹‹é—´çš„ç›¸å…³ç¨‹åº¦è¶Šé«˜ï¼Œ<strong>è´Ÿå€¼è¡¨ç¤ºè´Ÿç›¸å…³</strong>ï¼Œ<strong>æ­£å€¼è¡¨ç¤ºæ­£ç›¸å…³</strong><br>â€‹        ç®—æ³•æœ‰å¾ˆå¤šï¼Œæœ€å¸¸ç”¨æ˜¯Pearsonç›¸å…³ç³»æ•°ï¼Œè¿˜æœ‰Spearmanç›¸å…³ç³»æ•°å’ŒKendallç›¸å…³ç³»æ•°</p>
<ol>
<li><strong>Pearsonç›¸å…³ç³»æ•°</strong></li>
</ol>
<p>è®¡ç®—å…¬å¼:<img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324184024.png" alt></p>
<p>Numpyå’ŒPandaséƒ½æä¾›äº†Pearsonç›¸å…³ç³»æ•°çš„è®¡ç®—å‡½æ•°åˆ†åˆ«æ˜¯<code>np.corrcoef()</code>å’Œ<code>Pandas.corr()</code>ã€‚</p>
<ol start="2">
<li><strong>å‘é‡å¤¹è§’ä½™å¼¦</strong></li>
</ol>
<p>æŠŠä¸¤ç»„æ•°æ®ä½œä¸ºä¸¤ä¸ªä¸€ç»´å‘é‡ï¼Œé€šè¿‡è®¡ç®—ä¸¤ä¸ªå‘é‡çš„å¤¹è§’ä½™å¼¦å€¼ï¼ŒåŒæ ·å¯ä»¥è¡¡é‡æ•°æ®çš„ç›¸å…³ç¨‹åº¦ï¼Œå–å€¼èŒƒå›´åœ¨[-1ï¼Œ1]ä¹‹é—´ï¼Œ</p>
<p>è®¡ç®—å…¬å¼ï¼š<img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324184047.png" alt></p>
<ol start="3">
<li><p><strong>Spearmanç›¸å…³ç³»æ•°</strong></p>
<p>Spearmanç›¸å…³ç³»æ•°åˆç§°ç§©ç›¸å…³ç³»æ•°ï¼Œæ˜¯åˆ©ç”¨ä¸¤å˜é‡çš„<strong>ç§©æ¬¡å¤§å°</strong>åšç›¸å…³æ€§åˆ†æï¼Œå¯¹åŸå§‹å˜é‡çš„åˆ†å¸ƒä¸åšè¦æ±‚ï¼Œä¹Ÿæ²¡æœ‰çº¿æ€§è¦æ±‚ã€‚</p>
<p>Scipyçš„<code>spearmanr()</code>å‡½æ•°å¯ä»¥è®¡ç®—Spearmanç›¸å…³ç³»æ•°</p>
<p>Spearmanç›¸å…³ç³»æ•°æœ‰å¦‚ä¸‹ç‰¹ç‚¹:</p>
<ul>
<li>å±äºéå‚æ•°ç»Ÿè®¡æ–¹æ³•ï¼Œé€‚ç”¨èŒƒå›´æ›´å¹¿ã€‚</li>
<li>å¯¹äºæœä»Pearsonç›¸å…³ç³»æ•°çš„æ•°æ®äº¦å¯è®¡ç®—Spearmanç›¸å…³ç³»æ•°ï¼Œä½†ç»Ÿè®¡æ•ˆèƒ½è¦ä½ä¸€äº›ã€‚</li>
<li>ç§©æ¬¡ï¼šæ ·æœ¬æ•°æ®æ­£å‘æ’åºåçš„åºå·ï¼ˆä»1å¼€å§‹ï¼‰</li>
</ul>
</li>
<li><p><strong>kendallç›¸å…³ç³»æ•°</strong></p>
<p>è‚¯å¾·å°”ç§©ç›¸å…³ç³»æ•°ä¹Ÿæ˜¯ä¸€ç§ç§©ç›¸å…³ç³»æ•°ï¼Œä½†æ˜¯ä»–æ‰€è®¡ç®—çš„å¯¹è±¡æ˜¯<strong>åˆ†ç±»æœ‰åº/ç­‰çº§</strong>å˜é‡ï¼Œæ¯”å¦‚è€ƒè¯•åæ¬¡ç­‰ã€‚</p>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>å¦‚æœä¸¤ç»„æ’åæ˜¯ç›¸åŒçš„ï¼Œç³»æ•°ä¸º1 ï¼Œä¸¤ä¸ªå±æ€§æ­£ç›¸å…³ã€‚</li>
<li>å¦‚æœä¸¤ç»„æ’åå®Œå…¨ç›¸åï¼Œç³»æ•°ä¸º-1 ï¼Œä¸¤ä¸ªå±æ€§è´Ÿç›¸å…³ã€‚</li>
<li>å¦‚æœä¸¤ç»„æ’åæ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼Œç³»æ•°ä¸º0ã€‚</li>
</ul>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    ä¸¤ä¸¤ç‰¹å¾é—´çš„ç›¸å…³æ€§åˆ†æ</span></span><br><span class="line">f, ax = plt.subplots(figsize=(<span class="number">7</span>,<span class="number">7</span>))</span><br><span class="line">plt.title(<span class="string">'Correlation of Numeric Features with Price'</span>,y=<span class="number">1</span>,size=<span class="number">16</span>)</span><br><span class="line">sns.heatmap(correlation,square=<span class="literal">True</span>,vmax=<span class="number">0.8</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324152822.png" alt></p>
<h6 id="1-4-1-2-æ•°å­—ç‰¹å¾åˆ†å¸ƒå¯è§†åŒ–"><a href="#1-4-1-2-æ•°å­—ç‰¹å¾åˆ†å¸ƒå¯è§†åŒ–" class="headerlink" title="1.4.1.2 æ•°å­—ç‰¹å¾åˆ†å¸ƒå¯è§†åŒ–"></a>1.4.1.2 æ•°å­—ç‰¹å¾åˆ†å¸ƒå¯è§†åŒ–</h6><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">del</span> price_numeric[<span class="string">'price'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#    æŸ¥çœ‹å‡ ä¸ªç‰¹å¾çš„ååº¦å’Œå³°åº¦</span></span><br><span class="line"><span class="keyword">for</span> col <span class="keyword">in</span> numeric_features:</span><br><span class="line">    print(<span class="string">'&#123;:15&#125;'</span>.format(col),</span><br><span class="line">          <span class="string">'Skewness: &#123;:05.2f&#125;'</span>.format(train_data[col].skew()),</span><br><span class="line">          <span class="string">' '</span>,</span><br><span class="line">          <span class="string">'Kurtosis: &#123;:06.2f&#125;'</span>.format(train_data[col].kurt())</span><br><span class="line">         )</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    æ¯ä¸ªæ•°å­—ç‰¹å¾çš„åˆ†å¸ƒå¯è§†åŒ–</span></span><br><span class="line">f = pd.melt(train_data, value_vars=numeric_features)</span><br><span class="line">g = sns.FacetGrid(f, col=<span class="string">'variable'</span>, col_wrap=<span class="number">2</span>, sharex=<span class="literal">False</span>, sharey=<span class="literal">False</span>)</span><br><span class="line">g = g.map(sns.distplot, <span class="string">'value'</span>)</span><br></pre></td></tr></table></figure>

<p>ï¼ˆå›¾å¤ªé•¿äº†ï¼Œç•¥ç•¥ç•¥ï¼‰</p>
<p>æˆ‘ä»¬å¯ä»¥ä»å›¾å¾—å‡ºä¸€äº›ç»“è®ºï¼Œä¾‹å¦‚ä»–åœ¨é‚£å‡ ä¸ªä¸»è¦çš„å€¼åˆ†å¸ƒçš„è¾ƒå¤šï¼ŒåæœŸï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•åšåˆ†ç®±å¤„ç†ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    æ•°å­—ç‰¹å¾ç›¸äº’ä¹‹é—´çš„å…³ç³»å¯è§†åŒ–</span></span><br><span class="line">sns.set()</span><br><span class="line">columns = [<span class="string">'price'</span>, <span class="string">'v_12'</span>,<span class="string">'v_8'</span>,<span class="string">'power'</span>,<span class="string">'v_5'</span>,<span class="string">'v_2'</span>,<span class="string">'v_6'</span>,<span class="string">'v_1'</span>,<span class="string">'v_14'</span>]</span><br><span class="line">sns.pairplot(train_data[columns], size=<span class="number">2</span>, kind=<span class="string">'scatter'</span>, diag_kind=<span class="string">'kde'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324153237.png" alt></p>
<p>æˆ‘ä»¬å¯ä»¥æ ¹æ®ç‰¹å¾ä¹‹é—´çš„ç›¸å…³è¡Œï¼Œè¿›è¡Œç‰¹å¾çš„ç­›é€‰ï¼Œå¦‚æœä¸¤ä¸ªç‰¹å¾å‘ˆç°æ­£ç›¸å…³ï¼Œæˆ‘ä»¬å°±åº”è¯¥åˆ å»ä¸€ä¸ªç‰¹å¾ä»¥ç®€åŒ–æ¨¡å‹ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    å¤šå˜é‡äº’ç›¸å›å½’å…³ç³»å¯è§†åŒ–</span></span><br><span class="line">fig, ((ax1, ax2), (ax3, ax4), (ax5, ax6), (ax7, ax8), (ax9, ax10)) = plt.subplots(nrows=<span class="number">5</span>, ncols=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">v_12_sactter_plot = pd.concat([Y_train, train_data[<span class="string">'v_12'</span>]], axis=<span class="number">1</span>)</span><br><span class="line">sns.regplot(x=<span class="string">'v_12'</span>,y=<span class="string">'price'</span>,data=v_12_sactter_plot, scatter=<span class="literal">True</span>, fit_reg=<span class="literal">True</span>, ax=ax1)</span><br><span class="line"></span><br><span class="line">v_8_sactter_plot = pd.concat([Y_train, train_data[<span class="string">'v_8'</span>]], axis=<span class="number">1</span>)</span><br><span class="line">sns.regplot(x=<span class="string">'v_8'</span>,y=<span class="string">'price'</span>,data=v_8_sactter_plot, scatter=<span class="literal">True</span>, fit_reg=<span class="literal">True</span>, ax=ax2)</span><br><span class="line"></span><br><span class="line">v_0_sactter_plot = pd.concat([Y_train, train_data[<span class="string">'v_0'</span>]], axis=<span class="number">1</span>)</span><br><span class="line">sns.regplot(x=<span class="string">'v_0'</span>,y=<span class="string">'price'</span>,data=v_0_sactter_plot, scatter=<span class="literal">True</span>, fit_reg=<span class="literal">True</span>, ax=ax3)</span><br><span class="line"></span><br><span class="line">power_sactter_plot = pd.concat([Y_train, train_data[<span class="string">'power'</span>]], axis=<span class="number">1</span>)</span><br><span class="line">sns.regplot(x=<span class="string">'power'</span>,y=<span class="string">'price'</span>,data=power_sactter_plot, scatter=<span class="literal">True</span>, fit_reg=<span class="literal">True</span>, ax=ax4)</span><br><span class="line"></span><br><span class="line">v_5_sactter_plot = pd.concat([Y_train, train_data[<span class="string">'v_5'</span>]], axis=<span class="number">1</span>)</span><br><span class="line">sns.regplot(x=<span class="string">'v_5'</span>,y=<span class="string">'price'</span>,data=v_5_sactter_plot, scatter=<span class="literal">True</span>, fit_reg=<span class="literal">True</span>, ax=ax5)</span><br><span class="line"></span><br><span class="line">v_2_sactter_plot = pd.concat([Y_train, train_data[<span class="string">'v_2'</span>]], axis=<span class="number">1</span>)</span><br><span class="line">sns.regplot(x=<span class="string">'v_2'</span>,y=<span class="string">'price'</span>,data=v_2_sactter_plot, scatter=<span class="literal">True</span>, fit_reg=<span class="literal">True</span>, ax=ax6)</span><br><span class="line"></span><br><span class="line">v_6_sactter_plot = pd.concat([Y_train, train_data[<span class="string">'v_6'</span>]], axis=<span class="number">1</span>)</span><br><span class="line">sns.regplot(x=<span class="string">'v_6'</span>,y=<span class="string">'price'</span>,data=v_6_sactter_plot, scatter=<span class="literal">True</span>, fit_reg=<span class="literal">True</span>, ax=ax7)</span><br><span class="line"></span><br><span class="line">v_1_sactter_plot = pd.concat([Y_train, train_data[<span class="string">'v_1'</span>]], axis=<span class="number">1</span>)</span><br><span class="line">sns.regplot(x=<span class="string">'v_1'</span>,y=<span class="string">'price'</span>,data=v_1_sactter_plot, scatter=<span class="literal">True</span>, fit_reg=<span class="literal">True</span>, ax=ax8)</span><br><span class="line"></span><br><span class="line">v_14_sactter_plot = pd.concat([Y_train, train_data[<span class="string">'v_14'</span>]], axis=<span class="number">1</span>)</span><br><span class="line">sns.regplot(x=<span class="string">'v_14'</span>,y=<span class="string">'price'</span>,data=v_14_sactter_plot, scatter=<span class="literal">True</span>, fit_reg=<span class="literal">True</span>, ax=ax9)</span><br><span class="line"></span><br><span class="line">v_13_sactter_plot = pd.concat([Y_train, train_data[<span class="string">'v_13'</span>]], axis=<span class="number">1</span>)</span><br><span class="line">sns.regplot(x=<span class="string">'v_13'</span>,y=<span class="string">'price'</span>,data=v_13_sactter_plot, scatter=<span class="literal">True</span>, fit_reg=<span class="literal">True</span>, ax=ax10)</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324153547.png" alt></p>
<h5 id="1-4-2-ç±»åˆ«ç‰¹å¾åˆ†æ"><a href="#1-4-2-ç±»åˆ«ç‰¹å¾åˆ†æ" class="headerlink" title="1.4.2 ç±»åˆ«ç‰¹å¾åˆ†æ"></a>1.4.2 ç±»åˆ«ç‰¹å¾åˆ†æ</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">## 2) ç±»åˆ«ç‰¹å¾ç®±å½¢å›¾å¯è§†åŒ–</span></span><br><span class="line"><span class="comment"># å› ä¸º nameå’Œ regionCodeçš„ç±»åˆ«å¤ªç¨€ç–äº†ï¼Œè¿™é‡Œæˆ‘ä»¬æŠŠä¸ç¨€ç–çš„å‡ ç±»ç”»ä¸€ä¸‹</span></span><br><span class="line">categorical_features = [<span class="string">'model'</span>, <span class="string">'brand'</span>, <span class="string">'bodyType'</span>, <span class="string">'fuelType'</span>, <span class="string">'gearbox'</span>, <span class="string">'notRepairedDamage'</span>] </span><br><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> categorical_features:    </span><br><span class="line">    train_data[c] = train_data[c].astype(<span class="string">'category'</span>)    </span><br><span class="line">    <span class="keyword">if</span> train_data[c].isnull().any():        </span><br><span class="line">        train_data[c] = train_data[c].cat.add_categories([<span class="string">'MISSING'</span>])        </span><br><span class="line">        train_data[c] = train_data[c].fillna(<span class="string">'MISSING'</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">boxplot</span><span class="params">(x, y, **kwargs)</span>:</span>    </span><br><span class="line">    sns.boxplot(x=x, y=y)    </span><br><span class="line">    x=plt.xticks(rotation=<span class="number">90</span>)</span><br><span class="line">    </span><br><span class="line">f = pd.melt(train_data, id_vars=[<span class="string">'price'</span>], value_vars=categorical_features) </span><br><span class="line">g = sns.FacetGrid(f, col=<span class="string">"variable"</span>,  col_wrap=<span class="number">2</span>, sharex=<span class="literal">False</span>, sharey=<span class="literal">False</span>, size=<span class="number">5</span>) </span><br><span class="line">g = g.map(boxplot, <span class="string">"value"</span>, <span class="string">"price"</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324153957.png" alt></p>
<p><strong>ç®±å‹å›¾</strong>æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯ä¸å—å¼‚å¸¸å€¼çš„å½±å“ï¼Œå¯ä»¥ä»¥ä¸€ç§ç›¸å¯¹ç¨³å®šçš„æ–¹å¼è—è§†æ•°æ®çš„ç¦»æ•£åˆ†å¸ƒæƒ…å†µï¼Œä¹Ÿåˆ©äºæ•°æ®çš„æ¸…æ´—ã€‚</p>
<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324165722.png" alt></p>
<p>ä¸‹å››åˆ†ä½æ•°Q1ã€ä¸­ä½æ•°Q2ã€ä¸Šå››åˆ†ä½æ•°Q3è®¡ç®—æ–¹æ³•ï¼šQiæ‰€åœ¨çš„ä½ç½®=i*(n+1)/4</p>
<p>ä¸Šé™æ˜¯<strong>éå¼‚å¸¸èŒƒå›´</strong>çš„æœ€å¤§å€¼ï¼Œå››åˆ†ä½è·IQR=Q3-Q1,é‚£ä¹ˆä¸Šé™=Q3 + 1.5IQR</p>
<p>ä¸‹é™æ˜¯<strong>éå¼‚å¸¸èŒƒå›´</strong>çš„æœ€å°å€¼ï¼Œä¸‹é™=Q1-1.5IQR</p>
<ol>
<li><p>ç›´è§‚æ˜äº†åœ°è¯†åˆ«æ•°æ®æ‰¹ä¸­çš„<strong>å¼‚å¸¸å€¼</strong></p>
<p>â€‹    ç®±çº¿å›¾åˆ¤æ–­å¼‚å¸¸å€¼çš„æ ‡å‡†ä»¥å››åˆ†ä½æ•°å’Œå››åˆ†ä½è·ä¸ºåŸºç¡€ï¼Œå››åˆ†ä½æ•°å…·æœ‰ä¸€å®šçš„<strong>è€æŠ—æ€§</strong>ï¼Œå°±æ˜¯å¤šå¤§25%çš„æ•°æ®å¯ä»¥å˜çš„ä»»æ„å…ƒè€Œä¸ä¼šå¾ˆå¤§åœ°æ‰°åŠ¨å››åˆ†ä½æ•°ï¼Œæ‰€ä»¥å¼‚å¸¸å€¼ä¸ä¼šå½±å“ç®±å‹å›¾åœ°æ•°æ®å½¢çŠ¶ã€‚</p>
</li>
<li><p>åˆ©ç”¨ç®±çº¿å›¾åˆ¤æ–­æ•°æ®é›†åœ°<strong>åæ€</strong>å’Œ<strong>å°¾é‡</strong></p>
<p>â€‹    å¼‚å¸¸å€¼è¶Šå¤šè¯´æ˜å°¾éƒ¨è¶Šé‡ï¼Œè‡ªç”±åº¦è¶Šå°ã€‚</p>
<p>â€‹    åæ€è¡¨ç¤ºåç¦»ç¨‹åº¦ï¼Œå¼‚å¸¸å€¼é›†ä¸­åœ¨è¾ƒå°å€¼ä¸€ä¾§ï¼Œåˆ™åˆ†å¸ƒå‘ˆå·¦åæ€ï¼›å¼‚å¸¸å€¼é›†ä¸­åœ¨è¾ƒå¤§å€¼ä¸€ä¾§ï¼Œåˆ™åˆ†å¸ƒ å‘ˆğŸ‘‰åæ€ã€‚</p>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    ç±»åˆ«ç‰¹å¾çš„å°æç´å›¾å¯è§†åŒ–</span></span><br><span class="line">catg_list = categorical_features</span><br><span class="line">target = <span class="string">'price'</span></span><br><span class="line"><span class="keyword">for</span> catg <span class="keyword">in</span> catg_list:</span><br><span class="line">    sns.violinplot(x=catg, y=target, data=train_data)</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324154057.png" alt></p>
<p><strong>å°æç´å›¾</strong>ç”¨æ¥å±•ç¤ºç±»åˆ«å˜é‡åœ°å€¼åœ°åˆ†å¸ƒæƒ…å†µï¼Œå®½çš„åœ°æ–¹æ•°æ®åˆ†å¸ƒå¤šã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    ç±»åˆ«ç‰¹å¾çš„æŸ±å½¢å›¾å¯è§†åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar_plot</span><span class="params">(x,y,**kwargs)</span>:</span></span><br><span class="line">    sns.barplot(x=x,y=y)</span><br><span class="line">    x=plt.xticks(rotation=<span class="number">90</span>)</span><br><span class="line">    </span><br><span class="line">f = pd.melt(train_data, id_vars=[<span class="string">'price'</span>], value_vars=categorical_features)</span><br><span class="line">g = sns.FacetGrid(f, col=<span class="string">'variable'</span>, col_wrap=<span class="number">2</span>, sharex=<span class="literal">False</span>, sharey=<span class="literal">False</span>, size=<span class="number">5</span>)</span><br><span class="line">g = g.map(bar_plot, <span class="string">'value'</span>, <span class="string">'price'</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324171735.png" alt></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#    ç±»åˆ«ç‰¹å¾çš„æ¯ä¸ªç±»åˆ«é¢‘æ•°å¯è§†åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count_plot</span><span class="params">(x, **kwargs)</span>:</span></span><br><span class="line">    sns.countplot(x=x)</span><br><span class="line">    x=plt.xticks(rotation=<span class="number">90</span>)</span><br><span class="line">    </span><br><span class="line">f = pd.melt(train_data, value_vars=categorical_features)</span><br><span class="line">g = sns.FacetGrid(f, col=<span class="string">'variable'</span>, col_wrap=<span class="number">2</span>, sharex=<span class="literal">False</span>, sharey=<span class="literal">False</span>, size=<span class="number">5</span>)</span><br><span class="line">g = g.map(count_plot, <span class="string">'value'</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/20200324171808.png" alt></p>
<hr>
]]></content>
      <categories>
        <category>æ•°æ®æŒ–æ˜</category>
      </categories>
      <tags>
        <tag>æ•°æ®æŒ–æ˜</tag>
        <tag>æ•°æ®æ¢ç´¢</tag>
        <tag>EDA</tag>
      </tags>
  </entry>
  <entry>
    <title>è¿œç¨‹ç™»å½•Oracleæ•°æ®åº“æŠ¥ORA12368:èº«ä»½è¯æ˜æ£€ç´¢å¤±è´¥</title>
    <url>/2019/10/31/%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95Oracle%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%A5ORA12368-%E8%BA%AB%E4%BB%BD%E8%AF%81%E6%98%8E%E6%A3%80%E7%B4%A2%E5%A4%B1%E8%B4%A5/</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2019/10/31/SKHNp6LaMGIE2oB.jpg" alt></p>
<a id="more"></a>

<p>â€‹    ä¹‹å‰éƒ½æ˜¯è¿æ¥çš„æœ¬åœ°çš„oracleæ•°æ®åº“ï¼Œå…¨éƒ¨æ•°æ®æµ‹è¯•å®Œæ¯•åï¼Œæ‰“ç®—è¿æ¥æœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“æ—¶å‡ºç°æŠ¥é”™<strong>ORA12368ï¼šèº«ä»½è¯æ˜æ£€ç´¢å¤±è´¥</strong>ã€‚</p>
<p>â€‹    <strong>è§£å†³æ–¹æ³•ï¼š</strong></p>
<p>â€‹        æ‰¾åˆ°<strong>æœ¬åœ°</strong>å®‰è£…çš„oracleçš„å®¢æˆ·ç«¯æ•°æ®çš„å®‰è£…ç›®å½•ï¼Œä¾‹å¦‚æˆ‘çš„æ˜¯<strong>H:\oracleDatabase\oracleRoot\product\11.2.0\dbhome_1\NETWORK\ADMIN</strong>æ‰“å¼€æ–‡ä»¶<strong>sqlnet.ora</strong>ã€‚</p>
<pre><code>1. å°†`SQLNET.AUTHENTICATION_SERVICES= (NTS)`æ³¨é‡Šæ‰`#SQLNET.AUTHENTICATION_SERVICES= (NTS)`ã€‚
  2. å°†`SQLNET.AUTHENTICATION_SERVICES= (NTS)`ä¿®æ”¹ä¸º`SQLNET.AUTHENTICATION_SERVICES= (BEQ,NONE)`ã€‚</code></pre>]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>Oracle</tag>
        <tag>æœåŠ¡å™¨</tag>
      </tags>
  </entry>
  <entry>
    <title>å±€åŸŸç½‘æ—¶é’ŸåŒæ­¥PTPåè®®ç®€ä»‹</title>
    <url>/2019/10/28/%E5%B1%80%E5%9F%9F%E7%BD%91%E6%97%B6%E9%92%9F%E5%90%8C%E6%AD%A5PTP%E5%8D%8F%E8%AE%AE%E7%AE%80%E4%BB%8B/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/5b2c772f345ce21897fe5ec9ae348267_hd.jpg" alt></p>
<a id="more"></a>

<h3 id="IEEE1588-PTP-åè®®ç®€ä»‹"><a href="#IEEE1588-PTP-åè®®ç®€ä»‹" class="headerlink" title="IEEE1588(PTP)åè®®ç®€ä»‹"></a>IEEE1588(PTP)åè®®ç®€ä»‹</h3><p>â€‹    IEEE1588åè®®ï¼Œç§°ä½œPTP(precise time protocol,  ç²¾ç¡®æ—¶é—´åè®®)ï¼Œ2002å¹´å‘å¸ƒversion1ï¼Œ2008å¹´å‘å¸ƒversion2ã€‚å³å¯ä»¥ç”¨<strong>ç¡¬ä»¶</strong>å®ç°ï¼Œä¹Ÿå¯ä»¥ç”¨<strong>è½¯ä»¶</strong>å®ç°ã€‚å½“é‡‡ç”¨ç¡¬ä»¶å®ç°æ—¶å¯ä»¥è¾¾åˆ°nsçº§çš„ç²¾åº¦ï¼Œé‡‡ç”¨è½¯ä»¶å®ç°æ—¶é€šå¸¸å¯ä»¥è¾¾åˆ°msçº§ç²¾åº¦ã€‚å½“åœ¨ç½‘ç»œä¸­é‡‡ç”¨è½¯ä»¶å®ç°<em>äºšæ¯«ç§’</em>çš„ç²¾åº¦æ—¶ï¼Œå­˜åœ¨å¤šç§å› ç´ çš„ å½±å“ä¼šé€ æˆæ—¶é—´åŒæ­¥çš„ä¸å¯é ã€‚ä¾‹å¦‚ï¼š<strong>ç½‘ç»œçš„ä¸å¹³ç¨³æ€§</strong>ã€<strong>ç½‘å¡å¯¹ä¿¡æ¯åŒ…çš„ç¼“å­˜æ•ˆåº”</strong>ã€<strong>æ“ä½œç³»ç»Ÿè¿›ç¨‹è°ƒåº¦çš„å½±å“</strong>ã€‚</p>
<p>â€‹    IEEE1588v2åè®®æå‡ºçš„åŒæ­¥åŸç†<strong>Delay Request-Response Mechanismï¼ˆå»¶æ—¶å“åº”æœºåˆ¶ï¼‰</strong>å¦‚å›¾1æ‰€ç¤ºã€‚</p>
<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/PTP%E5%8D%8F%E8%AE%AE%E5%BB%B6%E8%BF%9F%E5%93%8D%E5%BA%94%E6%9C%BA%E5%88%B6.png" alt="å›¾1 PTPåè®®å»¶è¿Ÿå“åº”æœºåˆ¶"></p>
<p>â€‹                                        <strong>å›¾1 PTPåè®®å»¶è¿Ÿå“åº”æœºåˆ¶</strong></p>
<p>å›¾ä¸­æ‰€æè¿°çš„PTPæŠ¥æ–‡ä¸ºä¸€ä¸‹å‡ ç§ï¼š</p>
<ul>
<li><strong>sync åŒæ­¥æŠ¥æ–‡</strong></li>
<li><strong>Follow_up è·ŸéšæŠ¥æ–‡</strong></li>
<li><strong>Delay_req å»¶è¿Ÿè¯·æ±‚æŠ¥æ–‡</strong></li>
<li><strong>Delay_resp å»¶è¿Ÿè¯·æ±‚å“åº”æŠ¥æ–‡</strong></li>
</ul>
<p><strong>å»¶è¿Ÿç›¸åº”åŒæ­¥æœºåˆ¶</strong>çš„æŠ¥æ–‡æ”¶å‘æµç¨‹ï¼š</p>
<ol>
<li><p>ä¸»æ—¶é’Ÿ<strong>å‘¨æœŸæ€§</strong>çš„å‘å‡º<strong>sync</strong>æŠ¥æ–‡ï¼Œå¹¶è®°å½•ä¸‹<strong>sync</strong>æŠ¥æ–‡ç¦»å¼€ä¸»æ—¶é’Ÿçš„ç²¾ç¡®å‘é€æ—¶é—´<strong>t1</strong>ã€‚</p>
<p>ï¼ˆå¦‚æœsyncåœ¨æ­¤æ—¶æºå¸¦å‘é€æ—¶é—´ï¼Œè¿™ä¸ªå‘é€æ—¶é—´å¹¶ä¸æ˜¯ç²¾ç¡®çš„ï¼Œæ˜¯é¢„ä¼°çš„ï¼Œåœ¨ä¸è¦æ±‚ç²¾åº¦çš„æƒ…å†µä¸‹å…è®¸è¿™ä¹ˆåšï¼Œç§°ä¸ºå•æ­¥åŒæ­¥ï¼‰</p>
</li>
<li><p>ä¸»æ—¶é’Ÿå°†ç²¾ç¡®å‘é€æ—¶é—´<strong>t1</strong>å°è£…åˆ°<strong>Follow_up</strong>æŠ¥æ–‡ä¸­ï¼Œå‘é€ç»™ä»æ—¶é’Ÿã€‚</p>
</li>
<li><p>ä»æ—¶é’Ÿè®°å½•<strong>sync</strong>æŠ¥æ–‡åˆ°è¾¾ä»æ—¶é’Ÿçš„æ—¶é—´<strong>t2</strong>ã€‚</p>
</li>
<li><p>ä»æ—¶é’Ÿå‘å‡º<strong>Delay_req</strong>æŠ¥æ–‡å¹¶ä¸”è®°å½•ä¸‹å‘å‡ºçš„æ—¶é—´<strong>t3</strong>ã€‚</p>
</li>
<li><p>ä¸»æ—¶é’Ÿè®°å½•ä¸‹<strong>Delay_req</strong>æŠ¥æ–‡åˆ°è¾¾ä¸»æ—¶é’Ÿçš„ç²¾ç¡®æ—¶é—´<strong>t4</strong>ã€‚</p>
</li>
<li><p>ä¸»æ—¶é’Ÿå°†<strong>t4</strong>å°è£…åˆ°<strong>Delay_resp</strong>æŠ¥æ–‡ç»™ä»æ—¶é’Ÿã€‚</p>
</li>
</ol>
<p>ä¸»ä»æ—¶é’Ÿçš„å·®å¼‚ä¸»è¦æ˜¯ç”±æ—¶é’Ÿåå·®å’Œæ•°æ®åŒ…åœ¨ç½‘ç»œä¸­ä¼ è¾“çš„å»¶è¿Ÿæ„æˆã€‚</p>
<p><strong>æ—¶é’Ÿåå·®&amp;ç½‘ç»œå»¶æ—¶</strong></p>
<p>â€‹    <strong>offset</strong>ï¼šä¸»ä»æ—¶é’Ÿçš„æ—¶é—´åå·®ï¼›<strong>delay</strong>ï¼šç½‘ç»œå»¶æ—¶ï¼ˆæŠ¥æ–‡åœ¨ç½‘ç»œä¸­ä¼ è¾“çš„å»¶æ—¶ï¼‰</p>
<p>â€‹    ç»è¿‡å»¶è¿Ÿå“åº”åŒæ­¥æœºåˆ¶åï¼Œä»æ—¶é’Ÿè·å¾—<strong>t1,t2,t3,t4</strong>å››ä¸ªç²¾ç¡®çš„æ—¶é—´æˆ³ï¼Œå¯ä»¥æ®æ­¤è®¡ç®—<strong>offset</strong>å’Œ<strong>delay</strong>ï¼š</p>
<p><img src="https://raw.githubusercontent.com/xutianyun1/cloudimage/master/img/%E6%97%B6%E9%92%9F%E5%81%8F%E5%B7%AE%E5%92%8C%E7%BD%91%E7%BB%9C%E5%BB%B6%E6%97%B6%E7%9A%84%E8%AE%A1%E7%AE%97%E5%85%AC%E5%BC%8F.png" alt></p>
<p>â€‹    åœ¨ä»æ—¶é’Ÿä¸­è®¡ç®—å¾—åˆ°<strong>offset</strong>å’Œ<strong>delay</strong>ï¼Œç”¨<strong>current_time</strong>è¡¨ç¤ºä»æ—¶é’Ÿçš„å½“å‰æ—¶é—´ï¼Œé‚£ä¹ˆåŒæ­¥å…¬å¼ä¸ºï¼š</p>
<p>â€‹    <strong>current_time = current_time - offset - delay</strong></p>
<hr>
<p><strong>å‚è€ƒ</strong>ï¼š<a href="https://www.cnblogs.com/AdaminXie/p/6754644.html" target="_blank" rel="noopener">https://www.cnblogs.com/AdaminXie/p/6754644.html</a></p>
]]></content>
      <categories>
        <category>è½¦è”ç½‘</category>
      </categories>
      <tags>
        <tag>æ—¶é’ŸåŒæ­¥</tag>
        <tag>IEEE1588v2</tag>
      </tags>
  </entry>
  <entry>
    <title>æœ€é•¿å›æ–‡å­ä¸²ï¼ˆé©¬æ‹‰è½¦ç®—æ³•ï¼‰</title>
    <url>/2019/08/27/%E6%9C%80%E9%95%BF%E5%9B%9E%E6%96%87%E5%AD%90%E4%B8%B2/</url>
    <content><![CDATA[<p>ï»¿æœ€é•¿å›æ–‡å­ä¸²ï¼Œå³æ­£åè¯»èµ·æ¥éƒ½ä¸€æ ·ï¼Œä¾‹å¦‚â€œababaâ€ã€‚Manacher Algorithmç®—æ³•åˆ©ç”¨äº†å›æ–‡çš„é‡å¤ç‰¹æ€§ï¼Œè®©æ—¶é—´å¤æ‚åº¦é™ä¸ºäº†O(n)ã€‚</p>
<a id="more"></a>

<p>é©¬æ‹‰è½¦ç®—æ³•è¯¦è§£ï¼š</p>
<ol>
<li>æ”¹é€ å­—ç¬¦ä¸²ï¼Œåœ¨ä¸­å¿ƒæ‰©å±•æ³•ä¸­ï¼Œè¦æ±‚åŒºåˆ†å­—ç¬¦ä¸²é•¿åº¦ä¸ºå¥‡æ•°æˆ–å¶æ•°çš„æƒ…å†µï¼Œæˆ‘ä»¬è¿™é‡Œå¯¹å­—ç¬¦ä¸²è¿›è¡Œç®€å•çš„æ”¹é€ ï¼Œè®©å­—ç¬¦ä¸²å˜æˆå¥‡æ•°ä¾¿äºå¤„ç†ã€‚ä¾‹ï¼šâ€œababadâ€ â€”-&gt;â€œa#b#a#b#a#dâ€ã€‚ä¸ºäº†åœ¨æ£€æµ‹å›æ–‡å­ä¸²çš„æ—¶å€™é¿å…åˆ¤æ–­è¶Šç•Œï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¼€å¤´å’Œç»“æŸæ·»åŠ ä¸¤ä¸ªä¸åŒçš„å­—ç¬¦â€”-&gt;â€$a#b#a#b#a#d^â€ï¼ˆä¹Ÿä¸å¯ä¸åšè¿™ä¸€æ­¥ï¼Œå¦‚æœä¸åœ¨å¼€å¤´å’Œç»“æŸæ·»åŠ ä¸¤ä¸ªä¸åŒçš„å­—ç¬¦çš„è¯ï¼Œå°±éœ€è¦åœ¨æ£€æµ‹å›æ–‡å­ä¸²çš„æ—¶å€™æ£€æµ‹å¼€å¤´å’Œç»“å°¾ï¼‰ </li>
<li>ä¸ºäº†èƒ½å¤Ÿå……åˆ†åˆ©ç”¨å›æ–‡å­ä¸²çš„é‡å¤æ€§è´¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—ç¬¦çš„å›æ–‡åŠå¾„å­˜å¦‚ä¸€ä¸ªæ•°ç»„Pä¸­</li>
<li>è¿™æ ·å°±å°†é—®é¢˜è½¬æ¢ä¸ºäº†æ±‚æ•°ç»„Pä¸­çš„æœ€å¤§å€¼æ‰€åœ¨çš„ä¸‹æ ‡å’Œå€¼ã€‚ä½†åœ¨å®é™…æ“ä½œä¸­æˆ‘ä»¬å¹¶ä¸è¿™æ ·åšï¼Œæ˜¯åŠ¨æ€çš„å¯»ç€æ•°ç»„Pçš„æœ€å¤§å€¼ï¼Œå³ä¸€è¾¹å†™å…¥ä¸€è¾¹æ£€æµ‹ï¼Œè€Œä¸æ˜¯ç­‰æ•°ç»„På¡«å……å®Œæ¯•åå†å»å¯»æ‰¾æ•°ç»„Pçš„æœ€å¤§å€¼ã€‚å› ä¸ºå­—ç¬¦ä¸²â€a#aâ€å’Œâ€#a#â€è™½ç„¶ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²çš„â€#â€å’Œç¬¬äºŒä¸ªå­—ç¬¦ä¸²çš„â€aâ€çš„å›æ–‡åŠå¾„æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯ï¼Œæ˜¾è€Œæ˜“è§ï¼Œåœ¨å»æ‰â€#â€å ä¸€ä¸ªæ˜¯â€aaâ€ï¼Œä¸€ä¸ªæ˜¯â€aâ€ã€‚</li>
<li>å…³äºå¦‚ä½•å¡«å……æ•°ç»„P<pre><code>å…ˆè®¾ç½®ä¸¤ä¸ªå˜é‡ï¼Œé©¬æ‹‰è½¦ç®—æ³•å°±æ˜¯åœ¨åŠ¨æ€çš„æ›´æ–°è¿™ä¸¤ä¸ªå˜é‡ã€‚
centerï¼šæ˜¯æœ€å¤§å›æ–‡å­ä¸²çš„ä¸­å¿ƒä½ç½®
mx_rightï¼šæ˜¯æœ€å¤§å›æ–‡å­ä¸²æ‰€èƒ½è¦†ç›–çš„æœ€å³ç«¯çš„ä½ç½®ã€‚
å…±åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š
å½“ i &lt; mx_rightæ—¶ï¼šå³iä½äºç›®å‰çš„æœ€å¤§å›æ–‡å­ä¸²max_strä¸­ã€‚é‚£ä¹ˆæˆ‘ä»¬æ ¹æ®å›æ–‡çš„é‡å¤ç‰¹æ€§ï¼Œå–æ£€æŸ¥j = 2 * center - i(jä¸ºiä»¥centerä¸ºä¸­å¿ƒçš„å¯¹ç§°ç‚¹)ã€‚å¦‚æœP[j] &lt; mx_right - i è¯´æ˜ä»¥jä¸ºä¸­å¿ƒçš„å›æ–‡å­ä¸²ä¾ç„¶ä½äºç›®å‰çš„æœ€å¤§å›æ–‡å­ä¸²max_strï¼Œå¾ˆå…·é‡å¤ç‰¹æ€§å¯ä»¥çŸ¥é“æ­¤æ—¶P[i] == p[j]ã€‚å¦‚æœP[j] &gt;= mx_right - i,æ­¤æ—¶åªèƒ½ä¿è¯åˆ°içš„å›æ–‡å­ä¸²åˆ°mx_rightè¿™ä½ç½®æ˜¯ä¾ç„¶æ»¡è¶³çš„ï¼Œè¿™é‡Œåˆ«æ— ä»–æ³•ï¼Œåªèƒ½æš´åŠ›å–åŒ¹é…mx_rightå¤–é¢çš„ï¼Œç›´åˆ°å¤±é…ï¼Œç„¶ååœ¨æ ¹æ®å¤§å°åˆ¤æ–­æ˜¯å¦æ›´æ–°æœ€å¤§å›æ–‡å­ä¸²max_str
å½“i &gt;= mx_rightæ—¶ï¼šæ­¤æ—¶ä¸èƒ½å……åˆ†åˆ©ç”¨å›æ–‡å­ä¸²çš„é‡å¤ç‰¹æ€§ï¼Œåªèƒ½æš´åŠ›åŒ¹é…ã€‚</code></pre></li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">longestPainromedon</span><span class="params">(s:str)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> len(s) &lt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> s</span><br><span class="line">    new_str = <span class="string">'$'</span> + <span class="string">'#'</span>.join(s) + <span class="string">'^'</span>		<span class="comment">#é¿å…åˆ¤æ–­è¶Šç•Œ</span></span><br><span class="line">    center = <span class="number">1</span>					<span class="comment">#æœ€é•¿å›æ–‡å­ä¸²ä¸­å¿ƒä½ç½®</span></span><br><span class="line">    mx_right = <span class="number">1</span>				<span class="comment">#æœ€é•¿å›æ–‡å­ä¸²æœ€å³é¢è¦†ç›–çš„ä½ç½®</span></span><br><span class="line">    max_str = new_str[<span class="number">1</span>]			<span class="comment">#æœ€é•¿å›æ–‡å­ä¸²</span></span><br><span class="line">    p = [<span class="number">0</span>]*len(new_str)			<span class="comment">#å›æ–‡å­ä¸²åŠå¾„è¡¨åˆ—</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len(new_str)<span class="number">-1</span>):</span><br><span class="line"></span><br><span class="line">        j = <span class="number">2</span>*center - i</span><br><span class="line">        <span class="keyword">if</span> i &lt; mx_right:</span><br><span class="line">            <span class="keyword">if</span> p[j] &lt; mx_right - i:</span><br><span class="line">                p[i] = p[j]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                k = mx_right+<span class="number">1</span></span><br><span class="line">                <span class="keyword">while</span> new_str[k] == new_str[<span class="number">2</span>*i - k]:</span><br><span class="line">                    k += <span class="number">1</span></span><br><span class="line">                k -= <span class="number">1</span></span><br><span class="line">                p[i] =  k - i</span><br><span class="line">                cur_str = new_str[i - p[i]:i + p[i] + <span class="number">1</span>].replace(<span class="string">'#'</span>, <span class="string">''</span>)</span><br><span class="line">                <span class="keyword">if</span> len(cur_str) &gt; len(max_str):</span><br><span class="line">                    max_str = cur_str</span><br><span class="line">                    center, mx_right = i, k</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            k = <span class="number">0</span></span><br><span class="line">            <span class="keyword">while</span> new_str[i - k - <span class="number">1</span>] == new_str[i + k + <span class="number">1</span>]:</span><br><span class="line">                k += <span class="number">1</span></span><br><span class="line">            p[i] = k</span><br><span class="line">            cur_str = new_str[i - p[i]:i+p[i] + <span class="number">1</span>].replace(<span class="string">'#'</span>, <span class="string">''</span>)</span><br><span class="line">            <span class="keyword">if</span> len(cur_str) &gt; len(max_str):</span><br><span class="line">                max_str = cur_str</span><br><span class="line">                center, mx_right = i, k + i</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> max_str</span><br></pre></td></tr></table></figure>

<p>ä»£ç å¦‚ä¸Šï¼Œæ­¤ä»£ç æ—¶å®Œå…¨ç…§ç®—æ³•æ¥çš„ï¼Œå…¶ä»–çš„åšå®¢çš„ä»£ç æˆ‘æƒ³åº”è¯¥æ˜¯æœ‰æ‰€ä¼˜åŒ–ï¼Œå¯¼è‡´æˆ‘ä¸€å¼€å§‹æœ‰ç‚¹æ‡µã€‚</p>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ã€å­—ç¬¦ä¸²ã€å›æ–‡å­ä¸²</tag>
      </tags>
  </entry>
  <entry>
    <title>pythonæ¯”è¾ƒæ—¶é—´</title>
    <url>/2019/08/11/python%E6%AF%94%E8%BE%83%E6%97%B6%E9%97%B4%20(1)/</url>
    <content><![CDATA[<p>ä»Šå¤©åœ¨å†™çˆ¬è™«çš„æ—¶å€™ï¼Œé‡åˆ°äº†éœ€è¦æŠŠä»ç½‘é¡µä¸Šçˆ¬å–ä¸‹æ¥çš„æ—¶é—´è¿›è¡Œæ¯”è¾ƒï¼Œæ‰€ä»¥é‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œå¦‚ä½•æ¯”è¾ƒæ—¶é—´ï¼Œæˆ‘ä¸€å¼€å§‹æ˜¯æ‰“ç®—æŠŠå®ƒè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åè‡ªå·±æ’¸ä¸€ä¸ªç®—æ³•è¿›è¡Œè¯¸ä½æ¯”è¾ƒã€‚åæ¥çŸ¥é“å¯ä»¥å°†å…¶è½¬ä¸ºdatetimeæ ¼å¼ï¼Œå°±å¯ä»¥è¿›è¡Œæ¯”è¾ƒäº†ï¼Œè€Œä¸”è¿˜å¯ä»¥åšå‡æ³•æ±‚ä¸¤ä¸ªæ—¶é—´ç‚¹çš„æ—¶é—´é—´éš”ï¼Œæ— æ•Œï¼ï¼</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line">st = <span class="string">'13:10'</span></span><br><span class="line">time = datetime.datetime.strptime(st, <span class="string">"%Y-%m-%d %H:%M:%S"</span>)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>æ¯”è¾ƒæ—¶é—´</tag>
      </tags>
  </entry>
  <entry>
    <title>ç‹¬çƒ­ç¼–ç --One-Hot Encoding</title>
    <url>/2019/06/01/%E7%8B%AC%E7%83%AD%E7%BC%96%E7%A0%81%E2%80%94%E2%80%94One-Hot%20Encoding%20(2)/</url>
    <content><![CDATA[<p>ï»¿ - One-Hot Encodingä»‹ç»<br>         åˆç§°ä¸ºä¸€ä½æœ‰æ•ˆç¼–ç ï¼Œç”¨Nä½çŠ¶æ€å¯„å­˜å™¨æ¥å¯¹Nä¸ªçŠ¶æ€è¿›è¡Œç¼–ç ï¼Œæ¯ä¸ªçŠ¶æ€éƒ½ç”±ç‹¬ç«‹çš„å¯„å­˜å™¨è¡¨ç¤ºï¼Œå…¶ä¸­åªæœ‰ä¸€ä½æœ‰æ•ˆã€‚<br>         å¯¹äº1ï¼Œ 2ï¼Œ 3ï¼Œç»è¿‡ç‹¬çƒ­ç¼–ç åä¸º001ï¼Œ010ï¼Œ100</p>
<ul>
<li>åº”ç”¨<br> å¯¹äºæœ‰äº›ç‰¹å¾å˜é‡å¯èƒ½æ˜¯å±æ€§å˜é‡ï¼Œ<br> å¦‚colorï¼š[â€˜redâ€™,â€™blueâ€™,â€™greenâ€™]<br>æˆ‘ä»¬å°±è¦æŠŠè¿™ä¸ªcolorç‰¹å¾å˜é‡ç¼–ç ä¸ºæ•°å­—ã€‚æˆ‘ä»¬å¯ç¼–ç ä¸º[1,2,3]ã€‚ä½†æ˜¯è¿™æ ·çš„ç¼–ç å¹¶ä¸èƒ½ç›´æ¥åº”ç”¨äºæˆ‘ä»¬çš„åˆ†ç±»å™¨ä¸­ï¼Œå› ä¸ºåˆ†ç±»å™¨å¾€å¾€é»˜è®¤ç‰¹å¾å˜é‡æ•°æ®æ˜¯è¿ç»­çš„ï¼ˆå¯ä»¥è®¡ç®—è·ç¦»çš„ï¼‰ã€æœ‰åºçš„ï¼ˆ3&gt;2&gt;1ï¼‰ã€‚ä½†æ˜¯æŒ‰ç…§æˆ‘ä»¬çš„å¸¸è¯†ï¼Œå¦‚æœåƒè¿™æ ·ç¼–ç æ˜¾ç„¶æ˜¯ä¸åˆç†çš„ï¼Œå› ä¸ºä¸ºâ€˜redâ€™ã€â€˜blueâ€™ã€â€˜greenâ€™å¹¶æ²¡æœ‰ä»€ä¹ˆè”ç³»ï¼Œæ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚<br> å› æ­¤æˆ‘ä»¬å°±è¦ä½¿ç”¨ç‹¬çƒ­ç¼–ç æ¥é¿å…å‡ºç°è¿™ç§æƒ…å†µã€‚</li>
</ul>
]]></content>
      <categories>
        <category>ML</category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
        <tag>ç¼–ç </tag>
      </tags>
  </entry>
  <entry>
    <title>å´æ©è¾¾ã€Šæœºå™¨å­¦ä¹ ã€‹â€”â€”ç¬¬ä¸ƒæ¬¡ä½œä¸šï¼šk-meansç®—æ³•</title>
    <url>/2019/06/01/%E5%90%B4%E6%81%A9%E8%BE%BE%E3%80%8A%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E3%80%8B%E2%80%94%E2%80%94%E7%AC%AC%E4%B8%83%E6%AC%A1%E4%BD%9C%E4%B8%9A%EF%BC%9Ak-means%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<ol>
<li><p>2D-kmeansç®—æ³•</p>
<a id="more"></a>


</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sb</span><br><span class="line"><span class="keyword">from</span> scipy.io <span class="keyword">import</span> loadmat</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_closet_centroids</span><span class="params">(X, centroids)</span>:</span></span><br><span class="line">    <span class="string">'''å°†æ¯ä¸ªç‰¹å¾è®¡ç®—å±äºé‚£ä¸ªç‰¹å¾'''</span></span><br><span class="line">    m = X.shape[<span class="number">0</span>]</span><br><span class="line">    k = centroids.shape[<span class="number">0</span>]</span><br><span class="line">    idx = np.zeros(m)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line"></span><br><span class="line">        min_dist = <span class="number">1000000</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(k):</span><br><span class="line"></span><br><span class="line">            dist = np.sum((X[i, :] - centroids[j, :]) ** <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">if</span> dist &lt; min_dist:</span><br><span class="line">                min_dist = dist</span><br><span class="line">                idx[i] = j</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> idx</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compute_centroids</span><span class="params">(X, idx, k)</span>:</span></span><br><span class="line">    <span class="string">'''æ›´æ–°èšç±»ä¸­å¿ƒ'''</span></span><br><span class="line">    m, n = X.shape</span><br><span class="line">    centroids = np.zeros((k, n))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(k):</span><br><span class="line"></span><br><span class="line">        indices = np.where(idx == i)</span><br><span class="line">        centroids[i, :] = (np.sum(X[indices, :], axis=<span class="number">1</span>) / len(indices[<span class="number">0</span>])).ravel()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> centroids</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run_one_kmeans</span><span class="params">(X, initial_centroids, max_iters)</span>:</span></span><br><span class="line">    <span class="string">'''è¿è¡Œk-meanså‡å€¼ç®—æ³•è¿›è¡Œèšç±»'''</span></span><br><span class="line">    m, n = X.shape</span><br><span class="line">    k = initial_centroids.shape[<span class="number">0</span>]</span><br><span class="line">    idx = np.zeros(m)</span><br><span class="line">    centroids = initial_centroids</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(max_iters):</span><br><span class="line">        idx = find_closet_centroids(X, centroids)</span><br><span class="line">        centroids = compute_centroids(X, idx, k)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> idx, centroids</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">init_centroids</span><span class="params">(X, k)</span>:</span></span><br><span class="line">    <span class="string">'''éšæœºåˆå§‹åŒ–èšç±»ä¸­å¿ƒ'''</span></span><br><span class="line">    m, n = X.shape</span><br><span class="line">    centroids = np.zeros((k, n))</span><br><span class="line">    idx = np.random.randint(<span class="number">0</span>, m, k)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(k):</span><br><span class="line">        centroids[i, :] = X[idx[i], :]</span><br><span class="line">    <span class="keyword">return</span> centroids</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run_all_kmeans</span><span class="params">(X, k, n_init, max_iter)</span>:</span></span><br><span class="line">    <span class="string">'''kmeansç®—æ³•'''</span></span><br><span class="line">    min_dist = <span class="number">1000000</span></span><br><span class="line">    m, n = X.shape</span><br><span class="line">    result_centroids = np.zeros((k, n))</span><br><span class="line">    result_idx = np.zeros(m)</span><br><span class="line">    cnt = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n_init):</span><br><span class="line">        initial_centroids = init_centroids(X, k)        <span class="comment">#</span></span><br><span class="line">        <span class="comment">#print(initial_centroids)</span></span><br><span class="line">        idx, centroids = run_one_kmeans(X, initial_centroids, max_iter)</span><br><span class="line">        dist = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(m):</span><br><span class="line">            dist += np.sum((X[j, :] - centroids[int(idx[j]), :]) ** <span class="number">2</span>) / len(X)</span><br><span class="line">        <span class="keyword">if</span> dist &lt; min_dist:</span><br><span class="line">            min_dist = dist</span><br><span class="line">            result_idx = idx</span><br><span class="line">            result_centroids = centroids</span><br><span class="line">            cnt = i</span><br><span class="line">    <span class="comment">#print(cnt)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result_idx, result_centroids</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">data = loadmat(<span class="string">'data/ex7data2.mat'</span>)</span><br><span class="line">X = data[<span class="string">'X'</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">idx, centroids = run_all_kmeans(X, <span class="number">3</span>, <span class="number">30</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">cluster1 = X[np.where(idx == <span class="number">0</span>)[<span class="number">0</span>], :]</span><br><span class="line">cluster2 = X[np.where(idx == <span class="number">1</span>)[<span class="number">0</span>], :]</span><br><span class="line">cluster3 = X[np.where(idx == <span class="number">2</span>)[<span class="number">0</span>], :]</span><br><span class="line"></span><br><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">12</span>, <span class="number">8</span>))</span><br><span class="line">ax.scatter(cluster1[:, <span class="number">0</span>], cluster1[:, <span class="number">1</span>], s=<span class="number">30</span>, color=<span class="string">'r'</span>, label=<span class="string">'Cluster 1'</span>)</span><br><span class="line">ax.scatter(cluster2[:, <span class="number">0</span>], cluster2[:, <span class="number">1</span>], s=<span class="number">30</span>, color=<span class="string">'g'</span>, label=<span class="string">'Cluster 2'</span>)</span><br><span class="line">ax.scatter(cluster3[:, <span class="number">0</span>], cluster3[:, <span class="number">1</span>], s=<span class="number">30</span>, color=<span class="string">'b'</span>, label=<span class="string">'Cluster 3'</span>)</span><br><span class="line">ax.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190525172655371.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0NoZXJpc2hfeA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<ol start="2">
<li>k-meansåº”ç”¨ï¼šå›¾åƒå‹ç¼©<br>å›¾åƒå‹ç¼©å‰ï¼š<br><img src="https://img-blog.csdnimg.cn/20190525180102555.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0NoZXJpc2hfeA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> IPython.display <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sb</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> k_means_and_PCA.kmeans_2D <span class="keyword">import</span> run_all_kmeans</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> scipy.io <span class="keyword">import</span> loadmat</span><br><span class="line"></span><br><span class="line">Image(filename=<span class="string">'data/bird_small.png'</span>)</span><br><span class="line"></span><br><span class="line">image_data = loadmat(<span class="string">'data/bird_small.mat'</span>)</span><br><span class="line"></span><br><span class="line">A = image_data[<span class="string">'A'</span>] / <span class="number">255</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">X = np.reshape(A, (A.shape[<span class="number">0</span>] * A.shape[<span class="number">1</span>], A.shape[<span class="number">2</span>]))</span><br><span class="line"></span><br><span class="line">idx, centroids = run_all_kmeans(X, <span class="number">16</span>, <span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">X_recovered = centroids[idx.astype(int), :]</span><br><span class="line">X_recovered = np.reshape(X_recovered, (A.shape[<span class="number">0</span>], A.shape[<span class="number">1</span>], A.shape[<span class="number">2</span>]))</span><br><span class="line">X_recovered *= <span class="number">255</span></span><br><span class="line">plt.imshow(X_recovered.astype(int))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p>å›¾åƒå‹ç¼©å¤„ç†å ï¼š<br><img src="https://img-blog.csdnimg.cn/20190525182212232.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0NoZXJpc2hfeA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
]]></content>
      <categories>
        <category>ML</category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>pythonç¼–è¯‘æŠ¥é”™TypeError_ 'builtin_function_or_method' object is not subscriptable</title>
    <url>/2019/05/30/python%E7%BC%96%E8%AF%91%E6%8A%A5%E9%94%99TypeError_%20&#39;builtin_function_or_method&#39;%20object%20is%20not%20subscriptable/</url>
    <content><![CDATA[<p>ï»¿æŠ¥é”™ä»£ç ç‰‡æ®µï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">embacked_dict = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> embacked:</span><br><span class="line">    <span class="keyword">if</span> embacked_dict.get[i]:<span class="comment">#æ­¤å¤„æŠ¥é”™</span></span><br><span class="line">        embacked_dict[i] += <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        embacked_dict[i] = <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>æ­¤ç±»å‹é”™è¯¯ä¸€èˆ¬æ˜¯æŠŠå‡½æ•°å‚æ•°ç”¨[ ]ä¼ å…¥äº†ï¼Œæ”¹ä¸º()å³å¯</p>
]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>ç¼–è¯‘æŠ¥é”™</tag>
      </tags>
  </entry>
  <entry>
    <title>å´æ©è¾¾ã€Šæœºå™¨å­¦ä¹ ã€‹â€”â€”ç¬¬ä¸ƒæ¬¡ä½œä¸šï¼šä¸»è¦æˆåˆ†åˆ†æ(PCA)</title>
    <url>/2019/05/25/%E5%90%B4%E6%81%A9%E8%BE%BE%E3%80%8A%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E3%80%8B%E2%80%94%E2%80%94%E7%AC%AC%E4%B8%83%E6%AC%A1%E4%BD%9C%E4%B8%9A%EF%BC%9A%E4%B8%BB%E8%A6%81%E6%88%90%E5%88%86%E5%88%86%E6%9E%90(PCA)/</url>
    <content><![CDATA[<p>ä¸»è¦æˆåˆ†åˆ†æ</p>
<a id="more"></a>





<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> scipy.io <span class="keyword">import</span> loadmat</span><br><span class="line"></span><br><span class="line">data = loadmat(<span class="string">'data/ex7data1.mat'</span>)</span><br><span class="line">X = data[<span class="string">'X'</span>]</span><br><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">12</span>, <span class="number">8</span>))</span><br><span class="line">ax.scatter(X[:, <span class="number">0</span>], X[:, <span class="number">1</span>])</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pca</span><span class="params">(X)</span>:</span></span><br><span class="line">    X = (X - X.mean()) / X.std()        <span class="comment">#ç‰¹å¾ç¼©æ”¾</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">X = np.matrix(X)</span><br><span class="line"></span><br><span class="line">cov = (X.T * X) / X.shape[<span class="number">0</span>]        <span class="comment">#åæ–¹å·®</span></span><br><span class="line"></span><br><span class="line">U, S, V = np.linalg.svd(cov)        <span class="comment">#å¥‡å¼‚å€¼åˆ†è§£</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> U, S, V</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">project_data</span><span class="params">(X, U, k)</span>:</span></span><br><span class="line">    U_reduced = U[:, :k]</span><br><span class="line">    <span class="keyword">return</span> np.dot(X, U_reduced)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">recover_data</span><span class="params">(Z, U, k)</span>:</span></span><br><span class="line">    U_reduced = U[:, :k]</span><br><span class="line">    <span class="keyword">return</span> np.dot(Z, U_reduced.T)</span><br><span class="line"></span><br><span class="line">U, S, V = pca(X)</span><br><span class="line"></span><br><span class="line">Z = project_data(X, U, <span class="number">1</span>)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ML</category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>å´æ©è¾¾ã€Šæœºå™¨å­¦ä¹ ã€‹â€”â€”ç¬¬å››æ¬¡ä½œä¸šï¼šBPç¥ç»ç½‘ç»œ</title>
    <url>/2019/05/18/%E5%90%B4%E6%81%A9%E8%BE%BE%E3%80%8A%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E3%80%8B%E2%80%94%E2%80%94%E7%AC%AC%E5%9B%9B%E6%AC%A1%E4%BD%9C%E4%B8%9A%EF%BC%9ABP%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/</url>
    <content><![CDATA[<p>æœ¬æ­¤ä½œä¸šå’Œä¸Šæ¬¡ä½œä¸šçš„ç›®æ ‡ä¸€æ ·ï¼Œå±äºå¤šå…ƒåˆ†ç±»ä»»åŠ¡ã€‚ä¸è¿‡è¿™æ¬¡æ˜¯ä½¿ç”¨BPç¥ç»ç½‘ç»œã€‚å‡†ç¡®åº¦æ¯”æ²¡æœ‰ä½¿ç”¨ç¥ç»ç½‘ç»œçš„ç¬¬ä¸‰æ¬¡ä½œä¸šè¦é«˜ï¼Œä½†æ˜¯è®­ç»ƒçš„æ—¶é—´ä¹Ÿé•¿äº†å¾ˆå¤šã€‚<br>å‚è€ƒï¼š<a href="https://github.com/fengdu78/Coursera-ML-AndrewNg-Notes/tree/master/code" target="_blank" rel="noopener">https://github.com/fengdu78/Coursera-ML-AndrewNg-Notes/tree/master/code</a></p>
<a id="more"></a>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> scipy.io <span class="keyword">as</span> sio</span><br><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scipy.optimize <span class="keyword">as</span> opt</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> classification_report</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> OneHotEncoder</span><br><span class="line"></span><br><span class="line">data = sio.loadmat(<span class="string">'ex4data1.mat'</span>)</span><br><span class="line">X = data[<span class="string">'X'</span>]</span><br><span class="line">y = data[<span class="string">'y'</span>]</span><br><span class="line"></span><br><span class="line">encoder = OneHotEncoder(sparse=<span class="literal">False</span>)</span><br><span class="line">y_onehot = encoder.fit_transform(y)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sigmoid</span><span class="params">(z)</span>:</span></span><br><span class="line">    <span class="string">'''æ¿€æ´»å‡½æ•°'''</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> / (<span class="number">1</span> + np.exp(-z))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">forward_propagate</span><span class="params">(X, theta1, theta2)</span>:</span></span><br><span class="line">    <span class="string">'''å‰å‘ä¼ æ’­ç®—æ³•'''</span></span><br><span class="line">    m = X.shape[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    a1 = np.insert(X, <span class="number">0</span>, values=np.ones(m), axis=<span class="number">1</span>)</span><br><span class="line">    z2 = a1 * theta1.T</span><br><span class="line">    a2 = sigmoid(z2)</span><br><span class="line">    a2 = np.insert(a2, <span class="number">0</span>, values=np.ones(m), axis=<span class="number">1</span>)</span><br><span class="line">    z3 = a2 * theta2.T</span><br><span class="line">    h = sigmoid(z3)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> a1, z2, a2, z3, h</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cost</span><span class="params">(params, input_size, hidden_size, num_labels, X, y, learning_rate)</span>:</span></span><br><span class="line">    <span class="string">'''ä»£ä»·å‡½æ•°'''</span></span><br><span class="line">    m = X.shape[<span class="number">0</span>]</span><br><span class="line">    X = np.matrix(X)</span><br><span class="line">    y = np.matrix(y)</span><br><span class="line"></span><br><span class="line">    theta1 = np.matrix(np.reshape(params[:hidden_size * (input_size + <span class="number">1</span>)], (hidden_size, (input_size + <span class="number">1</span>))))</span><br><span class="line">    theta2 = np.matrix(np.reshape(params[hidden_size * (input_size + <span class="number">1</span>):], (num_labels, (hidden_size + <span class="number">1</span>))))</span><br><span class="line"></span><br><span class="line">    a1, z2, a2, z3, h = forward_propagate(X, theta1, theta2)</span><br><span class="line"></span><br><span class="line">    J = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">        first_term = np.multiply(-y[i, :], np.log(h[i, :]))</span><br><span class="line">        second_term = np.multiply(<span class="number">1</span> - y[i, :], np.log(<span class="number">1</span> - h[i, :]))</span><br><span class="line">        J += np.sum(first_term - second_term)</span><br><span class="line"></span><br><span class="line">    J = J/m</span><br><span class="line"></span><br><span class="line">    J += (float(learning_rate) / (<span class="number">2</span> * m)) * (np.sum(np.power(theta1[:, <span class="number">1</span>:], <span class="number">2</span>)) + np.sum(np.power(theta2[:, <span class="number">1</span>:], <span class="number">2</span>)))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> J</span><br><span class="line">input_size = <span class="number">400</span></span><br><span class="line">hidden_size = <span class="number">25</span></span><br><span class="line">num_labels = <span class="number">10</span></span><br><span class="line">learning_rate = <span class="number">1</span></span><br><span class="line">params = (np.random.random(size=hidden_size * (input_size + <span class="number">1</span>) + num_labels * (hidden_size + <span class="number">1</span>)) - <span class="number">0.5</span>) * <span class="number">0.25</span></span><br><span class="line"><span class="comment">#print(cost(params, input_size, hidden_size, num_labels, X, y_onehot, learning_rate))</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sigmoid_gradient</span><span class="params">(z)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> np.multiply(sigmoid(z), (<span class="number">1</span> - sigmoid(z)))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">back_prop</span><span class="params">(params, input_size, hidden_size, num_labels, X, y, learning_rate)</span>:</span></span><br><span class="line">    <span class="string">'''åå‘ä¼ æ’­ç®—æ³•'''</span></span><br><span class="line">    m = X.shape[<span class="number">0</span>]</span><br><span class="line">    X = np.matrix(X)</span><br><span class="line">    y = np.matrix(y)</span><br><span class="line"></span><br><span class="line">    theta1 = np.matrix(np.reshape(params[:hidden_size * (input_size + <span class="number">1</span>)], (hidden_size, (input_size + <span class="number">1</span>))))</span><br><span class="line">    theta2 = np.matrix(np.reshape(params[hidden_size * (input_size + <span class="number">1</span>):], (num_labels, (hidden_size + <span class="number">1</span>))))</span><br><span class="line"></span><br><span class="line">    a1, z2, a2, z3, h = forward_propagate(X, theta1, theta2)</span><br><span class="line"></span><br><span class="line">    J = <span class="number">0</span></span><br><span class="line">    delta1 = np.zeros(theta1.shape)</span><br><span class="line">    delta2 = np.zeros(theta2.shape)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">        first_term = np.multiply(-y[i, :], np.log(h[i, :]))</span><br><span class="line">        second_term = np.multiply(<span class="number">1</span> - y[i, :], np.log(<span class="number">1</span> - h[i, :]))</span><br><span class="line">        J += np.sum(first_term - second_term)</span><br><span class="line"></span><br><span class="line">    J = J / m</span><br><span class="line"></span><br><span class="line">    J += (float(learning_rate) / (<span class="number">2</span> * m)) * (np.sum(np.power(theta1[:, <span class="number">1</span>:], <span class="number">2</span>)) + np.sum(np.power(theta2[:, <span class="number">1</span>:], <span class="number">2</span>)))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> range(m):</span><br><span class="line">        a1t = a1[t, :]</span><br><span class="line">        z2t = z2[t, :]</span><br><span class="line">        a2t = a2[t, :]</span><br><span class="line">        ht = h[t, :]</span><br><span class="line">        yt = y[t, :]</span><br><span class="line"></span><br><span class="line">        d3t = ht - yt</span><br><span class="line">        z2t = np.insert(z2t, <span class="number">0</span>, values=np.ones(<span class="number">1</span>))</span><br><span class="line">        d2t = np.multiply((theta2.T * d3t.T).T, sigmoid_gradient(z2t))</span><br><span class="line"></span><br><span class="line">        delta1 = delta1 + (d2t[:, <span class="number">1</span>:]).T * a1t</span><br><span class="line">        delta2 = delta2 + d3t.T * a2t</span><br><span class="line"></span><br><span class="line">    delta1 /= m</span><br><span class="line">    delta2 /= m</span><br><span class="line"></span><br><span class="line">    delta1[:, <span class="number">1</span>:] = delta1[:, <span class="number">1</span>:] + (theta1[:, <span class="number">1</span>:] * learning_rate) / m</span><br><span class="line">    delta2[:, <span class="number">1</span>:] = delta2[:, <span class="number">1</span>:] + (theta2[:, <span class="number">1</span>:] * learning_rate) / m</span><br><span class="line"></span><br><span class="line">    grad = np.concatenate((np.ravel(delta1), np.ravel(delta2)))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> J, grad</span><br><span class="line"></span><br><span class="line">fmin = opt.minimize(fun=back_prop, x0=params, args=(input_size, hidden_size, num_labels, X, y_onehot, learning_rate),</span><br><span class="line">                    method=<span class="string">'TNC'</span>, jac=<span class="literal">True</span>, options=&#123;<span class="string">'maxiter'</span>: <span class="number">250</span>&#125;)</span><br><span class="line"></span><br><span class="line">X = np.matrix(X)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">X = np.matrix(X)</span><br><span class="line">theta1 = np.matrix(np.reshape(fmin.x[:hidden_size * (input_size + <span class="number">1</span>)], (hidden_size, (input_size + <span class="number">1</span>))))</span><br><span class="line">theta2 = np.matrix(np.reshape(fmin.x[hidden_size * (input_size + <span class="number">1</span>):], (num_labels, (hidden_size + <span class="number">1</span>))))</span><br><span class="line"></span><br><span class="line">a1, z2, a2, z3, h = forward_propagate(X, theta1, theta2)</span><br><span class="line">y_pred = np.array(np.argmax(h, axis=<span class="number">1</span>) + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å‡†ç¡®åº¦</span></span><br><span class="line">print(classification_report(y, y_pred))</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ML</category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>å´æ©è¾¾ã€Šæœºå™¨å­¦ä¹ ã€‹â€”â€”ç¬¬ä¸‰æ¬¡ä½œä¸šï¼šå¤šå…ƒåˆ†ç±»</title>
    <url>/2019/05/18/%E5%90%B4%E6%81%A9%E8%BE%BE%E3%80%8A%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E3%80%8B%E2%80%94%E2%80%94%E7%AC%AC%E4%B8%89%E6%AC%A1%E4%BD%9C%E4%B8%9A%EF%BC%9A%E5%A4%9A%E5%85%83%E5%88%86%E7%B1%BB/</url>
    <content><![CDATA[<p>å†™äº†å¥½é•¿æ—¶é—´çš„é©¼å³°å‘½åï¼Œæœ€è¿‘æœ‰ç‚¹æ¶å¿ƒäº†ï¼Œå†³å®špythonç”¨ä¸‹åˆ’çº¿ï¼ŒC++ç”¨é©¼å³°ã€‚<br>è¿™æ¬¡ä½œä¸šæ˜¯å¯¹æ‰‹å†™æ•°å­—çš„æ•°æ®é›†è¿›è¡Œè®­ç»ƒã€‚å¤šå…ƒåˆ†ç±»çš„ä¸€ä¸ªä»»åŠ¡ã€‚</p>
<p>å‚è€ƒï¼š<a href="https://github.com/fengdu78/Coursera-ML-AndrewNg-Notes/tree/master/code" target="_blank" rel="noopener">https://github.com/fengdu78/Coursera-ML-AndrewNg-Notes/tree/master/code</a></p>
<a id="more"></a>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> scipy.io <span class="keyword">as</span> sio</span><br><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">import</span> scipy.optimize <span class="keyword">as</span> opt</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> classification_report</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_data</span><span class="params">(path, transpose=True)</span>:</span></span><br><span class="line">    <span class="string">'''è½½å…¥æ•°æ®'''</span></span><br><span class="line">    data = sio.loadmat(path)</span><br><span class="line">    y = data.get(<span class="string">'y'</span>)</span><br><span class="line"></span><br><span class="line">    y = y.reshape(y.shape[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">    X = data.get(<span class="string">'X'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> transpose:</span><br><span class="line">        X = np.array([im.reshape((<span class="number">20</span>, <span class="number">20</span>)).T <span class="keyword">for</span> im <span class="keyword">in</span> X])</span><br><span class="line"></span><br><span class="line">        X = np.array([im.reshape(<span class="number">400</span>) <span class="keyword">for</span> im <span class="keyword">in</span> X])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> X, y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">raw_X, raw_y = load_data(<span class="string">'ex3data1.mat'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#def plot_image(image):</span></span><br><span class="line"><span class="comment">#    '''éšæœºæ˜¾ç¤ºä¸€å¼ å›¾ç‰‡'''</span></span><br><span class="line"><span class="comment">#    fig, ax = plt.subplots(figsize=(1, 1))</span></span><br><span class="line"><span class="comment">#    ax.matshow(image.reshape((20, 20)), cmap=matplotlib.cm.binary)</span></span><br><span class="line"><span class="comment">#    plt.xticks(np.array([]))</span></span><br><span class="line"><span class="comment">#    plt.yticks(np.array([]))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#pick_one = np.random.randint(0, 5000)              #åœ¨(0,5000)æ°›å›´å†…éšæœºå–ä¸€ä¸ªæ•°</span></span><br><span class="line"><span class="comment">#plot_image(X[pick_one, :])</span></span><br><span class="line"><span class="comment">#plt.show()</span></span><br><span class="line"><span class="comment">#print("this should be &#123;&#125;".format(y[pick_one]))</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#def plot_100_image(X):</span></span><br><span class="line"><span class="comment">#    '''æ˜¾ç¤º100å¼ å›¾ç‰‡'''</span></span><br><span class="line"><span class="comment">#    size = int(np.sqrt(X.shape[1]))</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#    sample_idx = np.random.choice(np.arange(X.shape[0]), 100)</span></span><br><span class="line"><span class="comment">#    sample_images = X[sample_idx, :]</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#    fig, ax_array = plt.subplots(nrows=10, ncols=10, sharey=True, sharex=True, figsize=(8, 8))</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#    for r in range(10):</span></span><br><span class="line"><span class="comment">#        for c in range(10):</span></span><br><span class="line"><span class="comment">#            ax_array[r, c].matshow(sample_images[10 * r + c].reshape((size, size)),</span></span><br><span class="line"><span class="comment">#                                   cmap=matplotlib.cm.binary)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#            plt.xticks(np.array([]))</span></span><br><span class="line"><span class="comment">#            plt.yticks(np.array([]))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#å‡†å¤‡æ•°æ®</span></span><br><span class="line">X = np.insert(raw_X, <span class="number">0</span>, values=np.ones(raw_X.shape[<span class="number">0</span>]), axis=<span class="number">1</span>)     <span class="comment">#æ’å…¥ç¬¬ä¸€åˆ—ï¼Œå…¨éƒ¨ä¸º1</span></span><br><span class="line"></span><br><span class="line">y_matrix = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>):</span><br><span class="line">    y_matrix.append((raw_y == k).astype(int))</span><br><span class="line"></span><br><span class="line">y_matrix = [y_matrix[<span class="number">-1</span>]] + y_matrix[:<span class="number">-1</span>]</span><br><span class="line">y = np.array(y_matrix)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#print(y.shape)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è®­ç»ƒä¸€ç»´æ¨¡å‹</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sigmoid</span><span class="params">(z)</span>:</span></span><br><span class="line">    <span class="string">'''æ¿€æ´»å‡½æ•°'''</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> / (<span class="number">1</span> + np.exp(-z))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gradient</span><span class="params">(theta, X, y)</span>:</span></span><br><span class="line">    <span class="string">'''ä¸€æ¬¡æ¢¯åº¦ä¸‹é™'''</span></span><br><span class="line">    <span class="keyword">return</span> (<span class="number">1</span> / len(X)) * X.T @ (sigmoid(X@theta) - y)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cost</span><span class="params">(theta, X, y)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="string">'''ä»£ä»·å‡½æ•°'''</span></span><br><span class="line">    h = sigmoid(X@theta)</span><br><span class="line">    inner = y.T * np.log(h) + (<span class="number">1</span>-y).T*np.log(<span class="number">1</span>-h)</span><br><span class="line">    <span class="keyword">return</span> - (np.sum(inner)/len(X))</span><br><span class="line">    <span class="comment">#return np.mean(-y * np.log(sigmoid(X*theta.T)) - (1-y)*np.log(1-sigmoid(X*theta.T)))</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">regularized_cost</span><span class="params">(theta, X, y, l=<span class="number">1</span>)</span>:</span></span><br><span class="line">    <span class="string">'''æ­£åˆ™åŒ–'''</span></span><br><span class="line">    theta_j1_to_n = theta[<span class="number">1</span>:]</span><br><span class="line">    regularized_term = (<span class="number">1</span> / (<span class="number">2</span> * len(X))) * np.power(theta_j1_to_n, <span class="number">2</span>).sum()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> cost(theta, X, y) + regularized_term</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">regularized_gradient</span><span class="params">(theta, X, y, l=<span class="number">1</span>)</span>:</span></span><br><span class="line"></span><br><span class="line">    theta_j1_to_n = theta[:<span class="number">-1</span>]</span><br><span class="line">    regularized_theta = (l / len(X)) * theta_j1_to_n</span><br><span class="line"></span><br><span class="line">    regularized_term = np.concatenate([np.array([<span class="number">0</span>]), regularized_theta])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> gradient(theta, X, y) + regularized_term</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">logistic_regression</span><span class="params">(X, y, l=<span class="number">1</span>)</span>:</span></span><br><span class="line"></span><br><span class="line">    theta = np.zeros(X.shape[<span class="number">1</span>])</span><br><span class="line">    res = opt.minimize(fun=regularized_cost,</span><br><span class="line">                       x0=theta,</span><br><span class="line">                       args=(X, y, l),</span><br><span class="line">                       method=<span class="string">'TNC'</span>,</span><br><span class="line">                       jac=regularized_gradient,</span><br><span class="line">                       options=&#123;<span class="string">'disp'</span>: <span class="literal">True</span>&#125;)</span><br><span class="line"></span><br><span class="line">    final_theta = res.x</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> final_theta</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">predict</span><span class="params">(x, theta)</span>:</span></span><br><span class="line">    <span class="string">'''é¢„æµ‹å‡½æ•°'''</span></span><br><span class="line">    prob = sigmoid(X @ theta)</span><br><span class="line">    <span class="keyword">return</span> (prob &gt;= <span class="number">0.5</span>).astype(int)</span><br><span class="line"></span><br><span class="line">t0 = logistic_regression(X, y[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#print(t0.shape)</span></span><br><span class="line"><span class="comment">#y_pred = predict(X, t0)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#print('Accuracy = &#123;&#125;'.format(np.mean(y[0] == y_pred)))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#è®­ç»ƒkç»´æ¨¡å‹</span></span><br><span class="line"></span><br><span class="line">k_theta = np.array([logistic_regression(X, y[k]) <span class="keyword">for</span> k <span class="keyword">in</span> range(<span class="number">10</span>)])</span><br><span class="line"><span class="comment">#print(k_theta.shape)</span></span><br><span class="line"></span><br><span class="line">prob_matrix = sigmoid(X@k_theta.T)</span><br><span class="line">np.set_printoptions(suppress=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">y_pred = np.argmax(prob_matrix, axis=<span class="number">1</span>)</span><br><span class="line"><span class="comment">#è¿”å›æ²¿è½´axisæœ€å¤§å€¼çš„ç´¢å¼•ï¼Œaxis=1ä»£è¡¨è¡Œ</span></span><br><span class="line"></span><br><span class="line">y_answer = raw_y.copy()</span><br><span class="line">y_answer[y_answer == <span class="number">10</span>] = <span class="number">0</span></span><br><span class="line">print(classification_report(y_answer, y_pred))</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ML</category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>ç”¨ç¥ç»ç½‘ç»œå®ç°å¼‚æˆ–è¿ç®—</title>
    <url>/2019/05/14/%E7%94%A8%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%AE%9E%E7%8E%B0%E5%BC%82%E6%88%96%E8%BF%90%E7%AE%97/</url>
    <content><![CDATA[<p><img src="https://img-blog.csdnimg.cn/20190514155909150.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0NoZXJpc2hfeA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<a id="more"></a>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Logistic</span><span class="params">()</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sigmoid</span><span class="params">(self, z)</span>:</span></span><br><span class="line">        <span class="string">'''æ¿€æ´»å‡½æ•°'''</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> / (<span class="number">1</span> + np.exp(-z))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">logistic</span><span class="params">(self, X, theta)</span>:</span></span><br><span class="line">        <span class="string">'''ä¸€å±‚ç¥ç»ç½‘ç»œè¿›è¡Œç®€å•çš„é€»è¾‘è¿ç®—'''</span></span><br><span class="line">        h = self.sigmoid(X*theta.T)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(int(h.shape[<span class="number">1</span>])):</span><br><span class="line">            h[<span class="number">0</span>, i] = <span class="number">1</span> <span class="keyword">if</span> h[<span class="number">0</span>, i] &gt;= <span class="number">0.5</span> <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> h</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">X = np.matrix(np.array([<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>]))</span><br><span class="line">theta1 = np.matrix([[<span class="number">-30</span>, <span class="number">20</span>, <span class="number">20</span>], [<span class="number">10</span>, <span class="number">-20</span>, <span class="number">-20</span>]])     <span class="comment">#ç¬¬ä¸€å±‚ç½‘ç»œçš„æƒé‡</span></span><br><span class="line">theta2 = np.matrix([<span class="number">-10</span>, <span class="number">20</span>, <span class="number">-20</span>])                      <span class="comment">#ç¬¬äºŒå±‚ç½‘ç»œçš„æƒé‡</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">log = Logistic()       <span class="comment">#å®ä¾‹åŒ–</span></span><br><span class="line"></span><br><span class="line">a1 = log.logistic(X, theta1)         <span class="comment">#ç¬¬ä¸€å±‚</span></span><br><span class="line">a1 = np.c_[<span class="number">1</span>, a1]                    <span class="comment">#æ·»åŠ åç½®å•å…ƒ</span></span><br><span class="line">a2 = log.logistic(a1, theta2)        <span class="comment">#ç¬¬äºŒå±‚</span></span><br><span class="line">print(a2)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ML</category>
      </categories>
      <tags>
        <tag>ML</tag>
        <tag>ç¥ç»ç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆè¯†åŠ¨æ€è§„åˆ’</title>
    <url>/2019/05/14/%E5%88%9D%E8%AF%86%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/</url>
    <content><![CDATA[<p>ï»¿<a href="https://mp.weixin.qq.com/s/3h9iqU4rdH3EIy5m6AzXsg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/3h9iqU4rdH3EIy5m6AzXsg</a><br>å¾ˆå¯çˆ±çš„æ¼«ç”»ã€‚è®²çš„ä¸é”™ï¼Œé€šä¿—æ˜“æ‡‚ã€‚markä»¥ä¸‹ï¼Œè¿™é‡Œå°±åªè®°ä¸€äº›æ¦‚å¿µæ€§é—®é¢˜ã€‚<br>åŠ¨æ€è§„åˆ’çš„è‹±æ–‡åDynamic Programmingï¼Œæ˜¯ä¸€ç§åˆ†é˜¶æ®µæ±‚è§£å†³é—®é¢˜çš„æ•°å­¦æ€æƒ³ã€‚å®ƒä¸æ­¢åº”ç”¨äºç¼–ç¨‹é¢†åŸŸï¼Œä¹Ÿåº”ç”¨äºç®¡ç†å­¦ã€ç»æµå­¦ã€ç”Ÿç‰©å­¦ã€‚</p>
<a id="more"></a>

<p>å®ƒçš„æ€æƒ³æ˜¯ï¼š<strong>å¤§äº‹åŒ–å°ï¼Œå°äº‹åŒ–äº†</strong><br>åŠ¨æ€è§„åˆ’å½“ä¸­åŒ…å«ä¸‰ä¸ªé‡è¦çš„æ¦‚å¿µï¼š<strong>æœ€ä¼˜å­ç»“æ„</strong>ï¼Œ<strong>è¾¹ç•Œ</strong>ï¼Œ<strong>çŠ¶æ€è½¬ç§»å…¬å¼</strong><br>é€šè¿‡ä¸‹é¢æ¼«ç”»æåˆ°çš„é¢˜ç›®å¯¹ä¸‰ä¸ªæ¦‚å¿µé˜è¿°ã€‚<br><img src="https://img-blog.csdnimg.cn/20190514100652421.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0NoZXJpc2hfeA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">    åœ¨æœ€åä¸€çº§å°é˜¶ï¼Œç”±2ç§èµ°æ³•ï¼Œç¬¬ä¸€ç§ï¼šä»ç¬¬ä¹çº§å°é˜¶è·¨ä¸€æ­¥åˆ°è¾¾ç¬¬åçº§å°é˜¶ï¼›ç¬¬äºŒç§ï¼šä»ç¬¬å…«çº§å°é˜¶è·¨2æ­¥åˆ°è¾¾ç¬¬åçº§å°é˜¶ã€‚é‚£æ˜¯ä¸æ˜¯è¯´ï¼Œåˆ°è¾¾ç¬¬åçº§å°é˜¶çš„èµ°æ³•æœ‰å¤šå°‘ç§ï¼Œæ˜¯ç”±åˆ°è¾¾ç¬¬å…«çº§å°é˜¶å’Œåˆ°åº•ç¬¬ä¹çº§å°é˜¶çš„èµ°æ³•ä¹‹å’Œå†³å®šçš„å‘¢ï¼Ÿ<br>å½“ç„¶æ˜¯çš„ã€‚<br>å› æ­¤ï¼Œå¯ä»¥ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°ç¬¬ä¸€çº§å°é˜¶æˆ–è€…ç¬¬äºŒçº§å°é˜¶ã€‚<br>ç”¨å…¬å¼ç®€åŒ–è¿‡ç¨‹ï¼š<br>f(n)è¡¨ç¤ºåˆ°è¾¾ç¬¬nçº§å°é˜¶çš„èµ°æ³•ï¼Œç”±ä¸Šé¢åˆ†æï¼Œæœ‰<br>f(10) = f(9) + f(8)<br>f(9) = f(8) + f(7)<br>ã€‚ã€‚ã€‚<br>f(3) = f(2) + f(1)<br>å½’çº³ï¼š<br>f(1) = 1<br>f(2) = 2<br>f(n) = f(n-1) + f(n-2)  (n&gt;=3)<br>åˆšæ‰åˆ†æå‡ºf(10) = f(9) + f(8)ï¼Œå› æ­¤f(9)å’Œf(8)æ˜¯f(10)çš„<strong>æœ€ä¼˜å­ç»“æ„</strong><br>å½“åªç”¨ä¸€çº§å°é˜¶æˆ–2çº§å°é˜¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å¾—å‡ºç»“æœï¼Œæ— éœ€ç»§ç»­ç®€åŒ–ã€‚æˆ‘ä»¬æˆf(1)å’Œf(2)ä¸ºé—®é¢˜<strong>è¾¹ç•Œ</strong>ã€‚å¦‚æœä¸€ä¸ªé—®é¢˜æ²¡æœ‰è¾¹ç•Œï¼Œå°†æ°¸è¿œæ— æ³•å¾—åˆ°æœ‰é™çš„ç»“æœã€‚<br>f(n) = f(n-1) + f(n-2)æ˜¯é˜¶æ®µä¸é˜¶æ®µä¹‹é—´çš„<strong>çŠ¶æ€è½¬ç§»æ–¹ç¨‹</strong>ã€‚è¿™æ˜¯åŠ¨æ€è§„åˆ’çš„æ ¸å¿ƒï¼Œå†³å®šäº†é—®é¢˜çš„æ¯ä¸€ä¸ªé˜¶æ®µå’Œä¸‹ä¸€ä¸ªé˜¶æ®µçš„å…³ç³»ã€‚<br>å…¶å®åˆ†æåˆ°è¿™é‡Œåï¼Œå’Œæ¼«ç”»é‡Œçš„å°ç°ä¸€æ ·ï¼Œæˆ‘çš„ç¬¬ä¸€ååº”ä¹Ÿæ˜¯ç”¨é€’å½’åšï¼Œæ¯•ç«Ÿé€’å½’æ–¹ç¨‹å’Œè¾¹ç•Œéƒ½ç»™å‡ºäº†ã€‚<br>ä¸‹é¢ç»™å‡ºé€’å½’çš„ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dp</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n &lt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> n == <span class="number">1</span> <span class="keyword">or</span> n == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> n</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> dp(n<span class="number">-1</span>) + dp(n<span class="number">-2</span>)</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯é€’å½’çš„æ—¶é—´å¤æ‚åº¦æœ‰ç‚¹é«˜ã€‚<img src="https://img-blog.csdnimg.cn/20190514103043450.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0NoZXJpc2hfeA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å·®ä¸å¤šåº”è¯¥æ˜¯O(2^n)ã€‚<br>ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºæœ‰äº›æ•°æ®è¢«é‡å¤è®¡ç®—äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯å°†è¿™äº›æ•°æ®ç¼“å­˜ä¸‹æ¥ã€‚<br>ä¸‹é¢ç”¨<strong>å¤‡å¿˜å½•ç®—æ³•</strong>ä¼˜åŒ–ä¸€ä¸‹ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">hashMap = &#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dp</span><span class="params">(n, hashMap)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span> <span class="keyword">or</span> n == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> n</span><br><span class="line">    <span class="keyword">elif</span> n <span class="keyword">in</span> hashMap:</span><br><span class="line">        <span class="keyword">return</span> hashMap[n]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        hashMap[n] = dp(n<span class="number">-1</span>, hashMap) + dp(n<span class="number">-2</span>, hashMap)</span><br><span class="line">        <span class="keyword">return</span> hashMap[n]</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·æ—¶é—´å¤æ‚åº¦å°±é™åˆ°äº†O(n)ï¼Œä½†æ˜¯ç©ºé—´å¤æ‚åº¦ä¹Ÿå°±å˜æˆäº†O(n)ã€‚<br>ä¸Šé¢çš„ä¸¤ç§å®ç°æ–¹æ³•éƒ½æ˜¯è‡ªé¡¶å‘ä¸‹é€’å½’å®ç°çš„ï¼Œå› æ­¤ä¹Ÿå°±æ— æ³•åˆ©ç”¨ä¹‹å‰è®¡ç®—çš„ç»“æœã€‚å› ä¸ºæœ¬é¢˜å½’çº³çš„å…¬å¼ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºå¦‚æœè‡ªä½å‘ä¸Šè¿­ä»£è¿ç®—ï¼Œåœ¨ä¸‹ä¸€æ¬¡è¿ç®—å¯ä»¥ç”¨åˆ°ä¸Šæ¬¡è¿ç®—çš„ç»“æœã€‚æ¯ä¸€æ¬¡è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œåªè¦ä¿ç•™ä¹‹å‰çš„ä¸¤ä¸ªçŠ¶æ€ï¼Œå°±å¯ä»¥æ¨å¯¼å‡ºæ–°çš„çŠ¶æ€ã€‚è¿™å°±æ˜¯åŠ¨æ€è§„åˆ’ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dp</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n &lt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> n == <span class="number">1</span> <span class="keyword">or</span> n == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> n</span><br><span class="line">    f1, f2 = <span class="number">1</span>, <span class="number">2</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>, n+<span class="number">1</span>):</span><br><span class="line">        f1, f2 = f2, f1 + f2</span><br><span class="line">    <span class="keyword">return</span> f2</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title>å´æ©è¾¾ã€Šæœºå™¨å­¦ä¹ ã€‹ç¬¬äºŒæ¬¡ä½œä¸šâ€”â€”é€»è¾‘å›å½’</title>
    <url>/2019/05/10/%E5%90%B4%E6%81%A9%E8%BE%BE%E3%80%8A%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E3%80%8B%E7%AC%AC%E4%BA%8C%E6%AC%A1%E4%BD%9C%E4%B8%9A%E2%80%94%E2%80%94%E9%80%BB%E8%BE%91%E5%9B%9E%E5%BD%92/</url>
    <content><![CDATA[<p>  ï»¿ 1. é€»è¾‘å›å½’<br>       ç»™çš„æ•°æ®é›†æœ‰ä¸¤ä¸ªç‰¹å¾å˜é‡ã€‚<br>            è®¾æƒ³ä½ æ˜¯å¤§å­¦ç›¸å…³éƒ¨åˆ†çš„ç®¡ç†è€…ï¼Œæƒ³é€šè¿‡ç”³è¯·å­¦ç”Ÿä¸¤æ¬¡æµ‹è¯•çš„è¯„åˆ†ï¼Œæ¥å†³å®šä»–ä»¬æ˜¯å¦è¢«å½•å–ã€‚ç°åœ¨ä½ æ‹¥æœ‰ä¹‹å‰ç”³è¯·å­¦ç”Ÿçš„å¯ä»¥ç”¨äºè®­ç»ƒé€»è¾‘å›å½’çš„è®­ç»ƒæ ·æœ¬é›†ã€‚å¯¹äºæ¯ä¸€ä¸ªè®­ç»ƒæ ·æœ¬ï¼Œä½ æœ‰ä»–ä»¬ä¸¤æ¬¡æµ‹è¯•çš„è¯„åˆ†å’Œæœ€åæ˜¯è¢«å½•å–çš„ç»“æœã€‚ç”±æ­¤å»ºç«‹é€»è¾‘å›å½’åˆ†ç±»å™¨ã€‚</p>
<p>æ³¨ï¼š <a href="https://github.com/fengdu78/Coursera-ML-AndrewNg-Notes/tree/master/code" target="_blank" rel="noopener">https://github.com/fengdu78/Coursera-ML-AndrewNg-Notes/tree/master/code</a><br>githubä¸Šå¹¶æ²¡æœ‰ä½¿ç”¨æ¢¯åº¦ä¸‹é™æ¥ä¼˜åŒ–å‚æ•°ï¼Œåº”è¯¥æ˜¯ä½¿ç”¨çš„æ˜¯å…¶ä»–çš„ä¼˜åŒ–ç®—æ³•ï¼ˆSciPyâ€™s truncated newtonï¼ˆTNCï¼‰ï¼‰ã€‚</p>
<a id="more"></a>

<p>ç”¨æ¢¯åº¦ä¸‹é™æ³•ä¼˜åŒ–å‚æ•°ï¼Œå¹¶ä¸èƒ½å¾ˆå¥½çš„é™ä½ä»£ä»·å‡½æ•°ï¼Œç›¸æ¯”äºå…¶ä»–ä¼˜åŒ–ç®—æ³•ã€‚å¯èƒ½æ˜¯å¯¹äºè¿™ä¸ªæ•°æ®é›†æ¥è¯´ï¼Œéœ€è¦è¿­ä»£ç›¸å½“å¤šçš„æ¬¡æ•°ã€‚<br><img src="https://img-blog.csdnimg.cn/20190510104710116.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0NoZXJpc2hfeA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> scipy.optimize <span class="keyword">as</span> opt</span><br><span class="line"></span><br><span class="line">path = <span class="string">'ex2data1.txt'</span>   <span class="comment">#ç›¸å¯¹è·¯å¾„</span></span><br><span class="line">data = pd.read_csv(path, header=<span class="literal">None</span>, names=[<span class="string">'First'</span>, <span class="string">'Second'</span>, <span class="string">'Admission'</span>])</span><br><span class="line"></span><br><span class="line"><span class="string">'''è§‚å¯Ÿæ•°æ®'''</span></span><br><span class="line"><span class="comment">#positive = data[data['Admission'].isin([1])]</span></span><br><span class="line"><span class="comment">#negative = data[data['Admission'].isin([0])]</span></span><br><span class="line"><span class="comment">#fig, ax = plt.subplots(figsize=(12, 8))</span></span><br><span class="line"><span class="comment">#ax.scatter(positive['First'], positive['Second'], s=50, c='b', marker='o', label='Admission')</span></span><br><span class="line"><span class="comment">#ax.scatter(negative['First'], negative['Second'], s=50, c='r', marker='x', label='Not Admission')</span></span><br><span class="line"><span class="comment">#ax.legend()</span></span><br><span class="line"><span class="comment">#ax.set_xlabel('First Score')</span></span><br><span class="line"><span class="comment">#ax.set_ylabel('Second Score')</span></span><br><span class="line"><span class="comment">#plt.show()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">'''æ“ä½œæ•°æ®ï¼Œä»¥ä¾¿åç»­å¤„ç†'''</span></span><br><span class="line"><span class="comment">#data['First'] = (data['First'] - data['First'].mean())/data['First'].std()</span></span><br><span class="line"><span class="comment">#data['Second'] = (data['Second'] - data['Second'.mean()])/data['Second'].std()  #ç‰¹å¾ç¼©æ”¾ï¼Œ</span></span><br><span class="line"></span><br><span class="line">data.insert(<span class="number">0</span>, <span class="string">'Ones'</span>, <span class="number">1</span>)</span><br><span class="line">cols = data.shape[<span class="number">1</span>]                <span class="comment">#dataçš„åˆ—æ•°</span></span><br><span class="line">X = data.iloc[:, <span class="number">0</span>:cols<span class="number">-1</span>]          <span class="comment">#ç‰¹å¾å˜é‡</span></span><br><span class="line">y = data.iloc[:, cols<span class="number">-1</span>:cols]       <span class="comment">#ç›®æ ‡å˜é‡</span></span><br><span class="line">X = np.matrix(X.values)             <span class="comment">#è½¬ä¸ºçŸ©é˜µ</span></span><br><span class="line">y = np.matrix(y.values)</span><br><span class="line">theta = np.matrix(np.array([<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(X.shape[<span class="number">1</span>])]))         <span class="comment">#åˆå§‹åŒ–Î¸çš„å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sigmoid</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="string">'''sigmoidå‡½æ•°'''</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> / (<span class="number">1</span> + np.exp(-x))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">computeCost</span><span class="params">(X, y, theta)</span>:</span></span><br><span class="line">    <span class="string">'''ä»£ä»·å‡½æ•°'''</span></span><br><span class="line">    h = sigmoid(X * theta.T)</span><br><span class="line">    inner = y.T*np.log(h) + (<span class="number">1</span>-y).T*np.log(<span class="number">1</span>-h)</span><br><span class="line">    <span class="keyword">return</span> -(np.sum(inner)/X.shape[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">alpha = <span class="number">0.001</span></span><br><span class="line">iters = <span class="number">150000</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gradienDescent</span><span class="params">(X, y, theta, alpha, iters)</span>:</span></span><br><span class="line">    cost = np.zeros(iters)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(iters):</span><br><span class="line">        h = sigmoid(X * theta.T) - y</span><br><span class="line">        innre = X.T * h</span><br><span class="line">        theta = theta - (alpha/len(X)) * innre.T</span><br><span class="line">        cost[i] = computeCost(X, y, theta)</span><br><span class="line">    <span class="keyword">return</span> theta, cost</span><br><span class="line"></span><br><span class="line">theta, cost = gradienDescent(X, y, theta, alpha, iters)</span><br><span class="line"><span class="comment">#print(cost[-1])</span></span><br><span class="line"></span><br><span class="line"><span class="string">'''è§‚å¯Ÿä»£ä»·å‡½æ•°çš„è¿­ä»£'''</span></span><br><span class="line"><span class="comment">#fig, ax = plt.subplots(figsize=(12, 8))</span></span><br><span class="line"><span class="comment">#ax.plot(np.arange(iters), cost, 'r')</span></span><br><span class="line"><span class="comment">#ax.set_xlabel('Iterations')</span></span><br><span class="line"><span class="comment">#ax.set_ylabel('Cost')</span></span><br><span class="line"><span class="comment">#ax.set_title('Error vs. Ttainging Epoch')</span></span><br><span class="line"><span class="comment">#plt.show()</span></span><br><span class="line"></span><br><span class="line"><span class="string">'''æ£€æµ‹é€»è¾‘å›å½’åˆ†ç±»å™¨çš„ç²¾åº¦'''</span></span><br><span class="line">probability = sigmoid(X * theta.T)</span><br><span class="line">predictions = [<span class="number">1</span> <span class="keyword">if</span> x &gt;= <span class="number">0.5</span> <span class="keyword">else</span> <span class="number">0</span> <span class="keyword">for</span> x <span class="keyword">in</span> probability]</span><br><span class="line">correct = [<span class="number">1</span> <span class="keyword">if</span> ((a == <span class="number">1</span> <span class="keyword">and</span> b == <span class="number">1</span>) <span class="keyword">or</span> (a == <span class="number">0</span> <span class="keyword">and</span> b == <span class="number">0</span>)) <span class="keyword">else</span> <span class="number">0</span> <span class="keyword">for</span> (a, b) <span class="keyword">in</span> zip(predictions, y)]</span><br><span class="line">accuracy = (sum(map(int, correct)) % len(correct))</span><br><span class="line">print(<span class="string">'accuracy = &#123;0&#125;%'</span>.format(accuracy))</span><br></pre></td></tr></table></figure>

<ul>
<li>é€»è¾‘å›å½’çš„æ­£åˆ™åŒ–</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> scipy.optimize <span class="keyword">as</span> opt</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">path = <span class="string">'ex2data2.txt'</span></span><br><span class="line"></span><br><span class="line">data2 = pd.read_csv(path, header=<span class="literal">None</span>, names=[<span class="string">'Test1'</span>, <span class="string">'Test2'</span>, <span class="string">'Accepted'</span>])</span><br><span class="line"></span><br><span class="line">degree = <span class="number">5</span></span><br><span class="line">x1 = data2[<span class="string">'Test1'</span>]</span><br><span class="line">x2 = data2[<span class="string">'Test2'</span>]</span><br><span class="line"></span><br><span class="line">data2.insert(<span class="number">3</span>, <span class="string">'Ones'</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, degree):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(i):</span><br><span class="line">        data2[<span class="string">'F'</span> + str(i) + str(j)] = np.power(x1, i- j) * np.power(x2, j)</span><br><span class="line"></span><br><span class="line">data2.drop(<span class="string">'Test1'</span>, axis=<span class="number">1</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">data2.drop(<span class="string">'Test2'</span>, axis=<span class="number">1</span>, inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sigmoid</span><span class="params">(z)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> / (<span class="number">1</span> + np.exp(-z))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cost</span><span class="params">(theta, X, y, learningRate)</span>:</span></span><br><span class="line">    theta = np.matrix(theta)</span><br><span class="line">    X = np.matrix(X)</span><br><span class="line">    y = np.matrix(y)</span><br><span class="line">    first = np.multiply(-y, np.log(sigmoid(X * theta.T)))</span><br><span class="line">    second = np.multiply((<span class="number">1</span> - y), np.log(<span class="number">1</span> - sigmoid(X * theta.T)))</span><br><span class="line">    reg = (learningRate / (<span class="number">2</span> * len(X))) * np.sum(np.power(theta[:,<span class="number">1</span>:theta.shape[<span class="number">1</span>]], <span class="number">2</span>))</span><br><span class="line">    <span class="keyword">return</span> np.sum(first - second) / len(X) + reg</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gradientReg</span><span class="params">(theta, X, y, learningRate)</span>:</span></span><br><span class="line">    theta = np.matrix(theta)</span><br><span class="line">    X = np.matrix(X)</span><br><span class="line">    y = np.matrix(y)</span><br><span class="line"></span><br><span class="line">    parameters = int(theta.ravel().shape[<span class="number">1</span>])</span><br><span class="line">    grad = np.zeros(parameters)</span><br><span class="line"></span><br><span class="line">    error = sigmoid(X * theta.T) - y</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(parameters):</span><br><span class="line">        term = np.multiply(error, X[:, i])</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">0</span>):</span><br><span class="line">            grad[i] = np.sum(term) / len(X)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            grad[i] = (np.sum(term) / len(X)) + ((learningRate / len(X)) * theta[:, i])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> grad</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># set X and y (remember from above that we moved the label to column 0)</span></span><br><span class="line">cols = data2.shape[<span class="number">1</span>]</span><br><span class="line">X2 = data2.iloc[:,<span class="number">1</span>:cols]</span><br><span class="line">y2 = data2.iloc[:,<span class="number">0</span>:<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># convert to numpy arrays and initalize the parameter array theta</span></span><br><span class="line">X2 = np.array(X2.values)</span><br><span class="line">y2 = np.array(y2.values)</span><br><span class="line">theta2 = np.zeros(<span class="number">11</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">learningRate = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">result2 = opt.fmin_tnc(func=cost, x0=theta2, fprime=gradientReg, args=(X2, y2, learningRate))</span><br><span class="line"></span><br><span class="line">theta = np.matrix(result2[<span class="number">0</span>])</span><br><span class="line">probability = sigmoid(X2 * theta.T)</span><br><span class="line">predictions = [<span class="number">1</span> <span class="keyword">if</span> x &gt;= <span class="number">0.5</span> <span class="keyword">else</span> <span class="number">0</span> <span class="keyword">for</span> x <span class="keyword">in</span> probability]</span><br><span class="line">correct = [<span class="number">1</span> <span class="keyword">if</span> ((a == <span class="number">1</span> <span class="keyword">and</span> b == <span class="number">1</span>) <span class="keyword">or</span> (a == <span class="number">0</span> <span class="keyword">and</span> b == <span class="number">0</span>)) <span class="keyword">else</span> <span class="number">0</span> <span class="keyword">for</span> (a, b) <span class="keyword">in</span> zip(predictions, y2)]</span><br><span class="line">accuracy = (sum(map(int, correct)) % len(correct))</span><br><span class="line">print(<span class="string">'accuracy = &#123;0&#125;%'</span>.format(accuracy))</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ML</category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>VS2017ç”Ÿæˆçš„.exeæ–‡ä»¶æ— æ³•åœ¨å…¶ä»–ç”µè„‘ä¸Šè¿è¡Œçš„è§£å†³æ–¹æ³•</title>
    <url>/2019/05/02/VS2017%E7%94%9F%E6%88%90%E7%9A%84.exe%E6%96%87%E4%BB%B6%E6%97%A0%E6%B3%95%E5%9C%A8%E5%85%B6%E5%AE%83%E7%94%B5%E8%84%91%E4%B8%8A%E8%BF%90%E8%A1%8C%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<ol>
<li><p>é¡¹ç›®-&gt;å±æ€§â€“&gt;é…ç½®å±æ€§â€“&gt;å¸¸è§„â€“&gt;MFCçš„ä½¿ç”¨ã€‚<br>  å°†å…¶æ”¹ä¸ºåœ¨é™æ€åº“ä¸­ä½¿ç”¨MFCã€‚ç„¶åé‡æ–°ç¼–è¯‘ã€‚</p>
<ol start="2">
<li><p>å…·ä½“è¿‡ç¨‹å¦‚ä¸‹å›¾</p>
<a id="more"></a>

</li>
</ol>
</li>
</ol>
<p>ä»¥æœ¬å·¥ç¨‹ä¸ºä¾‹ã€‚<br>åœ¨<strong>é¡¹ç›®</strong>é‡Œé¢é€‰æ‹©<strong>test521å±æ€§</strong>ã€‚<br><img src="https://img-blog.csdnimg.cn/20190502210356274.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0NoZXJpc2hfeA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">å°†<strong>å¸¸è§„</strong>é‡Œçš„<strong>MFCçš„ä½¿ç”¨</strong>æ›´æ”¹ä¸º<strong>åœ¨é™æ€åº“ä¸­ä½¿ç”¨MFC</strong><br><img src="https://img-blog.csdnimg.cn/20190502210714214.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0NoZXJpc2hfeA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>æœ€åé‡æ–°ç¼–è¯‘ç”Ÿæˆå³å¯ã€‚</p>
]]></content>
      <categories>
        <category>C/C++</category>
      </categories>
      <tags>
        <tag>vs2017</tag>
      </tags>
  </entry>
  <entry>
    <title>å„ç§æ’åºç®—æ³•çš„pythonå®ç°</title>
    <url>/2019/04/28/%E5%90%84%E7%A7%8D%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84python%E5%AE%9E%E7%8E%B0/</url>
    <content><![CDATA[<p>ï»¿ - å†’æ³¡æ’åº</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sortBubble</span><span class="params">(array)</span>:</span></span><br><span class="line">    <span class="string">'''å†’æ³¡æ’åº'''</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(len(array)):</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(array)<span class="number">-1</span>-j):</span><br><span class="line">            <span class="keyword">if</span> array[i] &gt; array[i+<span class="number">1</span>]:</span><br><span class="line">                array[i], array[i+<span class="number">1</span>] = array[i+<span class="number">1</span>], array[i]</span><br><span class="line"></span><br><span class="line">A = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">23</span>,<span class="number">12</span>,<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">sortBubble(A)</span><br><span class="line">print(A)</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p>ç»“æœï¼š<br><img src="https://img-blog.csdnimg.cn/2019042820195042.png" alt="å†’æ³¡æ’åº"></p>
<ul>
<li>é€‰æ‹©æ’åº</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sortSelection</span><span class="params">(array)</span>:</span></span><br><span class="line">    <span class="string">'''å†’æ³¡æ’åº'''</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(len(array)):</span><br><span class="line">        min = array[j]</span><br><span class="line">        k = j</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(j, len(array)):</span><br><span class="line">            <span class="keyword">if</span> array[i] &lt; min:</span><br><span class="line">                min = array[i]</span><br><span class="line">                k = i</span><br><span class="line">        array[k], array[j] = array[j], array[k]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">list = [<span class="number">3</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">32</span>, <span class="number">1</span>]</span><br><span class="line">sortSelection(list)</span><br><span class="line">print(list)</span><br></pre></td></tr></table></figure>

<p>ç»“æœ<br><img src="https://img-blog.csdnimg.cn/20190506161309466.png" alt="é€‰æ‹©æ’åº"></p>
<ul>
<li>å¿«é€Ÿæ’åº</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">qsort</span><span class="params">(list)</span>:</span></span><br><span class="line">    <span class="string">'''å¿«é€Ÿæ’åº'''</span></span><br><span class="line">    <span class="keyword">if</span> len(list) &lt; <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> list</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        mid = list[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">del</span> list[<span class="number">0</span>]</span><br><span class="line">        right, left = [], []</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> list:</span><br><span class="line">            <span class="keyword">if</span> x &gt;= mid:</span><br><span class="line">                right.append(x)</span><br><span class="line">            <span class="keyword">elif</span> x &lt; mid:</span><br><span class="line">                left.append(x)</span><br><span class="line">        <span class="keyword">return</span> qsort(left) + [mid] + qsort(right)</span><br><span class="line"></span><br><span class="line">num = [<span class="number">3</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">6</span>]</span><br><span class="line">print(qsort(num))</span><br></pre></td></tr></table></figure>

<p>ç»“æœ<br><img src="https://img-blog.csdnimg.cn/20190507211305725.png" alt="å¿«é€Ÿæ’åº"></p>
<ul>
<li>ç›´æ¥æ’å…¥æ’åº</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insert_sort</span><span class="params">(array)</span>:</span></span><br><span class="line">    <span class="string">'''ç›´æ¥æ’å…¥æ’åº'''</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len(array)):</span><br><span class="line">        temp = array[i]</span><br><span class="line">        j = i - <span class="number">1</span></span><br><span class="line">        print(array)</span><br><span class="line">        <span class="keyword">while</span> j &gt;= <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">if</span> temp &lt; array[j]:</span><br><span class="line">                array[j+<span class="number">1</span>] = array[j]</span><br><span class="line">                j = j - <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                array[j+<span class="number">1</span>] = temp</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        array[j + <span class="number">1</span>] = temp</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">array = [<span class="number">2</span>, <span class="number">1</span>,<span class="number">3</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">3</span>,<span class="number">5</span>]</span><br><span class="line">insert_sort(array)</span><br></pre></td></tr></table></figure>

<p>ç»“æœ<br><img src="https://img-blog.csdnimg.cn/20190520202814260.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0NoZXJpc2hfeA==,size_16,color_FFFFFF,t_70" alt="ç›´æ¥æ’å…¥æ’åº"></p>
]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>å´æ©è¾¾ã€Šæœºå™¨å­¦ä¹ ã€‹ç¬¬ä¸€æ¬¡ä½œä¸šâ€”â€”å¤šå˜é‡çº¿æ€§å›å½’</title>
    <url>/2019/04/27/%E5%90%B4%E6%81%A9%E8%BE%BE%E3%80%8A%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E3%80%8B%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%BD%9C%E4%B8%9A%E2%80%94%E2%80%94%E5%A4%9A%E5%8F%98%E9%87%8F%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/</url>
    <content><![CDATA[<p>ï»¿çœ‹è¿™é‡Œ <a href="https://github.com/fengdu78/Coursera-ML-AndrewNg-Notes/tree/master/code" target="_blank" rel="noopener">https://github.com/fengdu78/Coursera-ML-AndrewNg-Notes/tree/master/code</a><br>è¿™æ˜¯ä¸€ä½å¤§ç¥æ•´ç†çš„ä½œä¸šä»£ç ã€‚æˆ‘ä¹Ÿå°±æ˜¯ç…§è‘«èŠ¦ç”»ç“¢ï¼Œæ…¢æ…¢æ¥å§ã€‚</p>
<a id="more"></a>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">path = <span class="string">'ex1data2.txt'</span>   <span class="comment">#ç›¸å¯¹è·¯å¾„</span></span><br><span class="line">data = pd.read_csv(path, header=<span class="literal">None</span>, names=[<span class="string">'Size'</span>, <span class="string">'Bedrooms'</span>, <span class="string">'Price'</span>])</span><br><span class="line"></span><br><span class="line"><span class="string">'''è®°å½•ç›®æ ‡å˜é‡çš„å‡å€¼å’Œå’Œå·®å€¼'''</span></span><br><span class="line">meanPrice = data[<span class="string">'Price'</span>].mean()</span><br><span class="line">stdPrice = data[<span class="string">'Price'</span>].std()</span><br><span class="line"></span><br><span class="line"><span class="string">'''æ“ä½œæ•°æ®ï¼Œä»¥ä¾¿åç»­å¤„ç†'''</span></span><br><span class="line">data = (data-data.mean())/data.std()        <span class="comment">#ç‰¹å¾ç¼©æ”¾</span></span><br><span class="line">data.insert(<span class="number">0</span>, <span class="string">'Ones'</span>, <span class="number">1</span>)</span><br><span class="line">cols = data.shape[<span class="number">1</span>]</span><br><span class="line">X = data.iloc[:, <span class="number">0</span>:cols<span class="number">-1</span>]</span><br><span class="line">y = data.iloc[:, cols<span class="number">-1</span>:cols]</span><br><span class="line">X = np.matrix(X.values)     <span class="comment">#ç‰¹å¾å˜é‡</span></span><br><span class="line">y = np.matrix(y.values)     <span class="comment">#ç›®æ ‡å˜é‡</span></span><br><span class="line">theta = np.matrix(np.array([<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]))</span><br><span class="line"><span class="comment">#â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span></span><br><span class="line"><span class="comment">#cost function</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">computeCost</span><span class="params">(X, y, theta)</span>:</span></span><br><span class="line">    <span class="string">'''æŸå¤±å‡½æ•°'''</span></span><br><span class="line">    inner = np.power((X*theta.T - y), <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> np.sum(inner) / (<span class="number">2</span> * len(X))</span><br><span class="line"></span><br><span class="line">alpha = <span class="number">0.01</span></span><br><span class="line">iters = <span class="number">1000</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gradientDescent</span><span class="params">(X, y, theta, alpha, iters)</span>:</span></span><br><span class="line">    <span class="string">'''æ¢¯åº¦ä¸‹é™ç®—æ³•'''</span></span><br><span class="line">    temp = np.matrix(np.zeros(theta.shape))</span><br><span class="line">    cost = np.zeros(iters)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(iters):</span><br><span class="line">        inner = X * theta.T - y</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(temp.shape[<span class="number">1</span>]):</span><br><span class="line">            term = np.multiply(inner, X[:, j])</span><br><span class="line">            temp[<span class="number">0</span>, j] = theta[<span class="number">0</span>, j] - (alpha/len(X))*np.sum(term)</span><br><span class="line">        theta = temp    <span class="comment">#æ›´æ–°theta</span></span><br><span class="line">        cost[i] = computeCost(X, y, theta)</span><br><span class="line">    <span class="keyword">return</span> theta, cost</span><br><span class="line"></span><br><span class="line"><span class="string">'''æ¢¯åº¦ä¸‹é™'''</span></span><br><span class="line">theta, cost = gradientDescent(X, y, theta, alpha, iters)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">'''æµ‹è¯•é›†'''</span></span><br><span class="line">testpath = <span class="string">'testdata2.txt'</span></span><br><span class="line">testdata = pd.read_csv(testpath, header=<span class="literal">None</span>, names=[<span class="string">'Size'</span>, <span class="string">'Bedrooms'</span>])</span><br><span class="line">testdata = (testdata-testdata.mean())/testdata.std()        <span class="comment">#ç‰¹å¾ç¼©æ”¾</span></span><br><span class="line">testdata.insert(<span class="number">0</span>, <span class="string">'Ones'</span>, <span class="number">1</span>)</span><br><span class="line">Td = np.matrix(testdata)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">h_theta_x</span><span class="params">(theta, Td)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> Td*theta.T</span><br><span class="line">d1 = h_theta_x(theta, X)*stdPrice + meanPrice    <span class="comment">#é€†ç‰¹å¾ç¼©æ”¾</span></span><br><span class="line">d1 = d1.astype(np.int32)      <span class="comment">#å°†çŸ©é˜µå…ƒç´ ç±»å‹è½¬æ¢ä¸ºæ•´æ•°</span></span><br><span class="line">print(<span class="string">'é€šè¿‡æ¢¯åº¦ä¸‹é™'</span>)</span><br><span class="line">print(d1)</span><br><span class="line"></span><br><span class="line"><span class="string">'''ç»˜å›¾-cost functionçš„æ”¶æ•›'''</span></span><br><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">12</span>,<span class="number">8</span>))</span><br><span class="line">ax.plot(np.arange(iters), cost, <span class="string">'r'</span>)</span><br><span class="line">ax.set_xlabel(<span class="string">'Iterations'</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">'Cost'</span>)</span><br><span class="line">ax.set_title(<span class="string">'Error vs. Training Epoch'</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">normalEqn</span><span class="params">(X, y)</span>:</span></span><br><span class="line">    <span class="string">'''æ­£è§„æ–¹ç¨‹'''</span></span><br><span class="line">    theta = np.linalg.inv(X.T@X)@X.T@y</span><br><span class="line">    <span class="keyword">return</span> theta</span><br><span class="line"></span><br><span class="line">nEtheta = normalEqn(X, y)</span><br><span class="line"></span><br><span class="line"><span class="string">'''æµ‹è¯•é›†'''</span></span><br><span class="line">testpath = <span class="string">'testdata2.txt'</span></span><br><span class="line">testdata = pd.read_csv(testpath, header=<span class="literal">None</span>, names=[<span class="string">'Size'</span>, <span class="string">'Bedrooms'</span>])</span><br><span class="line">testdata = (testdata-testdata.mean())/testdata.std()        <span class="comment">#ç‰¹å¾å‡ä¸€åŒ–</span></span><br><span class="line">testdata.insert(<span class="number">0</span>, <span class="string">'Ones'</span>, <span class="number">1</span>)</span><br><span class="line">Td = np.matrix(testdata)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">h_theta_x</span><span class="params">(theta, Td)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> Td*theta.T</span><br><span class="line">d2 = h_theta_x(theta, X)*stdPrice + meanPrice    <span class="comment">#é€†ç‰¹å¾ç¼©æ”¾</span></span><br><span class="line">d2 = d2.astype(np.int32)      <span class="comment">#å°†çŸ©é˜µå…ƒç´ ç±»å‹è½¬æ¢ä¸ºæ•´æ•°</span></span><br><span class="line">print(<span class="string">'é€šè¿‡æ­£è§„æ–¹ç¨‹'</span>)</span><br><span class="line">print(d2)</span><br><span class="line"></span><br><span class="line">print(theta - nEtheta)		<span class="comment">#ç”¨æ¢¯åº¦ä¸‹é™å’Œæ­£è§„æ–¹ç¨‹æ±‚å¾—çš„å‚æ•°æ˜¯ä¸åŒçš„</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ML</category>
      </categories>
      <tags>
        <tag>ML</tag>
      </tags>
  </entry>
  <entry>
    <title>é˜Ÿåˆ—çš„pythonå®ç°</title>
    <url>/2019/04/26/%E9%98%9F%E5%88%97%E7%9A%84python%E5%AE%9E%E7%8E%B0/</url>
    <content><![CDATA[<p>ï»¿é˜Ÿåˆ—ï¼ˆqueue)ï¼Œæ˜¯ä¸€ç§<strong>æ“ä½œå—é™çš„çº¿æ€§è¡¨</strong>ã€‚åªå…è®¸åœ¨é˜Ÿåˆ—çš„ä¸€ç«¯æ·»åŠ å…ƒç´ ï¼Œåœ¨é˜Ÿåˆ—çš„å¦ä¸€ç«¯åˆ é™¤å…ƒç´ ã€‚èƒ½æ·»åŠ å…ƒç´ çš„ä¸€ç«¯ç§°ä¸º<strong>é˜Ÿå°¾</strong>ï¼Œèƒ½åˆ é™¤å…ƒç´ çš„ä¸€ç«¯ç§°ä¸º<strong>é˜Ÿå¤´</strong>ã€‚</p>
<a id="more"></a>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Queue</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    é˜Ÿåˆ—</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.__space = []</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isempty</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        <span class="keyword">return</span> self.__space == []</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">enqueue</span><span class="params">(self, item)</span>:</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        æ·»åŠ å…ƒç´ åˆ°å¯¹å¤´</span></span><br><span class="line"><span class="string">        :param item:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        self.__space.append(item)</span><br><span class="line">        <span class="comment">#self.__space.insert(0, item)</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dequeue</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        å¼¹å‡ºå…ƒç´ ä»é˜Ÿå°¾</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        self.__space.pop(<span class="number">0</span>)</span><br><span class="line">        <span class="comment">#self.__space.pop()</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">access</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        è¿”å›é˜Ÿåˆ—ä¸­çš„å…¨éƒ¨å…ƒç´ </span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        <span class="keyword">return</span> self.__space</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">size</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        é˜Ÿåˆ—å…ƒç´ ä¸ªæ•°</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        <span class="keyword">return</span> len(self.__space)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    qu = Queue()</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>é˜Ÿåˆ—</tag>
      </tags>
  </entry>
  <entry>
    <title>æ ˆçš„pythonå®ç°</title>
    <url>/2019/04/26/%E6%A0%88%E7%9A%84python%E5%AE%9E%E7%8E%B0/</url>
    <content><![CDATA[<p>ï»¿æ ˆï¼ˆstack),æ˜¯ä¸€ç§<strong>æ“ä½œå—é™çš„çº¿æ€§è¡¨</strong>ã€‚å®ƒçš„ç‰¹ç‚¹æ˜¯åªèƒ½åœ¨çº¿æ€§è¡¨çš„ä¸€ç«¯æ·»åŠ å…ƒç´ ã€åˆ é™¤å…ƒç´ ï¼Œèƒ½è¿›è¡Œæ·»åŠ ã€åˆ é™¤çš„å…ƒç´ çš„ä¸€ç«¯ç§°ä¸ºæ ˆé¡¶ï¼ˆtopï¼‰ï¼Œå¦å¤–ä¸€ç«¯ç§°ä¸ºæ ˆåº•ã€‚æŒ‰ç…§å…ˆè¿›åå‡ºï¼ˆLIFOï¼‰çš„åŸåˆ™è¿›è¡Œå…ƒç´ æ“ä½œã€‚</p>
<a id="more"></a>

<p><img src="https://img-blog.csdnimg.cn/2019042619572083.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0NoZXJpc2hfeA==,size_16,color_FFFFFF,t_70" alt="æ ˆ"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Stack</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    å †æ ˆ</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.__space = []</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isempty</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        <span class="keyword">return</span> self.__space == []</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">push</span><span class="params">(self, item)</span>:</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        æ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°æ ˆé¡¶</span></span><br><span class="line"><span class="string">        :param item:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        self.__space.append(item)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pop</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        å¼¹å‡ºæ ˆé¡¶å…ƒç´ </span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        self.__space.pop()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">access</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        è®¿é—®æ ˆå†…æ‰€æœ‰å…ƒç´ </span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        <span class="keyword">if</span> self.__space:</span><br><span class="line">            <span class="keyword">return</span> self.__space</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">size</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        è¿”å›æ ˆçš„å…ƒç´ ä¸ªæ•°</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        <span class="keyword">return</span> len(self.__space)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    s = Stack()</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>æ ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>pythoné“¾è¡¨æ“ä½œ</title>
    <url>/2019/04/19/Python%E9%93%BE%E8%A1%A8%E6%93%8D%E4%BD%9C/</url>
    <content><![CDATA[<p>pythonçš„é“¾è¡¨æ“ä½œ</p>
<a id="more"></a>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, value=None, next=None)</span>:</span></span><br><span class="line">        self.__value = value</span><br><span class="line">        self.__next = next</span><br><span class="line">        </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getValue</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> self.__value</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getNext</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> self.__next</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">setValue</span><span class="params">(self, newValue)</span>:</span></span><br><span class="line">    self.__value = newValue</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">setNext</span><span class="params">(self, nexNext)</span>:</span></span><br><span class="line">    self.__next = nexNext</span><br><span class="line">    </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Link</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.__head = Node()             <span class="comment">#å¤´ç»“ç‚¹ï¼Œä¸å­˜æ”¾å…ƒç´ ï¼Œå“¨å…µèŠ‚ç‚¹</span></span><br><span class="line">        self.__tail = <span class="literal">None</span></span><br><span class="line">        self.__length = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">isEmpty</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    åˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    <span class="keyword">return</span> self.__head.getNext() == <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(self, value)</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    å¤´æ’æ³•æ’å…¥å…ƒç´ </span></span><br><span class="line"><span class="string">    :param value:</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    newnode = Node(value, <span class="literal">None</span>)</span><br><span class="line">    newnode.setNext(self.__head.getNext())</span><br><span class="line">    self.__head.setNext(newnode)</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">append</span><span class="params">(self, value)</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    å°¾æ’æ³•æ’å…¥å…ƒç´ </span></span><br><span class="line"><span class="string">    :param value:</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    newnode = Node(value)</span><br><span class="line">    <span class="keyword">if</span> self.isEmpty():</span><br><span class="line">        self.__head.setNext(newnode)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        current = self.__head.getNext()</span><br><span class="line">        <span class="keyword">while</span> current.getNext() != <span class="literal">None</span>:</span><br><span class="line">            current = current.getNext()</span><br><span class="line">        current.setNext(newnode)</span><br><span class="line">        </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">search</span><span class="params">(self, value)</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    æŸ¥æ‰¾é“¾è¡¨ä¸­æ˜¯å¦å«æœ‰è¯¥å…ƒç´ </span></span><br><span class="line"><span class="string">    :param value:</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    current = self.__head</span><br><span class="line">    foundvalue = <span class="literal">False</span></span><br><span class="line">    <span class="keyword">while</span> current != <span class="literal">None</span> <span class="keyword">and</span> <span class="keyword">not</span> foundvalue:</span><br><span class="line">        <span class="keyword">if</span> current.getValue() == value:</span><br><span class="line">            foundvalue = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            current = current.getNext()</span><br><span class="line">    <span class="keyword">return</span> foundvalue</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">(self, value)</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    æŸ¥æ‰¾è¯¥å…ƒç´ åœ¨é“¾è¡¨ä¸­çš„ä¸‹æ ‡ä½ç½®ï¼Œ</span></span><br><span class="line"><span class="string">    è‹¥æ²¡æœ‰åˆ™è¿”å›None</span></span><br><span class="line"><span class="string">    :param value:</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    current = self._head</span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    found = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">while</span> current != <span class="literal">None</span> <span class="keyword">and</span> <span class="keyword">not</span> found:</span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> current.getValue() == value:</span><br><span class="line">            <span class="keyword">return</span> count</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    æ‰“å°é“¾è¡¨å…ƒç´ </span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    current = self.__head.getNext()</span><br><span class="line">    <span class="keyword">while</span> current != <span class="literal">None</span>:</span><br><span class="line">        print(current.getValue())</span><br><span class="line">        current = current.getNext()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">delete</span><span class="params">(self, value)</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    åˆ é™¤æŒ‡å®šå…ƒç´ </span></span><br><span class="line"><span class="string">    :param value:</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    current = self._head</span><br><span class="line">    <span class="keyword">while</span> current.getNext() != <span class="literal">None</span> <span class="keyword">and</span> current.getNext().getValue() != value:</span><br><span class="line">        current = current.getNext()</span><br><span class="line">    <span class="keyword">if</span> current.getNext() == <span class="literal">None</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>                    <span class="comment">#é“¾è¡¨ä¸­æ— æ­¤å…ƒç´ ï¼Œåˆ é™¤å¤±è´¥</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        r = current.getNext()</span><br><span class="line">        current.setNext(r.getNext())</span><br><span class="line">        <span class="keyword">del</span> r</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>é“¾è¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title>pythonåˆ é™¤åˆ—è¡¨å…ƒç´ çš„3ç§æ–¹æ³•</title>
    <url>/2019/04/01/python%E5%88%A0%E9%99%A4%E5%88%97%E8%A1%A8%E5%85%83%E7%B4%A0%E7%9A%843%E7%A7%8D%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<p>â€‹    1. remove:åˆ é™¤å•ä¸ªå…ƒç´ ï¼Œ<strong>æŒ‰å€¼åˆ é™¤</strong> </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">str = [<span class="number">1</span>ï¼Œ<span class="number">2</span>ï¼Œ<span class="number">3</span>]</span><br><span class="line">str.remove(<span class="number">2</span>)</span><br><span class="line">print(str)</span><br><span class="line"></span><br><span class="line">[<span class="number">1</span>,<span class="number">3</span>]</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>pop:åˆ é™¤å•ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œ<strong>æŒ‰ä½åˆ é™¤</strong></p>
<a id="more"></a>


</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">str = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">str.pop(<span class="number">2</span>)				<span class="comment">#ä¼šè¿”å›è¢«åˆ é™¤çš„å…ƒç´ çš„å€¼</span></span><br><span class="line">print(str)</span><br><span class="line"></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>]</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>del:<strong>æŒ‰ä½åˆ é™¤ï¼ˆæ ¹æ®å…ƒç´ åœ¨åˆ—è¡¨ä¸­çš„ä½ç½®ï¼‰</strong></li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">str = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">del</span> str[<span class="number">0</span>]</span><br><span class="line">print(str)</span><br><span class="line"></span><br><span class="line">[<span class="number">2</span>,<span class="number">3</span>]</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">str = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">del</span> str[<span class="number">0</span>:<span class="number">2</span>]			<span class="comment">#åˆ©ç”¨åˆ‡ç‰‡åˆ é™¤å¤šä¸ªå…ƒç´ </span></span><br><span class="line">print(str)</span><br><span class="line"></span><br><span class="line">[<span class="number">3</span>]</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">str = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">del</span> str			<span class="comment">#åˆ é™¤æ•´ä¸ªåˆ—è¡¨</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>åˆ—è¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title>åå…­è¿›åˆ¶è½¬åè¿›åˆ¶çš„Cè¯­è¨€å®ç°</title>
    <url>/2018/09/05/%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6%E8%BD%AC%E5%8D%81%E8%BF%9B%E5%88%B6%E7%9A%84C%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0/</url>
    <content><![CDATA[<p>å˜»å˜»ï¼Œç”¨åˆ°äº†å‰å‡ å¤©å­¦åˆ°çš„å¾ªç¯é˜Ÿåˆ—ï¼Œè®¤è¯†åˆ°äº†æ•°æ®ç»“æ„çš„é­…åŠ›ã€‚<br>å°†è¾“å…¥çš„æ•°æ®å…¥é˜Ÿåï¼Œå†æŒ¨ä¸ªå‡ºé˜Ÿï¼Œé¦–å…ˆæ£€æŸ¥é˜Ÿåˆ—çš„å‰ä¸¤ä¸ªæ•°æ®æ˜¯å¦ä¸ºâ€˜0xâ€™<br>è‹¥æ˜¯ï¼Œå†å°†å…¶ä»–æ•°æ®å‡ºé˜Ÿï¼Œå¹¶ä¸”å®Œæˆä¸€ç³»åˆ—æ“ä½œã€‚</p>
<a id="more"></a>

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span></span><br><span class="line"><span class="comment">//åå…­è¿›åˆ¶è½¬åè¿›åˆ¶ï¼ˆé˜Ÿåˆ—ï¼‰</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxSize 10</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">product2</span><span class="params">(<span class="keyword">int</span> n)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">word2num</span><span class="params">(<span class="keyword">char</span> w)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">hTod</span><span class="params">(<span class="keyword">char</span> a[])</span></span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">xQueue</span> &#123;</span></span><br><span class="line">	<span class="keyword">char</span> data[maxSize];</span><br><span class="line">	<span class="keyword">int</span> front, rear;</span><br><span class="line">	<span class="keyword">int</span> length;<span class="comment">//è¡¨ç¤ºé˜Ÿåˆ—é•¿åº¦</span></span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">char</span> a[<span class="number">50</span>];</span><br><span class="line">	gets(a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,hTod(a));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">hTod</span><span class="params">(<span class="keyword">char</span> a[])</span> </span>&#123;</span><br><span class="line">	<span class="keyword">char</span> c, b, d;</span><br><span class="line">	<span class="keyword">int</span> num = <span class="number">0</span>, numDem = <span class="number">0</span>;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">xQueue</span> <span class="title">que</span>;</span></span><br><span class="line">	que.front = <span class="number">0</span>; que.rear = <span class="number">0</span>;</span><br><span class="line">	que.length = <span class="number">0</span>;<span class="comment">//åˆå§‹åŒ–å¾ªç¯é˜Ÿåˆ—</span></span><br><span class="line">	<span class="keyword">char</span> *p = a;</span><br><span class="line">	<span class="keyword">while</span> (*p != <span class="string">'\0'</span>) &#123;</span><br><span class="line">		<span class="keyword">if</span> (que.front == (que.rear + <span class="number">1</span>) % maxSize)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//é˜Ÿåˆ—æ»¡</span></span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			que.rear = (que.rear + <span class="number">1</span>) % maxSize;</span><br><span class="line">			que.data[que.rear] = *p++;</span><br><span class="line">			que.length++;</span><br><span class="line">		&#125;		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	que.front = (que.front + <span class="number">1</span>) % maxSize;</span><br><span class="line">	c = que.data[que.front];</span><br><span class="line">	que.length--;</span><br><span class="line">	<span class="keyword">if</span> (c == <span class="string">'0'</span>) &#123;</span><br><span class="line">		que.front = (que.front + <span class="number">1</span>) % maxSize;</span><br><span class="line">		b = que.data[que.front];</span><br><span class="line">		que.length--;</span><br><span class="line">		<span class="keyword">if</span> (b != <span class="string">'x'</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">-2</span>;<span class="comment">//è¡¨ç¤ºè¾“å…¥ä¸æ˜¯åå…­è¿›åˆ¶</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-2</span>;</span><br><span class="line">	<span class="keyword">while</span> (que.front != que.rear) &#123;</span><br><span class="line">		que.front = (que.front + <span class="number">1</span>) % maxSize;</span><br><span class="line">		d = que.data[que.front];</span><br><span class="line">		<span class="keyword">if</span> (d &gt;= <span class="string">'A'</span> &amp;&amp; d &lt;= <span class="string">'F'</span>)</span><br><span class="line">			num = word2num(d);</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (d &gt;= <span class="string">'0'</span> &amp;&amp; d &lt;= <span class="string">'9'</span>)</span><br><span class="line">			num = d - <span class="string">'0'</span>;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			<span class="keyword">return</span> <span class="number">-3</span>;<span class="comment">//è¡¨ç¤ºä¸ç¬¦åˆåå…­è¿›åˆ¶çš„æ ¼å¼</span></span><br><span class="line">		que.length--;</span><br><span class="line">		numDem = numDem + num*product2(que.length);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> numDem;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">word2num</span><span class="params">(<span class="keyword">char</span> w)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> num;</span><br><span class="line">	<span class="keyword">switch</span>(w) &#123;</span><br><span class="line">		<span class="keyword">case</span> <span class="string">'A'</span>: num = <span class="number">10</span>; <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="string">'B'</span>: num = <span class="number">11</span>; <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="string">'C'</span>: num = <span class="number">12</span>; <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="string">'D'</span>: num = <span class="number">13</span>; <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="string">'E'</span>: num = <span class="number">14</span>; <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="string">'F'</span>: num = <span class="number">15</span>; <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">default</span>:num = <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> num;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">product2</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (n == <span class="number">1</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">16</span>;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">16</span> * product2(n<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>C/C++</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>å¾ªç¯é˜Ÿåˆ—</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ©ç”¨FFTé¢‘è°±åˆ†ææµ‹é‡é¢‘ç‡ä¸å¹…å€¼</title>
    <url>/2018/08/31/%E5%88%A9%E7%94%A8FFT%E9%A2%91%E8%B0%B1%E5%88%86%E6%9E%90%E6%B5%8B%E9%87%8F%E9%A2%91%E7%8E%87%E4%B8%8E%E5%B9%85%E5%80%BC/</url>
    <content><![CDATA[<p>ä¹‹å‰åšæ¯”èµ›çš„æ—¶å€™ï¼Œå‘ç°è¿™ç¯‡åšå®¢çš„è®¿é—®é‡æ¿€å¢ï¼Œæ„è¯†åˆ°ä¸€ä¸ä¸å¦™çš„æ„Ÿè§‰ï¼Œå°±èµ¶ç´§åˆ é™¤äº†ï¼Œä»Šå¤©è¡¥ä¸€ä¸‹ã€‚</p>
<p>ä¹‹å‰å¹…å€¼çš„é—®é¢˜ä¹Ÿè§£å†³äº†ã€‚æ˜¯æˆ‘æ²¡æŠŠè¾“å…¥ä¿¡å·è½¬æˆæœ‰ç¬¦å·ä¿¡å·é€åˆ°FFTï¼Œè€Œæ˜¯ç›´æ¥å°†å¤–éƒ¨ä¿¡å·é€å…¥è‡³FFTï¼Œè™½ç„¶é¢‘ç‡æ˜¯å¯¹çš„ï¼Œä½†æ˜¯å¹…å€¼å°±å‡ºç°äº†å¾ˆå¤§çš„é—®é¢˜ã€‚<br>å°†ä¿¡å·è½¬ä¸ºæœ‰ç¬¦å·ä¿¡å·åï¼Œç»FFTåå¾—åˆ°æœ€å¤§å€¼ï¼Œç„¶åæ ¹æ®ADçš„ä½å®½ï¼Œå†è½¬æˆå“åº”çš„å¹…å€¼ã€‚<br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<a id="more"></a>

<p>å…ˆæ”¾å‡ å¼ ä»¿çœŸå›¾ï¼Œé¢‘è°±åˆ†è¾¨ç‡åˆ†åˆ«æ˜¯1 10 100 1000ï¼Œè¾“å…¥ä¿¡å·é¢‘ç‡æ˜¯450Hzã€‚æˆ‘ä»¬å¯ä»¥ä»è¿™å‡ å¼ å›¾ä¸­ï¼Œå†æ¬¡è®¤è¯†åˆ°ç”¨FFTåšé¢‘è°±åˆ†æå‡ºç°è¯¯å·®çš„æ …æ æ•ˆåº”ï¼ˆåœ¨æˆ‘ä¸Šä¸€ç¯‡åšå®¢ä¸­æœ‰è¯¦ç»†è®²è§£ï¼Œå½“ç„¶å¤§å¤šæ˜¯æ‘˜è‡ªé«˜è¥¿å…¨è€å¸ˆçš„ã€Šæ•°å­—ä¿¡å·å¤„ç†ã€‹ä¸€ä¹¦ï¼‰ </p>
<p> <img src="https://img-blog.csdn.net/20180831172751335?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0NoZXJpc2hfeA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br> <img src="https://img-blog.csdn.net/20180831172806767?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0NoZXJpc2hfeA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br> <img src="https://img-blog.csdn.net/20180831172823100?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0NoZXJpc2hfeA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br> <img src="https://img-blog.csdn.net/20180831172833689?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0NoZXJpc2hfeA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br>   åˆ©ç”¨FFTæµ‹é¢‘çš„æ€è·¯æ˜¯å¯»æ‰¾æœ€å¤§å¹…å€¼ï¼Œç¡®å®šæœ€å¤§å¹…å€¼çš„RAMåœ°å€ï¼Œå†æ ¹æ®å…¬å¼å’Œé¢‘è°±åˆ†è¾¨ç‡ç›¸ç§°å³å¯ã€‚ç”¨FFTæµ‹é‡å¹…å€¼ï¼Œæˆ‘è™½ç„¶æ²¡æœ‰åšå‡ºæ¥ï¼Œå¯èƒ½æ˜¯å¤ªåºŸï¼Œä½†åŸç†è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ã€‚å¯»æ‰¾åˆ°æœ€å¤§å€¼åæ ¹æ®ç¼©æ”¾å› å­è¿›è¡Œå·¦ç§»æˆ–åç§»ï¼Œå†é™¤äºï¼ˆN/2ï¼‰ã€‚</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span>  Mre_Fre(</span><br><span class="line">    <span class="keyword">input</span>                               clk,</span><br><span class="line">    <span class="keyword">input</span>                               rst_n,</span><br><span class="line">    <span class="keyword">input</span>               [<span class="number">1</span>:<span class="number">0</span>]           NumKey1,</span><br><span class="line">    <span class="keyword">input</span>               [<span class="number">9</span>:<span class="number">0</span>]           Data_In,</span><br><span class="line">    <span class="keyword">input</span>               [<span class="number">9</span>:<span class="number">0</span>]           WrAddr,</span><br><span class="line">    <span class="keyword">output</span>              [<span class="number">19</span>:<span class="number">0</span>]      Assignment,<span class="comment">//å¹…å€¼</span></span><br><span class="line">    <span class="keyword">output</span>              [<span class="number">31</span>:<span class="number">0</span>]      Fre<span class="comment">//é¢‘ç‡</span></span><br><span class="line"></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span>     [<span class="number">9</span>:<span class="number">0</span>]       Fre_reso;<span class="comment">//é¢‘ç‡åˆ†è¾¨ç‡</span></span><br><span class="line"><span class="keyword">always</span> @  (<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n)</span><br><span class="line">    <span class="keyword">if</span>(!rst_n)</span><br><span class="line">        Fre_reso &lt;= <span class="number">1'b1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">case</span>(NumKey1)</span><br><span class="line">            <span class="number">2'd0</span> :</span><br><span class="line">                Fre_reso &lt;= <span class="number">1'b1</span>;</span><br><span class="line">            <span class="number">2'd1</span> :</span><br><span class="line">                Fre_reso &lt;= <span class="number">4'd10</span>;</span><br><span class="line">            <span class="number">2'd2</span> :</span><br><span class="line">                Fre_reso &lt;= <span class="number">7'd100</span>;</span><br><span class="line">            <span class="number">2'd3</span> :</span><br><span class="line">                Fre_reso &lt;= <span class="number">10'd1000</span>;</span><br><span class="line">        <span class="keyword">endcase</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//çŠ¶æ€é”å­˜      </span></span><br><span class="line"><span class="keyword">reg</span>     [<span class="number">9</span>:<span class="number">0</span>]       temp1,temp2,temp3;<span class="comment">//å¯„å­˜å™¨</span></span><br><span class="line"><span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n)</span><br><span class="line">    <span class="keyword">if</span>(!rst_n)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            temp1 &lt;= <span class="number">'d0</span>;</span><br><span class="line">            temp2 &lt;= <span class="number">'d0</span>;</span><br><span class="line">            temp3 &lt;= <span class="number">'d0</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            temp1 &lt;= Data_In;</span><br><span class="line">            temp2 &lt;= temp1;</span><br><span class="line">            temp3 &lt;= temp2;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span>     [<span class="number">1</span>:<span class="number">0</span>]           status;<span class="comment">//çŠ¶æ€</span></span><br><span class="line"><span class="keyword">reg</span>     [<span class="number">9</span>:<span class="number">0</span>]           A;<span class="comment">//å¹…å€¼</span></span><br><span class="line"><span class="keyword">reg</span>     [<span class="number">31</span>:<span class="number">0</span>]      F;<span class="comment">//é¢‘ç‡</span></span><br><span class="line"><span class="keyword">reg</span>                     Flag;<span class="comment">//å³°å€¼æ ‡å¿—ä½</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n)</span><br><span class="line">    <span class="keyword">if</span>(!rst_n)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            status &lt;= <span class="number">'d0</span>;</span><br><span class="line">            A &lt;= <span class="number">'d0</span>;</span><br><span class="line">            F &lt;= <span class="number">'d0</span>;</span><br><span class="line">            Flag &lt;= <span class="number">'d0</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">case</span>(status)</span><br><span class="line">            <span class="number">2'd0</span> :</span><br><span class="line">                <span class="keyword">if</span>(WrAddr == <span class="number">10'd1</span>)</span><br><span class="line">                    <span class="keyword">begin</span></span><br><span class="line">                        status &lt;= <span class="number">1'd1</span>;</span><br><span class="line">                        A &lt;= <span class="number">'d0</span>;</span><br><span class="line">                        F &lt;= <span class="number">'d0</span>;</span><br><span class="line">                        Flag &lt;= <span class="number">'d0</span>;</span><br><span class="line">                    <span class="keyword">end</span></span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">begin</span></span><br><span class="line">                        Flag &lt;= <span class="number">'d0</span>;</span><br><span class="line">                        status &lt;= <span class="number">'d0</span>;</span><br><span class="line">                    <span class="keyword">end</span></span><br><span class="line">            <span class="number">2'd1</span> :</span><br><span class="line">                <span class="keyword">if</span>(WrAddr &lt;= <span class="number">10'd512</span>)</span><br><span class="line">                    <span class="keyword">begin</span></span><br><span class="line">                        status &lt;= <span class="number">1'd1</span>;</span><br><span class="line">                        <span class="keyword">if</span>(temp2 - temp1 &gt; <span class="number">3'd5</span> &amp;&amp; temp2 &gt; temp3)</span><br><span class="line">                            <span class="keyword">begin</span></span><br><span class="line">                                <span class="keyword">if</span>(temp2 &gt;= A)</span><br><span class="line">                                    <span class="keyword">begin</span></span><br><span class="line">                                        F &lt;= WrAddr - <span class="number">2</span>;<span class="comment">//Ramçš„ç‰¹æ€§ï¼Œä¼šæœ‰ä¸¤ä¸ªåœ°å€çš„å»¶è¿Ÿã€‚</span></span><br><span class="line">                                        A &lt;= temp2;</span><br><span class="line">                                    <span class="keyword">end</span></span><br><span class="line">                            <span class="keyword">end</span></span><br><span class="line">                    <span class="keyword">end</span></span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">begin</span></span><br><span class="line">                        Flag &lt;= <span class="number">1'b1</span>;</span><br><span class="line">                        status &lt;= <span class="number">'d2</span>;                      </span><br><span class="line">                    <span class="keyword">end</span></span><br><span class="line">            <span class="number">2'd2</span> :</span><br><span class="line">                status &lt;= <span class="number">'d0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">endcase</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">assign</span>  Fre = Flag ? F*Fre_reso : Fre;</span><br><span class="line"><span class="keyword">assign</span>  Assignment = Flag ? A * <span class="number">2</span> : Assignment;</span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"><span class="meta">`</span></span><br></pre></td></tr></table></figure>

<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>FPGA</category>
      </categories>
      <tags>
        <tag>ç”µèµ›</tag>
      </tags>
  </entry>
  <entry>
    <title>ç­›é€‰æ³•æ±‚100ä»¥å†…çš„ç´ æ•°</title>
    <url>/2018/08/31/%E7%AD%9B%E9%80%89%E6%B3%95%E6%B1%82100%E4%BB%A5%E5%86%85%E7%9A%84%E7%B4%A0%E6%95%B0/</url>
    <content><![CDATA[<p>å°†100ä¸ªè‡ªç„¶æ•°æœ‰åºæ’åˆ—ã€‚<br> ç¬¬ä¸€ä¸ªæ•°1ä¸æ˜¯è´¨æ•°ä¹Ÿä¸æ˜¯åˆæ•°ï¼Œä¸åšå¤„ç†ã€‚<br>ç¬¬äºŒä¸ªæ•°2æ˜¯è´¨æ•°ï¼Œç•™ä¸‹ï¼Œå¹¶æŠŠ100ä»¥å†…èƒ½å°†2æ•´é™¤çš„æ•°åˆ’æ‰ï¼ˆç½®ä¸º1ï¼‰<br>ç¬¬ä¸‰ä¸ªæ•°3æ˜¯è´¨æ•°ï¼Œç•™ä¸‹ï¼Œå¹¶æŠŠ100ä»¥å†…èƒ½å°†3æ•´é™¤çš„æ•°åˆ’æ‰ï¼ˆç½®1ï¼‰</p>
<a id="more"></a>

<p>ã€‚<br>ã€‚<br>ã€‚</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isPreme</span><span class="params">(<span class="keyword">int</span> x)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> num[<span class="number">100</span>];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">100</span>; i++)&#123;</span><br><span class="line">		num[i<span class="number">-1</span>] = i;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (num[i] == <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num[i] != <span class="number">1</span>)&#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; <span class="number">100</span>; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (num[j] % num[i] == <span class="number">0</span>)</span><br><span class="line">					num[j] = <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (i == <span class="number">0</span>)	<span class="built_in">printf</span>(<span class="string">"%d\t"</span>, num[i]);</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num[i] != num[<span class="number">0</span>])</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%d\t"</span>,num[i]);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>C/C++</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>äºŒåˆ†æ³•æ±‚æ–¹ç¨‹çš„æ ¹</title>
    <url>/2018/08/28/%E4%BA%8C%E5%88%86%E6%B3%95%E6%B1%82%E6%96%B9%E7%A8%8B%E7%9A%84%E6%A0%B9/</url>
    <content><![CDATA[<p>ï»¿äºŒåˆ†æ³•çš„åŸç†å…¶å®è¿˜æ˜¯é›¶ç‚¹å®šç†çš„åº”ç”¨ã€‚</p>
<a id="more"></a>

<p>é¦–å…ˆå¿…é¡»è¦æœ‰ä¸€ä¸ªåˆè¯•åŒºé—´ï¼Œè€Œä¸”åŒºé—´ç«¯ç‚¹çš„å‡½æ•°å€¼å¼‚å·ï¼Œç”±é›¶ç‚¹å®šç†å¯ä»¥çŸ¥é“åœ¨æ¬¡åŒºé—´å†…è‡³å°‘å­˜åœ¨ä¸€ä¸ªé›¶ç‚¹ã€‚ç„¶åå–åŒºé—´çš„ä¸­é—´å€¼ï¼Œè¿™æ ·å°±æŠŠä¸€ä¸ªåŒºé—´åˆ†æˆäº†ä¸¤ä¸ªåŒºé—´ï¼Œå†è¿ç”¨é›¶ç‚¹å®šç†åˆ¤æ–­é›¶ç‚¹å­˜åœ¨ä¸å“ªä¸ªåŒºé—´ä¸­ï¼Œå†åœ¨å«æœ‰é›¶ç‚¹çš„åŒºé—´å–ä¸­é—´å€¼ï¼Œå°±ä»¥è¿™æ ·ä¸€æ¬¡ä¸€æ¬¡çš„å–ä¸­é—´å€¼ï¼Œåˆ¤æ–­é›¶ç‚¹æ˜¯å¦å­˜åœ¨ï¼Œå½“åŒºé—´ä¸¤ç«¯ç‚¹çš„å·®çš„ç»å¯¹å€¼ç¬¦åˆç²¾åº¦æ˜¯å³å¯åœæ­¢ã€‚</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span></span><br><span class="line"><span class="comment">//äºŒåˆ†æ³•æ±‚è¿‘ä¼¼çš„æ–¹ç¨‹æ ¹</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span>	<span class="title">funY</span><span class="params">(<span class="keyword">double</span> x)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">double</span> x1 = <span class="number">-10</span>, x2 = <span class="number">10</span>;<span class="comment">//åˆè¯•åŒºé—´[-10ï¼Œ10]</span></span><br><span class="line">	<span class="keyword">double</span> x;</span><br><span class="line">	<span class="keyword">double</span> y1, y2,y;</span><br><span class="line">	y1 = funY(x1);</span><br><span class="line">	y2 = funY(x2);</span><br><span class="line">	<span class="keyword">while</span> (y1*y2 &lt; <span class="number">0</span> &amp;&amp; <span class="built_in">fabs</span>(x2 - x1) &gt;= <span class="number">1e-6</span>)	&#123;</span><br><span class="line">		x = (x1 + x2) / <span class="number">2</span>;</span><br><span class="line">		y = funY(x);</span><br><span class="line">		<span class="keyword">if</span> (y*y1 &lt; <span class="number">0</span>) &#123;</span><br><span class="line">			x2 = x;</span><br><span class="line">			y2 = y;</span><br><span class="line">		&#125;	</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (y*y2 &lt; <span class="number">0</span>) &#123;</span><br><span class="line">			x1 = x;</span><br><span class="line">			y1 = y;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (y == <span class="number">0</span>) </span><br><span class="line">			<span class="keyword">break</span>;	</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%lf\n"</span>, x);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span>	<span class="title">funY</span><span class="params">(<span class="keyword">double</span> x)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">double</span> y;</span><br><span class="line">	y = <span class="number">2</span> * x*x*x - <span class="number">4</span> * x*x + <span class="number">3</span> * x - <span class="number">6</span>;</span><br><span class="line">	<span class="keyword">return</span> y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>C/C++</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>ç‰›é¡¿è¿­ä»£æ³•çš„Cè¯­è¨€å®ç°</title>
    <url>/2018/08/25/%E7%89%9B%E9%A1%BF%E8%BF%AD%E4%BB%A3%E6%B3%95%E7%9A%84C%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0/</url>
    <content><![CDATA[<p>ç‰›é¡¿è¿­ä»£æ³•æ˜¯æ±‚æ–¹ç¨‹æ ¹çš„ä¸€ç§è§£æ³•ã€‚</p>
<p>ä¸€ã€æ±‚ä¸€ä¸ªæ•°açš„å¹³æ–¹æ ¹ï¼Œå¯ä»¥ç”¨è¿­ä»£æ³•æ— é™é€¼è¿‘ã€‚<br>è¿­ä»£æ³•å…¬å¼å¦‚ä¸‹</p>
<a id="more"></a>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">X2 = (x1+a/x1)/2</span><br></pre></td></tr></table></figure>

<p>S1ï¼Œè¦å…ˆé¢„ä¼°ä¸€ä¸ªå€¼x1ï¼Œé€šå¸¸å–x1=a/2;<br>S2ï¼Œå¸¦å…¥è¿­ä»£å…¬å¼ï¼Œå¾—åˆ°x2ï¼›<br>S3ï¼Œè®¡ç®—x1 å’Œ x2 çš„å·®çš„ç»å¯¹å€¼æ˜¯å¦ç¬¦åˆç²¾ç¡®åº¦ï¼›è‹¥ç¬¦åˆåˆ™x2ä¾¿æ˜¯ç»“æœï¼Œè‹¥ä¸ç¬¦åˆè¿›å…¥S4ï¼›<br>S4ï¼Œx1 = x2ï¼Œç„¶åé‡å¤S2ã€S3ï¼Œç›´åˆ°ç¬¦åˆç²¾ç¡®åº¦ã€‚</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">float</span> a;</span><br><span class="line">	<span class="keyword">float</span> x1, x2;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥å¾…æ±‚å¹³æ–¹æ ¹çš„æ•°ï¼š"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%f"</span>,&amp;a);</span><br><span class="line">	x1 = a / <span class="number">2</span>;</span><br><span class="line">	x2 = (x1 + a / x1) / <span class="number">2</span>;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">fabs</span>(x1 - x2) &gt;= <span class="number">1e-5</span>) &#123;</span><br><span class="line">		x1 = x2;</span><br><span class="line">		x2 = (x1 + a / x1) / <span class="number">2</span>;</span><br><span class="line">	&#125;   </span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%f"</span>,x2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>äºŒã€æ±‚ä¸€å…ƒå¤šæ¬¡æ–¹ç¨‹çš„æ ¹<br>è¿­ä»£å…¬å¼ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">x2 = x1 - f(x1)/df(x1);</span><br></pre></td></tr></table></figure>

<p>ç®—æ³•çš„åŸºæœ¬è®¾è®¡æ€æƒ³ä¸æ±‚å¹³æ–¹æ ¹ç›¸åŒã€‚ä¸å†èµ˜è¿°</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span></span><br><span class="line"><span class="comment">//ç‰›é¡¿è¿­ä»£æ³•æ±‚æ–¹ç¨‹çš„æ ¹</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">funY</span><span class="params">(<span class="keyword">double</span> x)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">funY1</span><span class="params">(<span class="keyword">double</span> x)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">double</span> x, x1, x2;</span><br><span class="line"></span><br><span class="line">	x1 = <span class="number">1.5</span>;<span class="comment">//æ±‚1.5é™„è¿‘çš„æ ¹</span></span><br><span class="line">	x2 = x1 - funY(x1) / funY1(x1);</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">fabs</span>(x2 - x1) &gt; <span class="number">1e-6</span>) &#123;</span><br><span class="line">		x1 = x2;</span><br><span class="line">		x2 = x2 = x1 - funY(x1) / funY1(x1);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%lf"</span>,x2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span></span><br><span class="line"><span class="comment">//	yçš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">funY</span><span class="params">(<span class="keyword">double</span> x)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">double</span> y;</span><br><span class="line">	y = <span class="number">2</span> * x*x*x - <span class="number">4</span> * x*x + <span class="number">3</span> * x - <span class="number">6</span>;</span><br><span class="line">	<span class="keyword">return</span> y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//yçš„ä¸€é˜¶å¯¼æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">funY1</span><span class="params">(<span class="keyword">double</span> x)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">double</span> y1;</span><br><span class="line">	y1 = <span class="number">6</span> * x*x - <span class="number">8</span> * x + <span class="number">3</span>;</span><br><span class="line">	<span class="keyword">return</span> y1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>C/C++</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>C</tag>
      </tags>
  </entry>
  <entry>
    <title>æœ€å¤§å…¬çº¦æ•°å’Œæœ€å°å…¬å€æ•°çš„è§£å†³æ–¹æ¡ˆ</title>
    <url>/2018/08/25/%E6%9C%80%E5%A4%A7%E5%85%AC%E7%BA%A6%E6%95%B0%E5%92%8C%E6%9C%80%E5%B0%8F%E5%85%AC%E5%80%8D%E6%95%B0%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/</url>
    <content><![CDATA[<p>ï»¿æœ€å¤§å…¬å› æ•°ï¼Œä¹Ÿç§°æœ€å¤§å…¬çº¦æ•°ã€æœ€å¤§å…¬å› å­ï¼ŒæŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªæ•´æ•°å…±æœ‰çº¦æ•°ä¸­æœ€å¤§çš„ä¸€ä¸ªã€‚ä¾‹å¦‚24ã€60ï¼Œä»–ä»¬çš„æœ€å¤§å…¬çº¦æ•°å°±æ˜¯12.<br>ä¸¤ä¸ªæˆ–å¤šä¸ªæ•´æ•°å…¬æœ‰çš„å€æ•°å«åšå®ƒä»¬çš„å…¬å€æ•°ï¼Œå…¶ä¸­é™¤0ä»¥å¤–æœ€å°çš„ä¸€ä¸ªå…¬å€æ•°å°±å«åšè¿™å‡ ä¸ªæ•´æ•°çš„æœ€å°å…¬å€æ•°ã€‚ä¾‹å¦‚24ã€60ï¼Œä»–ä»¬çš„æœ€å°å…¬å€æ•°æ˜¯120ã€‚</p>
<a id="more"></a>

<p>æœ€å¤§å…¬çº¦æ•°çš„è§£å†³æ–¹æ¡ˆå¯ä»¥ä½¿ç”¨æ¬§å‡ é‡Œå¾—ç®—æ³•ã€‚<br>ä¾‹å¦‚ï¼Œæ±‚ï¼ˆ319ï¼Œ377ï¼‰ï¼š<br>âˆµ 319Ã·377=0ï¼ˆä½™319ï¼‰<br>âˆ´ï¼ˆ319ï¼Œ377ï¼‰=ï¼ˆ377ï¼Œ319ï¼‰ï¼›<br>âˆµ 377Ã·319=1ï¼ˆä½™58ï¼‰<br>âˆ´ï¼ˆ377ï¼Œ319ï¼‰=ï¼ˆ319ï¼Œ58ï¼‰ï¼›<br>âˆµ 319Ã·58=5ï¼ˆä½™29ï¼‰<br>âˆ´ ï¼ˆ319ï¼Œ58ï¼‰=ï¼ˆ58ï¼Œ29ï¼‰ï¼›<br>âˆµ 58Ã·29=2ï¼ˆä½™0ï¼‰<br>âˆ´ ï¼ˆ58ï¼Œ29ï¼‰= 29ï¼›<br>âˆ´ ï¼ˆ319ï¼Œ377ï¼‰=29ã€‚<br>æœ€å°å…¬å€æ•°å¯ä»¥ç”¨ä¸¤ä¸ªæ•°ç›¸ä¹˜ç„¶åé™¤ä»¥æœ€å¤§å…¬çº¦æ•°ã€‚ï¼ˆa*b/æœ€å¤§å…¬çº¦æ•°ï¼‰</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span></span><br><span class="line"><span class="comment">//åˆ¤æ–­ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°å’Œæœ€å°å…¬å€æ•°</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcomfac</span><span class="params">(<span class="keyword">int</span> m,<span class="keyword">int</span> n)</span></span>;<span class="comment">//æœ€å¤§å…¬çº¦æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lcommult</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n, <span class="keyword">int</span> x)</span></span>;<span class="comment">//æœ€å°å…¬å€æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> m, n, gfac, lcm;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥ä¸¤ä¸ªæ•°ï¼š"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;m,&amp;n);</span><br><span class="line">	gfac = gcomfac(m,n);</span><br><span class="line">	lcm = lcommult(m,n,gfac);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"æœ€å¤§å…¬çº¦æ•°ï¼š%d\næœ€å°å…¬å€æ•°ï¼š%d\n"</span>,gfac,lcm);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcomfac</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> result;</span><br><span class="line">	<span class="keyword">if</span> (m / n == <span class="number">0</span>)</span><br><span class="line">		result = gcomfac(n, m);</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (m%n == <span class="number">0</span>)</span><br><span class="line">		result = n;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (m%n != <span class="number">0</span>)</span><br><span class="line">		result = gcomfac(n, m%n);</span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lcommult</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n, <span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> lcm;</span><br><span class="line">	lcm = (m*n) / x;</span><br><span class="line">	<span class="keyword">return</span> lcm;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>æœ€å¤§å…¬çº¦æ•°</tag>
        <tag>æœ€å°å…¬å€æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title>pythonä¸­çš„ä¸‰ç›®è¿ç®—</title>
    <url>/2018/05/31/python%E4%B8%AD%E7%9A%84%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97/</url>
    <content><![CDATA[<p>ï»¿pythonä¸­çš„ä¸‰ç›®è¿ç®—å’ŒCè¯­è¨€æœ‰ç‚¹ä¸åŒã€‚</p>
<a id="more"></a>

<p>Cè¯­è¨€é‡Œ</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">4</span>;</span><br><span class="line">c = (a &lt; b) ? a : b<span class="comment">//å–æœ€å°å€¼</span></span><br></pre></td></tr></table></figure>

<p>pythonä¸­</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a, b = <span class="number">3</span>, <span class="number">4</span></span><br><span class="line"><span class="comment">#ç¬¬ä¸€ç§æ–¹æ³•ï¼štrue if condition else false</span></span><br><span class="line">c = a <span class="keyword">if</span> a &lt; b <span class="keyword">else</span> b</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¬¬äºŒç§æ–¹æ³•ï¼šcondition and ture or false</span></span><br><span class="line">d = a &lt; b <span class="keyword">and</span> a <span class="keyword">or</span> b</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ç¬¬äºŒç§æ–¹æ³•ç®—æ˜¯å¯¹é€»è¾‘è¿ç®—ç¬¦çš„ç†Ÿç»ƒè¿ç”¨å§<br>åœ¨aã€béƒ½ä¸ºçœŸçš„æƒ…å†µä¸‹<br>å½“conditionä¸ºçœŸçš„æ—¶å€™ï¼Œå˜æˆTure and a or b ,ä¹Ÿå°±æ˜¯aï¼Œå› ä¸ºorè¯­å¥å½“å·¦è¾¹æ“ä½œæ•°ä¸ºçœŸæ—¶ï¼Œå°±ä¸å†åˆ¤æ–­å³è¾¹æ“ä½œæ•°ã€‚<br>å½“conditionä¸ºå‡çš„æ—¶å€™ï¼Œå˜æˆFalse and a or b ï¼Œä¹Ÿå°±æ˜¯b,å› ä¸ºandè¯­å¥å½“å·¦è¾¹æ“ä½œæ•°ä¸ºå‡æ—¶ï¼Œä¸å†åˆ¤æ–­å³è¾¹æ“ä½œæ•°ï¼Œç›´æ¥ä¸ºFalseã€‚</p>
]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>ä¸‰ç›®è¿ç®—</tag>
      </tags>
  </entry>
  <entry>
    <title>verilogä¸­çš„generateè¯­å¥</title>
    <url>/2018/04/01/verilog%E4%B8%AD%E7%9A%84generate%E8%AF%AD%E5%8F%A5/</url>
    <content><![CDATA[<p>ï»¿generateè¯­å¥å¯ä»¥åŠ¨æ€çš„ç”Ÿæˆverilogä»£ç ï¼Œå½“å¯¹çŸ¢é‡ä¸­çš„å¤šä¸ªä½è¿›è¡Œé‡å¤æ“ä½œæ—¶ï¼Œæˆ–è€…å½“è¿›è¡Œå¤šä¸ªæ¨¡å—çš„å®ä¾‹å¼•ç”¨çš„é‡å¤æ“ä½œæ—¶ï¼Œæˆ–è€…æ ¹æ®å‚æ•°çš„å®šä¹‰æ¥ç¡®å®šç¨‹åºä¸­æ˜¯å¦åº”è¯¥åŒ…å«æŸæ®µVerilogä»£ç çš„æ—¶å€™ï¼Œä½¿ç”¨ç”Ÿæˆè¯­å¥èƒ½å¤§å¤§ç®€åŒ–ç¨‹åºçš„ç¼–å†™è¿‡ç¨‹ã€‚</p>
<a id="more"></a>

<p>â€‹       ç”Ÿæˆè¯­å¥ç”Ÿæˆçš„å®ä¾‹èŒƒå›´ï¼Œå…³é”®å­—generate-endgenerateç”¨æ¥æŒ‡å®šè¯¥èŒƒå›´ã€‚ç”Ÿæˆå®ä¾‹å¯ä»¥æ˜¯ä»¥ä¸‹çš„ä¸€ä¸ªæˆ–å¤šä¸ªç±»å‹ï¼š<br>â€‹       ï¼ˆ1ï¼‰æ¨¡å—ï¼›ï¼ˆ2ï¼‰ç”¨æˆ·å®šä¹‰åŸè¯­ï¼›ï¼ˆ3ï¼‰é—¨çº§è¯­å¥ï¼›ï¼ˆ4ï¼‰è¿ç»­èµ‹å€¼è¯­å¥ï¼›ï¼ˆ5ï¼‰initialå’Œalwayså—ã€‚<br>â€‹       generateè¯­å¥æœ‰generate-forï¼Œgenerate-ifï¼Œgenerate-caseä¸‰ç§è¯­å¥ã€‚<br>1.generate-forè¯­å¥<br>ï¼ˆ1) å¿…é¡»æœ‰genvarå…³é”®å­—å®šä¹‰forè¯­å¥çš„å˜é‡ã€‚<br>ï¼ˆ2ï¼‰forè¯­å¥çš„å†…å®¹å¿…é¡»åŠ beginå’Œendï¼ˆå³ä½¿å°±ä¸€å¥ï¼‰ã€‚<br>ï¼ˆ3ï¼‰forè¯­å¥å¿…é¡»æœ‰ä¸ªåå­—ã€‚<br>ä¾‹1ï¼šassignè¯­å¥å®ç°</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> test(bin,gray);</span><br><span class="line">       <span class="keyword">parameter</span> SIZE=<span class="number">8</span>;</span><br><span class="line">       <span class="keyword">output</span> [SIZE-<span class="number">1</span>:<span class="number">0</span>] bin;</span><br><span class="line">       <span class="keyword">input</span> [SIZE-<span class="number">1</span>:<span class="number">0</span>] gray;</span><br><span class="line">       <span class="keyword">genvar</span> i; <span class="comment">//genvar i;ä¹Ÿå¯ä»¥å®šä¹‰åˆ°generateè¯­å¥é‡Œé¢</span></span><br><span class="line">       <span class="keyword">generate</span></span><br><span class="line">              <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;SIZE;i=i+<span class="number">1</span>)</span><br><span class="line">              <span class="keyword">begin</span>:<span class="keyword">bit</span></span><br><span class="line">                     <span class="keyword">assign</span> bin[i]=^gray[SIZE-<span class="number">1</span>:i];</span><br><span class="line">              <span class="keyword">end</span></span><br><span class="line">       <span class="keyword">endgenerate</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<p>ç­‰åŒäº</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">assign</span> bin[<span class="number">0</span>]=^gray[SIZE-<span class="number">1</span>:<span class="number">0</span>];</span><br><span class="line"><span class="keyword">assign</span> bin[<span class="number">1</span>]=^gray[SIZE-<span class="number">1</span>:<span class="number">1</span>];</span><br><span class="line"><span class="keyword">assign</span> bin[<span class="number">2</span>]=^gray[SIZE-<span class="number">1</span>:<span class="number">2</span>];</span><br><span class="line"><span class="keyword">assign</span> bin[<span class="number">3</span>]=^gray[SIZE-<span class="number">1</span>:<span class="number">3</span>];</span><br><span class="line"><span class="keyword">assign</span> bin[<span class="number">4</span>]=^gray[SIZE-<span class="number">1</span>:<span class="number">4</span>];</span><br><span class="line"><span class="keyword">assign</span> bin[<span class="number">5</span>]=^gray[SIZE-<span class="number">1</span>:<span class="number">5</span>];</span><br><span class="line"><span class="keyword">assign</span> bin[<span class="number">6</span>]=^gray[SIZE-<span class="number">1</span>:<span class="number">6</span>];</span><br><span class="line"><span class="keyword">assign</span> bin[<span class="number">7</span>]=^gray[SIZE-<span class="number">1</span>:<span class="number">7</span>];</span><br></pre></td></tr></table></figure>

<p>ä¾‹2</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">generate</span></span><br><span class="line">       <span class="keyword">genvar</span> i;</span><br><span class="line">       <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;SIZE;i=i+<span class="number">1</span>)</span><br><span class="line">       <span class="keyword">begin</span>:shifter</span><br><span class="line">              <span class="keyword">always</span>@(<span class="keyword">posedge</span> clk)</span><br><span class="line">                     shifter[i]&lt;=(i==<span class="number">0</span>)?din:shifter[i-<span class="number">1</span>];</span><br><span class="line">       <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endgenerate</span></span><br></pre></td></tr></table></figure>

<p>ç­‰åŒäº</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">always</span>@(<span class="keyword">posedge</span> clk)</span><br><span class="line">       shifter[<span class="number">0</span>]&lt;=din;</span><br><span class="line"><span class="keyword">always</span>@(<span class="keyword">posedge</span> clk)</span><br><span class="line">       shifter[<span class="number">1</span>]&lt;=shifter[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">always</span>@(<span class="keyword">posedge</span> clk)</span><br><span class="line">       shifter[<span class="number">2</span>]&lt;=shifter[<span class="number">1</span>];</span><br><span class="line">.................</span><br><span class="line">       ......................</span><br><span class="line"><span class="keyword">always</span>@(<span class="keyword">posedge</span> clk)</span><br><span class="line">       shifter[SIZE]&lt;=shifter[SIZE-<span class="number">1</span>];</span><br></pre></td></tr></table></figure>

<p>generate-ifï¼Œgenerate-caseå’Œgenerate-forè¯­å¥ç±»ä¼¼ã€‚</p>
<p>è½¬è½½è‡ªï¼š<a href="http://lihaichuan.blog.51cto.com/498079/1118866" target="_blank" rel="noopener">http://lihaichuan.blog.51cto.com/498079/1118866</a></p>
]]></content>
      <categories>
        <category>FPGA</category>
      </categories>
      <tags>
        <tag>FPGA</tag>
        <tag>verilog</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ©ç”¨esp8266wifiä¿¡å·å¼ºåº¦æµ‹è·</title>
    <url>/2018/02/24/%E5%88%A9%E7%94%A8esp8266wifi%E4%BF%A1%E5%8F%B7%E5%BC%BA%E5%BA%A6%E6%B5%8B%E8%B7%9D/</url>
    <content><![CDATA[<p>ï»¿[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-ThlOzYaT-1571226330026)]<br>å‘esp8266å‘é€æŒ‡ä»¤</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">AT + CWLAP</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥å¾—åˆ°å½“å‰å¯åŠ å…¥wifiä¿¡å·çš„ä¿¡æ¯ï¼Œå…¶ä¸­åŒ…æ‹¬çš„rssiï¼Œå°±æ˜¯æˆ‘ä»¬æ‰€éœ€è¦çš„ã€‚<br>æå–å‡ºrssiï¼Œç„¶åå¸¦å…¥å…¬å¼<br>    <a id="more"></a><br>    d = 10^((abs(rssi) - A) / (10 * n))<br>å³å¯å¾—åˆ°æ¥æ”¶æœºå’Œå‘å°„æœºä¹‹é—´çš„å¤§æ¦‚è·ç¦»ã€‚<br>æ•ˆæœå›¾<br>[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-ciPf4oMU-1571226330029)(<a href="http://img.blog.csdn.net/20180224154307689?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvQ2hlcmlzaF94/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)]" target="_blank" rel="noopener">http://img.blog.csdn.net/20180224154307689?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvQ2hlcmlzaF94/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)]</a></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"reg52.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"string.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"math.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> uint;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> uchar;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NAME 9   <span class="comment">//xutianyun</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>	N 40				<span class="comment">//N = 10 * n ,å…¶ä¸­nä¸ºç¯å¢ƒè¡°å‡å› å­ï¼Œ3.25-4.5</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> A 51			<span class="comment">//æ¥æ”¶æœºå’Œå‘å°„æœºé—´éš”1mæ—¶çš„ä¿¡å·å¼ºåº¦</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> rssidata = <span class="number">0</span>;</span><br><span class="line">uchar recbuffer[<span class="number">32</span>];</span><br><span class="line">uint cnt = <span class="number">0</span>;</span><br><span class="line">uint getit = <span class="number">0</span>;</span><br><span class="line">uint datalen = <span class="number">0</span>;</span><br><span class="line">uchar wifi_rssi[<span class="number">5</span>];</span><br><span class="line">uchar wifi_ssid[<span class="number">11</span>] = &#123;<span class="string">'"'</span>,<span class="string">'x'</span>,<span class="string">'u'</span>,<span class="string">'t'</span>,<span class="string">'i'</span>,<span class="string">'a'</span>,<span class="string">'n'</span>,<span class="string">'y'</span>,<span class="string">'u'</span>,<span class="string">'n'</span>,<span class="string">'"'</span>&#125;;</span><br><span class="line"><span class="keyword">float</span> d;</span><br><span class="line">uint dis;</span><br><span class="line">uchar temp;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">UsartInit</span><span class="params">(<span class="keyword">void</span>)</span>	</span>&#123;</span><br><span class="line">	SCON = <span class="number">0x50</span>;</span><br><span class="line">	TMOD = <span class="number">0x20</span>;</span><br><span class="line">	PCON = <span class="number">0x80</span>;</span><br><span class="line">	TH1  = <span class="number">0xF3</span>;</span><br><span class="line">	TL1  = <span class="number">0xF3</span>;</span><br><span class="line">	ES   = <span class="number">1</span>;</span><br><span class="line">	EA   = <span class="number">1</span>;</span><br><span class="line">	TR1  = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SendUart</span><span class="params">(uchar value)</span>	</span>&#123;</span><br><span class="line">	ES = <span class="number">0</span>;</span><br><span class="line">	SBUF = value;</span><br><span class="line">	<span class="keyword">while</span>(!TI);</span><br><span class="line">	TI = <span class="number">0</span>;</span><br><span class="line">	ES = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SendString</span><span class="params">(uchar *str)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(*str != <span class="string">'\0'</span>) &#123;</span><br><span class="line">		SendUart(*str);</span><br><span class="line">		str++;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">rssiTodis</span><span class="params">(<span class="keyword">int</span> RSSI)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">float</span> iu, distance;</span><br><span class="line">	iu = (<span class="keyword">float</span>)(RSSI - A) / (<span class="keyword">float</span>)N;	</span><br><span class="line">	distance = <span class="built_in">pow</span>(<span class="number">10</span>, iu);</span><br><span class="line">	<span class="keyword">return</span> distance;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	UsartInit();</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Usart</span><span class="params">()</span> interrupt 4 </span>&#123;</span><br><span class="line">	uchar rec;</span><br><span class="line">	<span class="keyword">if</span>(RI != <span class="number">0</span>)	&#123;</span><br><span class="line">		rec = SBUF;</span><br><span class="line">		RI = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(rec == <span class="string">'"'</span>)	&#123;</span><br><span class="line">		cnt = <span class="number">1</span>;</span><br><span class="line">		getit = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(rec == <span class="string">','</span>) &#123;</span><br><span class="line">		cnt = <span class="number">0</span>;</span><br><span class="line">		datalen = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">if</span>(getit == <span class="number">1</span>)	&#123;</span><br><span class="line">			SendUart(wifi_rssi[<span class="number">1</span>]);</span><br><span class="line">			SendUart(wifi_rssi[<span class="number">2</span>]);</span><br><span class="line">			SendString(<span class="string">"\r\n"</span>);</span><br><span class="line">			rssidata = (wifi_rssi[<span class="number">1</span>] - <span class="string">'0'</span>)* <span class="number">10</span> + (wifi_rssi[<span class="number">2</span>] - <span class="string">'0'</span>);</span><br><span class="line"></span><br><span class="line">			d = rssiTodis(rssidata);</span><br><span class="line">			dis = d*<span class="number">10000</span>;	</span><br><span class="line">			temp = dis/<span class="number">10000</span> + <span class="string">'0'</span>;</span><br><span class="line">			SendUart(temp);</span><br><span class="line">			temp = dis/<span class="number">1000</span>%<span class="number">10</span> + <span class="string">'0'</span>;</span><br><span class="line">			SendUart(temp);</span><br><span class="line">			temp = dis/<span class="number">100</span>%<span class="number">10</span> + <span class="string">'0'</span>;</span><br><span class="line">			SendUart(temp);</span><br><span class="line">			temp = dis/<span class="number">10</span>%<span class="number">10</span> + <span class="string">'0'</span>;</span><br><span class="line">			SendUart(temp);</span><br><span class="line">			temp = dis%<span class="number">10</span> + <span class="string">'0'</span>;</span><br><span class="line">			SendUart(temp);</span><br><span class="line">			SendString(<span class="string">"\r\nok\r\n"</span>);</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(rec == <span class="string">'-'</span>) &#123;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">strncmp</span>(recbuffer, wifi_ssid, NAME + <span class="number">2</span>) == <span class="number">0</span>)	getit = <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span>(cnt == <span class="number">1</span>)	&#123;</span><br><span class="line">		recbuffer[datalen++] = rec;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(getit == <span class="number">1</span>) &#123;</span><br><span class="line">		wifi_rssi[datalen++] = rec;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨ï¼šä»¥ä¸Šä»£ç çƒ§å½•å•ç‰‡æœºåï¼Œéœ€è¦å€ŸåŠ©ä¸²å£è°ƒè¯•åŠ©æ‰‹ï¼Œ</p>
]]></content>
      <categories>
        <category>IoT</category>
      </categories>
      <tags>
        <tag>wifiæµ‹è·</tag>
      </tags>
  </entry>
  <entry>
    <title>Cè¯­è¨€æ¯”è¾ƒå­—ç¬¦ä¸²</title>
    <url>/2018/02/22/C%E8%AF%AD%E8%A8%80%E6%AF%94%E8%BE%83%E5%AD%97%E7%AC%A6%E4%B8%B2/</url>
    <content><![CDATA[<p>åº“å‡½æ•°strcmpæ˜¯Cè¯­è¨€ä¸­æ¯”è¾ƒå­—ç¬¦ä¸²çš„å‡½æ•°ã€‚<br>åœ¨å¤´æ–‡ä»¶string.hä¸­</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> <span class="built_in">strcmp</span>ï¼ˆ<span class="keyword">char</span> *a, <span class="keyword">char</span> *bï¼‰;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">strncmp</span><span class="params">(<span class="keyword">char</span> *a, <span class="keyword">char</span> *b, N)</span></span>;  <span class="comment">//æ¯”è¾ƒå‰Nä½</span></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªå‡½æ•°æŒ‰ç…§ASCIIç è¡¨å¯¹ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æ¯ä¸ªå­—ç¬¦è¿›è¡Œæ¯”å¯¹ã€‚å¦‚æœäºŒè€…å®Œå…¨ç›¸åŒè¿”å›0ï¼Œ<br>å¦‚æœå­—ç¬¦ä¸²aä¸­çš„å­—ç¬¦ASCIIç å…ˆå‡ºç°è¾ƒå¤§è€…ï¼Œåˆ™è¿”å›1ï¼Œåä¹‹è¿”å›-1ï¼›</p>
]]></content>
      <categories>
        <category>C/C++</category>
      </categories>
      <tags>
        <tag>Cè¯­è¨€</tag>
        <tag>å­—ç¬¦ä¸²</tag>
      </tags>
  </entry>
  <entry>
    <title>rssiä¿¡å·å¼ºåº¦ä¸è·ç¦»çš„è½¬æ¢å…¬å¼</title>
    <url>/2018/02/22/rssi%E4%BF%A1%E5%8F%B7%E5%BC%BA%E5%BA%A6%E4%B8%8E%E8%B7%9D%E7%A6%BB%E7%9A%84%E8%BD%AC%E6%8D%A2%E5%85%AC%E5%BC%8F/</url>
    <content><![CDATA[<p>ï»¿    d = 10^((abs(rssi) - A) / (10 * n))</p>
<p>å…¶ä¸­ï¼š<br>    d - è®¡ç®—æ‰€å¾—è·ç¦»(å•ä½ï¼šm)<br>    rssi - æ¥æ”¶ä¿¡å·å¼ºåº¦<br>    A - å‘å°„ç«¯å’Œæ¥æ”¶ç«¯ç›¸éš”1ç±³æ—¶çš„ä¿¡å·å¼ºåº¦<br>    n - ç¯å¢ƒè¡°å‡å› å­</p>
]]></content>
      <categories>
        <category>IoT</category>
      </categories>
      <tags>
        <tag>rssi</tag>
      </tags>
  </entry>
  <entry>
    <title>FPGA--æˆ‘ä»¬åˆ°åº•è¦æ€ä¹ˆæ­å¤ä½ç”µè·¯</title>
    <url>/2018/02/06/FPGA%E2%80%94%E2%80%94%E6%88%91%E4%BB%AC%E5%88%B0%E5%BA%95%E8%A6%81%E6%80%8E%E4%B9%88%E6%90%AD%E5%A4%8D%E4%BD%8D%E7%94%B5%E8%B7%AF/</url>
    <content><![CDATA[<p>ç¬¬ä¸€æ¬¡çœ‹ç‰¹æƒåŒå­¦å†™çš„äºšç¨³æ€çš„é—®é¢˜æ—¶ï¼Œè¯´å®è¯ï¼ŒçœŸçš„æ²¡æœ‰çœ‹æ‡‚ã€‚ä»¥å‰å°±æ˜¯ä¸€ç›´ç”¨çš„å¼‚æ­¥å¤ä½ï¼ŒåŒæ—¶ä¹Ÿæ²¡æœ‰é‡åˆ°è¿‡è¿™æ ·çš„é—®é¢˜ã€‚æ²‰ä¸‹å¿ƒæ¥ï¼Œåˆä»”ç»†çš„çœ‹äº†ä¸€éï¼Œå‘ç°äº†é—®é¢˜æ‰€åœ¨ï¼Œç‰¹åˆ«æ˜¯å½“ä½ çš„å·¥ç¨‹ç‰¹åˆ«å¤§çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šéå¸¸ä¸¥é‡ã€‚</p>
<a id="more"></a>

<p>å¼‚æ­¥å¤ä½ï¼šå¤ä½ä¿¡å·å’Œç³»ç»Ÿæ—¶é’Ÿä¿¡å·çš„è§¦å‘å¯ä»¥åœ¨ä»»ä½•æ—¶åˆ»ã€‚äºŒè€…ç›¸äº’ç‹¬ç«‹ã€‚<br>åŒæ­¥å¤ä½ï¼šåœ¨ç³»ç»Ÿæ—¶é’Ÿä¿¡å·çš„è§¦å‘ä¸‹ï¼Œå¤ä½ä¿¡å·æœ‰æ•ˆã€‚<br>ç”¨verilogè¡¨ç¤ºä¼šæ›´æ˜æ˜¾ï¼š</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¼‚æ­¥å¤ä½</span></span><br><span class="line"><span class="keyword">reg</span>	a;</span><br><span class="line"><span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n)	<span class="keyword">begin</span></span><br><span class="line">	<span class="keyword">if</span>(!rst_n)</span><br><span class="line">		a &lt;= <span class="number">'d0</span>;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		a &lt;= ~a;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åŒæ­¥å¤ä½</span></span><br><span class="line"><span class="keyword">reg</span>	b;</span><br><span class="line"><span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk)	<span class="keyword">begin</span></span><br><span class="line">	<span class="keyword">if</span>(!rst_n)</span><br><span class="line">		b &lt;= <span class="number">'d0</span>;</span><br><span class="line">	<span class="keyword">else</span>	</span><br><span class="line">		b &lt;= ~b;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœå¤ä½ä¿¡å·çš„æ’¤é”€å‘ç”Ÿåœ¨ç³»ç»Ÿæ—¶é’Ÿçš„å»ºç«‹å’Œä¿æŒæ—¶é—´è¿™æ®µæ—¶é—´å†…ï¼Œç³»ç»Ÿæ­¤æ—¶æ£€æµ‹åˆ°å¤ä½ä¿¡å·çš„çŠ¶æ€å°±å¤„åœ¨ä¸€ä¸ªäºšç¨³æ€ï¼Œæ— æ³•ç¡®å®šæ˜¯0è¿˜æ˜¯1ã€‚å°±æœ‰å¯èƒ½é€ æˆç³»ç»Ÿå·¥ä½œä¸åŒæ­¥çš„é—®é¢˜ã€‚</p>
<pre><code>ç‰¹æƒåŒå­¦åœ¨ä¹¦ä¸­è®²åˆ°åŒæ­¥å¤ä½å‘ç”Ÿçš„æ¦‚ç‡ç›¸å¯¹å¼‚æ­¥å¤ä½æ¯”è¾ƒä½ï¼Œè¿™ä¸€ç‚¹ï¼Œæˆ‘åœ¨ç½‘ä¸ŠæŸ¥äº†ï¼Œä¹Ÿæ˜¯å¾ˆå¤šäººéƒ½è¿™æ ·è®¤ä¸ºï¼Œè¿™ä¸ªæˆ‘è¿˜æ²¡æœ‰ç†è§£ã€‚</code></pre><p>å¼‚æ­¥å¤ä½ä¼šå½±å“å¯„å­˜å™¨çš„recoveryæ—¶é—´ï¼Œå¼•èµ·è®¾è®¡çš„ç¨³å®šæ€§é—®é¢˜ï¼Œå°¤å…¶å¯¹äºçŠ¶æ€æœºçš„æ— æ„è¯†å¤ä½ï¼Œå°†å¯¼è‡´è¿›å…¥ä¸ç¡®å®šçš„çŠ¶æ€ã€‚<br>åŒæ­¥å¤ä½æœ€ä¸»è¦çš„é—®é¢˜æ˜¯å¯¹äºä¸å¸¦åŒæ­¥å¤ä½ä¸“ç”¨ç«¯å£çš„å™¨ä»¶ä¼šå¢åŠ é¢å¤–çš„é€»è¾‘èµ„æºã€‚<br>åœ¨ä¹¦ä¸­ï¼Œç‰¹æƒåŒå­¦æåˆ°äº†ä¸€ç§å–é•¿è¡¥çŸ­çš„æ–¹æ³•ï¼šå¼‚æ­¥å¤ä½ã€åŒæ­¥é‡Šæ”¾ã€‚</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å¼‚æ­¥å¤ä½ã€åŒæ­¥é‡Šæ”¾</span></span><br><span class="line"><span class="keyword">reg</span>	rst_nr1;</span><br><span class="line"><span class="keyword">reg</span>	rst_nr2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n)	<span class="keyword">begin</span></span><br><span class="line">	<span class="keyword">if</span>(!rst_n)</span><br><span class="line">		rst_nr1 &lt;= <span class="number">'d0</span>;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		rst_nr1 &lt;= <span class="number">1'b1</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n)	<span class="keyword">begin</span></span><br><span class="line">	<span class="keyword">if</span>(!rst_n)</span><br><span class="line">		rst_nr2 &lt;= <span class="number">'d0</span>;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		rst_nr2 &lt;= rst_nr1;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>ç®€å•åˆ†æä¸€ä¸‹è¿™ä¸ªç”µè·¯ï¼Œå½“å¼‚æ­¥å¤ä½å‘ç”Ÿï¼Œrst_nr2ç›´æ¥æ‹‰ä½ä¸º0ï¼Œå¹¶ä¸”ç”±äºrst_nr2æ˜¯åœ¨æ—¶é’Ÿæ²¿çš„ä½œç”¨ä¸‹å¯¹rst_nr1è¿›è¡Œé‡‡æ ·ï¼Œæ‰€ä»¥å½“rst_nr2çš„ç½®1æ˜¯å’Œæ—¶é’Ÿæ²¿åŒæ­¥çš„ã€‚ä¹Ÿå°±æ˜¯å¼‚æ­¥å¤ä½ã€åŒæ­¥é‡Šæ”¾ã€‚ç„¶åç”¨ä¿¡å·rst_nr2ä½œä¸ºç³»ç»Ÿå¤ä½æ—¶é’Ÿï¼Œå°±ä¸å‘ç”Ÿäºšç¨³æ€ç°è±¡ã€‚</p>
<p>ä½†æ˜¯åœ¨æˆ‘çš„ç†è§£çœ‹æ¥ï¼Œè¿™ä¸¤ä¸ªè§¦å‘å™¨ä»ç„¶æ˜¯é‡‡ç”¨rst_nä½œä¸ºå¤ä½ä¿¡å·ï¼Œæ‰€ä»¥å¿…ç„¶ä¼šæœ‰äºšç¨³æ€çš„ç°è±¡å‘ç”Ÿï¼Œå³rst_nr2è¿˜æ˜¯ æœ‰å¯èƒ½åœ¨ä¸åº”è¯¥å¤ä½çš„æ—¶é—´ç‚¹å¤ä½ï¼Œä½†æ˜¯ç”±rst_nr2ä½œä¸ºç³»ç»Ÿå¤ä½ä¿¡å·çš„åçº§ç”µè·¯<strong>ä¸ä¼šå‘ç”Ÿç³»ç»Ÿå·¥ä½œä¸åŒæ­¥</strong>çš„ç°è±¡ã€‚</p>
]]></content>
      <categories>
        <category>FPGA</category>
      </categories>
      <tags>
        <tag>FPGA</tag>
        <tag>å¤ä½ç”µè·¯</tag>
      </tags>
  </entry>
  <entry>
    <title>FPGA--æ—¶é’Ÿåˆ†é¢‘å’Œæ—¶é’Ÿä½¿èƒ½çš„æ€è€ƒ</title>
    <url>/2018/02/02/FPGA%E2%80%94%E2%80%94%E6%97%B6%E9%92%9F%E5%88%86%E9%A2%91%E5%92%8C%E6%97%B6%E9%92%9F%E4%BD%BF%E8%83%BD%E7%9A%84%E6%80%9D%E8%80%83/</url>
    <content><![CDATA[<p>ä¹‹å‰é‡åˆ°æ—¶é’Ÿéœ€è¦åˆ†é¢‘çš„æ—¶å€™ï¼Œç›´æ¥ç”¨è®¡æ•°å™¨å’Œæºæ—¶é’Ÿäº§ç”Ÿï¼Œç„¶åæŠŠè¿™ä¸ªåˆ†é¢‘æ—¶é’Ÿçš„ä¸Šå‡æ²¿ä½œä¸ºæ•æ„Ÿäº‹ä»¶å»å†™äº†ï¼Œä»Šå¤©çœ‹äº†ç‰¹æƒåŒå­¦çš„ä¹¦ï¼Œä¹Ÿè‡ªå·±åœ¨ç½‘ä¸Šçœ‹äº†çœ‹ï¼Œè¿™æ ·åšæ˜¯ä¸å¥½çš„ï¼Œé™ä½äº†ç³»ç»Ÿçš„å¯é æ€§ï¼Œåœ¨å®é™…å·¥ç¨‹ä¸­æˆ‘ä»¬åº”è¯¥é¿å…è¿™ä¸­å†™æ³•ã€‚é‡‡ç”¨æ—¶é’Ÿä½¿èƒ½çš„æ–¹å¼ï¼Œè¿™æ ·æ•´ä¸ªå·¥ç¨‹éƒ½æ˜¯å•ä¸€æ—¶é’Ÿç”µè·¯ï¼Œä¹Ÿåˆ©äºåˆ†æç»´æŠ¤ã€‚</p>
<a id="more"></a>

<p>å»ºè®®çš„å†™æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> pro(</span><br><span class="line">	<span class="keyword">input</span>		clk,</span><br><span class="line">	<span class="keyword">input</span>		rst_n</span><br><span class="line">);</span><br><span class="line">	<span class="keyword">reg</span>[<span class="number">2</span>:<span class="number">0</span>]	count;</span><br><span class="line">	<span class="keyword">wire</span> 		clk_en;</span><br><span class="line">	<span class="keyword">reg</span>			a;</span><br><span class="line">	<span class="keyword">reg</span>			b;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n)	<span class="keyword">begin</span></span><br><span class="line">		<span class="keyword">if</span>(!rst_n)</span><br><span class="line">			count &lt;= <span class="number">'d0</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(count &gt; <span class="number">3'd5</span>)</span><br><span class="line">			count &lt;= <span class="number">'d0</span>;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			count &lt;= count + <span class="number">1'b1</span>;</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">assign</span>	clk_en = (count == <span class="number">3'd5</span>);<span class="comment">//åªæ‹‰é«˜ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸ</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n)	<span class="keyword">begin</span></span><br><span class="line">		<span class="keyword">if</span>(!rst_n)	<span class="keyword">begin</span></span><br><span class="line">			a &lt;= <span class="number">1'b0</span>;</span><br><span class="line">			b &lt;= <span class="number">1'b0</span>;</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(clk_en)	<span class="keyword">begin</span>		<span class="comment">//åˆ†é¢‘æ—¶é’Ÿä½œä½¿èƒ½ä¿¡å·ä½¿ç”¨</span></span><br><span class="line">			a &lt;= ~b;</span><br><span class="line">			b &lt;= ~a;</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>FPGA</category>
      </categories>
      <tags>
        <tag>FPGA</tag>
      </tags>
  </entry>
  <entry>
    <title>ESP8266â€”â€”OneNetçš„GETæŒ‡ä»¤åŠCè¯­è¨€ä»£ç </title>
    <url>/2018/01/26/ESP8266%E2%80%94%E2%80%94OneNet%E7%9A%84GET%E6%8C%87%E4%BB%A4%E5%8F%8AC%E8%AF%AD%E8%A8%80%E4%BB%A3%E7%A0%81/</url>
    <content><![CDATA[<p>ï»¿GETæŒ‡ä»¤çš„HTTPæ•°æ®æŠ¥æ–‡</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">GET /devices/ä½ çš„è®¾å¤‡å·/datastreams/ä½ çš„æ•°æ®æµåç§° HTTP/<span class="number">1.1</span>\r\n</span><br><span class="line">Host: api.heclouds.com\r\n</span><br><span class="line">api-key: ä½ çš„apikey\r\n\r\n</span><br></pre></td></tr></table></figure>

<p>æˆ‘æ›´æ”¹äº†ESP8266çš„æ³¢ç‰¹ç‡ï¼Œæ”¹æˆäº†4800çš„ï¼›</p>
<a id="more"></a>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">AT+UART=4800,8,1,0,0\r\n //æ›´æ”¹esp8266çš„æ³¢ç‰¹ç‡</span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"> <span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"reg52.h"</span></span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> uint;</span><br><span class="line"> <span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> uchar;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DATASIZE 110</span></span><br><span class="line"></span><br><span class="line">sbit LED = P2^<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">uchar datalen = <span class="number">0</span>;</span><br><span class="line">uchar value;</span><br><span class="line">uchar cnt = <span class="number">0</span>;</span><br><span class="line">uchar recbuffer[DATASIZE];</span><br><span class="line"></span><br><span class="line">			</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Delay600ms</span><span class="params">()</span>		<span class="comment">//@12.000MHz</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">char</span> i, j, k;</span><br><span class="line"></span><br><span class="line">	i = <span class="number">5</span>;</span><br><span class="line">	j = <span class="number">144</span>;</span><br><span class="line">	k = <span class="number">71</span>;</span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">do</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">while</span> (--k);</span><br><span class="line">		&#125; <span class="keyword">while</span> (--j);</span><br><span class="line">	&#125; <span class="keyword">while</span> (--i);</span><br><span class="line">&#125;</span><br><span class="line">																 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">UsartInit</span><span class="params">(<span class="keyword">void</span>)</span>	</span>&#123;</span><br><span class="line">	SCON = <span class="number">0x50</span>;</span><br><span class="line">	TMOD = <span class="number">0x20</span>;</span><br><span class="line">	PCON = <span class="number">0x80</span>;</span><br><span class="line">	TH1  = <span class="number">0xF3</span>;</span><br><span class="line">	TL1  = <span class="number">0xF3</span>;</span><br><span class="line">	ES   = <span class="number">1</span>;</span><br><span class="line">	EA   = <span class="number">1</span>;</span><br><span class="line">	TR1  = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SendUart</span><span class="params">(uchar value)</span>	</span>&#123;</span><br><span class="line">	ES = <span class="number">0</span>;</span><br><span class="line">	SBUF = value;</span><br><span class="line">	<span class="keyword">while</span>(!TI);</span><br><span class="line">	TI = <span class="number">0</span>;</span><br><span class="line">	ES = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SendString</span><span class="params">(uchar *str)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(*str != <span class="string">'\0'</span>) &#123;</span><br><span class="line">		SendUart(*str);</span><br><span class="line">		str++;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">wificonnection</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	SendString(<span class="string">"AT\r\n"</span>);</span><br><span class="line">	<span class="comment">//SendString("AT+CWMODE=1\r\n");</span></span><br><span class="line">	<span class="comment">//SendString("AT+RST");</span></span><br><span class="line">	SendString(<span class="string">"AT+CWJAP=\"****\",\"******\"\r\n"</span>);</span><br><span class="line">	Delay600ms();</span><br><span class="line">	Delay600ms();</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">TCPconnection</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	SendString(<span class="string">"AT+CIPMUX=0\r\n"</span>);</span><br><span class="line">	Delay600ms();</span><br><span class="line">	Delay600ms();</span><br><span class="line">	SendString(<span class="string">"AT+CIPSTART=\"TCP\",\"183.230.40.33\",80\r\n"</span>);</span><br><span class="line">	Delay600ms();</span><br><span class="line">	Delay600ms();</span><br><span class="line">	SendString(<span class="string">"AT+CIPMODE=1\r\n"</span>);</span><br><span class="line">	Delay600ms();</span><br><span class="line">	Delay600ms();</span><br><span class="line">	SendString(<span class="string">"AT+CIPSEND\r\n"</span>);</span><br><span class="line">	Delay600ms();</span><br><span class="line">	Delay600ms();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">check</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	SendString(<span class="string">"GET /devices/******/datastreams/*** HTTP/1.1\r\n"</span>);</span><br><span class="line">	SendString(<span class="string">"Host: api.heclouds.com\r\n"</span>);</span><br><span class="line">	SendString(<span class="string">"api-key: ********************\r\n\r\n"</span>);</span><br><span class="line">	Delay600ms();			 </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"> 	UsartInit();</span><br><span class="line">	wificonnection();</span><br><span class="line">	TCPconnection();</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line">		check();</span><br><span class="line">		Delay600ms();</span><br><span class="line">		<span class="keyword">if</span>(value == <span class="string">'1'</span>) LED = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(value == <span class="string">'0'</span>) LED = <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Usart</span><span class="params">()</span> interrupt 4 </span>&#123;</span><br><span class="line">	uchar rec;</span><br><span class="line">	<span class="keyword">if</span>(RI != <span class="number">0</span>) &#123;</span><br><span class="line">		rec = SBUF;</span><br><span class="line">		RI = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(rec == <span class="string">'&#123;'</span>) cnt = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span>(cnt == <span class="number">1</span>) &#123;</span><br><span class="line">		<span class="keyword">if</span>(rec != <span class="string">'&#125;'</span>) &#123;</span><br><span class="line">			recbuffer[datalen++] = rec;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			cnt = <span class="number">0</span>;</span><br><span class="line">			value = recbuffer[datalen - <span class="number">1</span>];</span><br><span class="line">			<span class="comment">//SendString(recbuffer);</span></span><br><span class="line">			<span class="comment">//SendString("\r\n");</span></span><br><span class="line">			<span class="comment">//SendUart(value);</span></span><br><span class="line">			<span class="comment">//SendString("\r\nok\r\n");</span></span><br><span class="line">			datalen = <span class="number">0</span>;</span><br><span class="line">		&#125;	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>IoT</category>
      </categories>
      <tags>
        <tag>Cè¯­è¨€</tag>
        <tag>ç‰©è”ç½‘</tag>
        <tag>ESP8266</tag>
      </tags>
  </entry>
  <entry>
    <title>ESP8266--TCPè¿æ¥</title>
    <url>/2018/01/26/ESP8266%E2%80%94%E2%80%94TCP%E8%BF%9E%E6%8E%A5/</url>
    <content><![CDATA[<p>ï»¿</p>
<p>è¿™ä¸¤å¤©å› ä¸ºä¸€ä¸ªé¡¹ç›®é—ç•™é—®é¢˜ï¼Œåˆç©äº†ç©C51ã€‚åšçš„æ˜¯ç”¨ESP8266è¿æ¥OneNetè¿›è¡Œè”ç½‘æ§åˆ¶ã€‚<br>åœ¨æ·˜å®è´­ä¹°çš„wifiæ¨¡å—ï¼Œåº—å®¶ç»™çš„èµ„æ–™ä¹Ÿå®åœ¨æ˜¯å¤šï¼Œå·¥å…·ä¹Ÿå¾ˆé½å…¨ã€‚<br>é¦–å…ˆwifiæ¨¡å—å’ŒC51æ˜¯åˆ©ç”¨ä¸²å£é€šä¿¡çš„ï¼Œè¿™å°±éœ€è¦äº†è§£ä¸²å£é€šä¿¡çš„çŸ¥è¯†ã€‚å·®ä¸å¤šä¸€å¹´å‰ï¼Œæˆ‘è‡ªå·±å­¦è¿‡C51çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ï¼Œä½†æ˜¯æ¯•ç«Ÿä¸€å¹´æ²¡æœ‰åŠ¨äº†ï¼Œæœ‰äº›ç”Ÿç–ï¼Œä¹Ÿå¹¸å¥½çš„æ˜¯ï¼Œåˆšå­¦å®Œå•ç‰‡æœºè¿™é—¨è¯¾ç¨‹ï¼Œå¯¹ä¸²å£é€šä¿¡çš„è®¤è¯†æ›´åŠ çš„æ·±å…¥äº†ï¼Œæ‰€ä»¥å›è¿‡å¤´æ¥çœ‹è¿™äº›èµ„æ–™ï¼Œæ„Ÿè§‰å¾ˆè½»æ¾ã€‚</p>
<a id="more"></a>

<p>TXDï¼ˆTransmit Dataï¼‰ å‘é€æ•°æ®<br>RXDï¼ˆReceive Dataï¼‰ æ¥å—æ•°æ®<br>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒTXDã€RXDåœ¨ä¸²å£é€šä¿¡çš„æ—¶å€™éœ€è¦å¤–åŠ å‚è€ƒç”µå¹³ã€‚<br>ä¸‹é¢æ˜¯ä¸€äº›å…³äºESP8266çš„çŸ¥è¯†ç‚¹ã€‚<br>ESP8266é›†æˆäº†ATæŒ‡ä»¤ï¼Œè®©æˆ‘ä»¬å¼€å‘èµ·æ¥æ›´åŠ çš„æ–¹ä¾¿äº†è®¸å¤šã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">AT\r\n       //å“åº”ok</span><br></pre></td></tr></table></figure>

<p>Stationæ¨¡å¼ã€‚è¿™ä¸ªæ¨¡å¼ä¸‹ESP8266å¯ä»¥åŠ å…¥å…¶ä»–è·¯ç”±å™¨çš„ç½‘ç»œ<br>APæ¨¡å¼ï¼Œè¿™ä¸ªæ¨¡å¼ä¸‹ESP8266å°±ç›¸å½“äºä¸€ä¸ªè·¯ç”±å™¨ï¼Œå…¶ä»–è®¾å¤‡å¯ä»¥åŠ å…¥åˆ°è¿™ä¸ªæ¨¡å¼ä¸­<br>Station+APæ¨¡å¼<br>åœ¨è¿™é‡Œæˆ‘ç”¨çš„Stationæ¨¡å¼ã€‚æ³¨æ„ï¼ˆæ›´æ”¹æ¨¡å¼åï¼Œéœ€è¦å‘é€æŒ‡ä»¤<code>AT+RST\r\n</code>é‡å¯æ¨¡å—ä½¿å…¶ç”Ÿæ•ˆï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">AT+CWMODE=1\r\n    //é€‰æ‹©Stationæ¨¡å¼</span><br><span class="line">AT+CWMODE=2\r\n    //é€‰æ‹©APæ¨¡å¼</span><br><span class="line">AT+CWMODE=3\r\n    //é€‰æ‹©Station+APæ¨¡å¼</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">AT+CWJAP\r\n       //æŸ¥çœ‹å½“å‰å¯ç”¨wifi</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">AT+CWJAP=&quot;ssid&quot;,&quot;pwd&quot;\r\n    //ssidæ˜¯WiFiåç§°ï¼Œpwdæ˜¯WiFiå¯†ç ï¼Œæ­¤æ¡æŒ‡ä»¤å¯ä»¥å¸®åŠ©esp8266è¿æ¥wifi</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">AT+CIPMUX=0\r\n			é€‰æ‹©å•è·¯è¿æ¥æ¨¡å¼</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">AT+CIPSTART=&quot;TCP&quot;,&quot;host&quot;,port\r\n	//hostæ˜¯ä½ å°†è¦è¿æ¥æœåŠ¡å™¨çš„åŸŸåï¼Œportæ˜¯ç«¯å£å·ï¼Œä¸æœåŠ¡å™¨å»ºç«‹TCPè¿æ¥</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">AT+CIPMODE=1\r\n 	//é€‰æ‹©é€ä¼ æ¨¡å¼</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">AT+CIPSEND\r\n		//å“åº”&gt;,ä¾¿å¯ä»¥å‘æœåŠ¡å™¨å‘é€HTTPæ•°æ®æŠ¥</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯å‡ æ¡ï¼Œè°ƒè¯•çš„è¿‡ç¨‹ä¼šç”¨åˆ°çš„æŒ‡ä»¤ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">AT+CWQAP\r\n   //é€€å‡ºä¸è·¯ç”±å™¨çš„è¿æ¥</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">+++     			//è¿”å›æŒ‡ä»¤æ¨¡å¼ï¼Œæ­¤æ¡æŒ‡ä»¤ç”¨åœ¨å·²ç»AT+CIPSENDåé¢ï¼Œå¯ä»¥è¾…åŠ©ä¸‹é¢çš„æŒ‡ä»¤æ–­å¼€ä¸æœåŠ¡å™¨çš„è¿æ¥ï¼Œæ³¨æ„æ²¡æœ‰æ¢è¡Œ</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">AT+CIPCLOSE\r\n   //æ–­å¼€ä¸æœåŠ¡å™¨çš„è¿æ¥</span><br></pre></td></tr></table></figure>

<p>é™†ç»­å‘é€ä»¥ä¸Šå‡ æ¡æŒ‡ä»¤ï¼Œä¸æŠ¥é”™ï¼Œå°±å¯ä»¥å’ŒæœåŠ¡å™¨å»ºç«‹è¿æ¥äº†ã€‚</p>
]]></content>
      <categories>
        <category>IoT</category>
      </categories>
      <tags>
        <tag>ç‰©è”ç½‘</tag>
        <tag>ESP8266</tag>
      </tags>
  </entry>
  <entry>
    <title>FPGA--é€Ÿåº¦å’Œé¢ç§¯çš„åŸºæœ¬è®¤è¯†</title>
    <url>/2018/01/22/FPGA%E2%80%94%E2%80%94%E9%80%9F%E5%BA%A6%E5%92%8C%E9%9D%A2%E7%A7%AF%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AE%A4%E8%AF%86/</url>
    <content><![CDATA[<p>é€Ÿåº¦æ˜¯æŒ‡æ•´ä¸ªå·¥ç¨‹ç¨³å®šè¿è¡Œæ‰€èƒ½è¾¾åˆ°çš„æœ€é«˜æ—¶é’Ÿé¢‘ç‡ã€‚<br>é¢ç§¯æ˜¯å€¼æ•´ä¸ªå·¥ç¨‹æ‰€éœ€è¦çš„è§¦å‘å™¨ã€æŸ¥æ‰¾è¡¨æˆ–ç­‰æ•ˆé—¨çš„æ•°é‡æ¥è¡¡é‡çš„ã€‚</p>
<pre><code>é€Ÿåº¦å’Œé¢ç§¯æ˜¯ä¸€å¯¹çŸ›ç›¾ä½“ï¼Œåœ¨è¿½æ±‚é€Ÿåº¦çš„åŒæ—¶ï¼Œå¿…ç„¶ä¼šå¢å¤§é¢ç§¯ã€‚åœ¨å·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬èƒ½åšçš„åªæœ‰åœ¨é€Ÿåº¦å’Œé¢ç§¯ä¸­å–æœ€ä¼˜çš„æ–¹æ¡ˆã€‚ä¹‹å‰åœ¨å­¦ä¹ ä¸­ï¼Œä¸€ç›´æ²¡æœ‰å…³æ³¨é¢ç§¯çš„é—®é¢˜ï¼Œå…¶å®åœ¨æˆ‘ä»¬èµ„æºæœ‰é™çš„æƒ…å†µä¸‹ï¼Œåº”è¯¥è¦æ³¨é‡é¢ç§¯çš„æœ€å°åŒ–ã€‚</code></pre>]]></content>
      <categories>
        <category>FPGA</category>
      </categories>
      <tags>
        <tag>FPGA</tag>
      </tags>
  </entry>
  <entry>
    <title>FPGA--å…³äºçŠ¶æ€æœº</title>
    <url>/2018/01/19/FPGA%E2%80%94%E2%80%94%E5%85%B3%E4%BA%8E%E7%8A%B6%E6%80%81%E6%9C%BA/</url>
    <content><![CDATA[<p>â€‹    çŠ¶æ€æœºï¼Œæ˜¯æˆ‘å¤§äºŒåœ¨å®éªŒå®¤å­¦ä¹ æ—¶ï¼Œå­¦é•¿ç»™æˆ‘ä»¬å®‰æ’çš„ä»»åŠ¡ä¹‹ä¸€ã€‚é‚£ä¸ªæ—¶å€™ï¼Œæˆ‘è¿˜æ²¡æœ‰å­¦è¿‡ã€Šæ•°ç”µã€‹ï¼Œä¸€ç›´æä¸æ˜ç™½çŠ¶æ€æœºçš„æ„æ€ï¼Œåšäº†ä¸€å‘¨ï¼Œéƒ½æ²¡æœ‰ç»“æœã€‚<br>ä»»åŠ¡æ˜¯æ£€æµ‹åºåˆ—ï¼Œæ£€æµ‹åˆ°1011æ—¶è¾“å‡ºä¸€ä¸ªé«˜ç”µå¹³ã€‚</p>
<a id="more"></a>

<p>æˆ‘ä»¬éƒ½çŸ¥é“verilogè¯­è¨€ä¾é ä¸åŒçš„alwaysè¯­å¥å—å®ç°äº†ç¡¬ä»¶ç”µè·¯çš„å¹¶è¡Œæ‰§è¡Œï¼Œä½†æ˜¯åœ¨å·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸ä»…è¦å¤„ç†å¹¶è¡Œæ‰§è¡Œç”µè·¯ï¼Œå¶å°”ä¹Ÿä¼šé‡åˆ°éœ€è¦ä¸²è¡Œæ‰§è¡Œçš„ç”µè·¯è¦æ±‚ã€‚åˆšå¼€å§‹å­¦ä¹ FPGAçš„è¯ï¼Œå¯èƒ½ä¼šæƒ³åˆ°æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å¾ˆå¤šå¾ˆå¤šçš„ä½¿èƒ½ä¿¡å·å®ç°ï¼Œä½†æ˜¯è¿™æ ·ç»´æŠ¤çš„æˆæœ¬å¤§å¤§å¢åŠ ã€‚çŠ¶æ€æœºå°±å¯ä»¥å®Œç¾çš„å®ç°è¿™ä¸€åŠŸèƒ½ã€‚å…ˆç®€å•ä»‹ç»ä¸€ä¸‹çŠ¶æ€æœºçš„åŸºæœ¬æ¦‚å¿µã€‚</p>
<p>çŠ¶æ€æœºçš„åŸºæœ¬è¦ç´ æ˜¯<strong>è¾“å…¥ã€è¾“å‡ºå’ŒçŠ¶æ€</strong>ã€‚è¾“å…¥æ˜¯å¼•èµ·çŠ¶æ€å˜åŒ–çš„æ¡ä»¶ï¼Œè¾“å‡ºæ˜¯çŠ¶æ€å˜åŒ–å¼•èµ·çš„å˜åŒ–ã€‚çŠ¶æ€å°±æ˜¯å­—é¢ç†è§£çš„æ„æ€äº†ï¼ŒçŠ¶æ€æœºï¼Œé€šä¿—çš„è¯´å°±æ˜¯å› ä¸ºè¾“å…¥å¯¼è‡´çŠ¶æ€åœ¨ä¸æ–­çš„å˜åŒ–çš„ç¡¬ä»¶ç”µè·¯ã€‚</p>
<p>Mooreå‹çŠ¶æ€æœºçš„è¾“å‡ºä»…ä¸çŠ¶æ€æœ‰å…³ï¼Œä¸è¾“å…¥æ— å…³ã€‚<br>Mealyå‹çŠ¶æ€æœºçš„è¾“å…¥ä¸ä»…ä¸çŠ¶æ€æœ‰å…³ï¼Œè¿˜ä¸è¾“å…¥æ¡ä»¶æœ‰å…³ã€‚<br>[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-Oq0qQTjK-1571226216451)(<a href="http://img.blog.csdn.net/20180119154529552?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvQ2hlcmlzaF94/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)]" target="_blank" rel="noopener">http://img.blog.csdn.net/20180119154529552?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvQ2hlcmlzaF94/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)]</a><br>ä¸€æ®µå¼å†™æ³•ï¼Œè¾“å…¥ã€è¾“å‡ºå’ŒçŠ¶æ€åœ¨ä¸€ä¸ªalwaysè¯­å¥å—ä¸­ï¼ŒåæœŸä¸å®¹æ˜“ç»´æŠ¤ã€‚</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> pro(</span><br><span class="line">	<span class="keyword">input</span>	clk,</span><br><span class="line">	<span class="keyword">input</span>	rst_n,</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">input</span>	data,</span><br><span class="line">	<span class="keyword">output</span>	cntout</span><br><span class="line">);</span><br><span class="line">	<span class="keyword">parameter</span>	INITIALSTATE = <span class="number">5'b00_001</span>,</span><br><span class="line">						STATE_0 = <span class="number">5'b00_010</span>,</span><br><span class="line">						STATE_1 = <span class="number">5'b00_100</span>,</span><br><span class="line">						STATE_2 = <span class="number">5'b01_000</span>,</span><br><span class="line">						STATE_3 = <span class="number">5'b10_000</span>;</span><br><span class="line">					</span><br><span class="line"></span><br><span class="line">					</span><br><span class="line">	<span class="comment">//â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span></span><br><span class="line">	<span class="comment">//ä¸€æ®µå¼å†™æ³•, æ—¢æŠŠè¾“å…¥ã€è¾“å‡ºå’ŒçŠ¶æ€å†™åœ¨ä¸€ä¸ªalwaysè¯­å¥å—					</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">reg</span>[<span class="number">4</span>:<span class="number">0</span>]	state_ce;		<span class="comment">//çŠ¶æ€å¯„å­˜å™¨</span></span><br><span class="line">	<span class="keyword">reg</span>	cnt;</span><br><span class="line">	<span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n)	<span class="keyword">begin</span></span><br><span class="line">		<span class="keyword">if</span>(!rst_n)	<span class="keyword">begin</span></span><br><span class="line">			cnt &lt;= <span class="number">1'b0</span>;</span><br><span class="line">			state_ce &lt;= INITIALSTATE;</span><br><span class="line">			<span class="keyword">end</span></span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			<span class="keyword">case</span>(state_ce)</span><br><span class="line">				INITIALSTATE:	<span class="keyword">begin</span></span><br><span class="line">											cnt &lt;= <span class="number">1'b0</span>;</span><br><span class="line">											<span class="keyword">if</span>(data == <span class="number">1'b1</span>)</span><br><span class="line">												state_ce &lt;= STATE_0;</span><br><span class="line">											<span class="keyword">else</span></span><br><span class="line">												state_ce &lt;= INITIALSTATE;</span><br><span class="line">											<span class="keyword">end</span></span><br><span class="line">				STATE_0:			<span class="keyword">if</span>(data == <span class="number">1'b0</span>)</span><br><span class="line">											state_ce &lt;= STATE_1;</span><br><span class="line">										<span class="keyword">else</span></span><br><span class="line">											state_ce &lt;= STATE_0;</span><br><span class="line">				STATE_1:			<span class="keyword">if</span>(data == <span class="number">1'b1</span>)</span><br><span class="line">											state_ce &lt;= STATE_2;</span><br><span class="line">										<span class="keyword">else</span></span><br><span class="line">											state_ce &lt;= INITIALSTATE;</span><br><span class="line">				STATE_2:			<span class="keyword">if</span>(data == <span class="number">1'b1</span>)</span><br><span class="line">											state_ce &lt;= STATE_3;</span><br><span class="line">										<span class="keyword">else</span></span><br><span class="line">											state_ce &lt;= STATE_1;</span><br><span class="line">				STATE_3:			<span class="keyword">begin</span></span><br><span class="line">											state_ce &lt;= INITIALSTATE;</span><br><span class="line">											cnt &lt;= <span class="number">1'b1</span>;</span><br><span class="line">											<span class="keyword">end</span></span><br><span class="line">			<span class="keyword">endcase</span></span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">assign</span>	cntout = cnt;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<p>[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-CLvmuOJa-1571226216454)]</p>
<p>äºŒæ®µå¼å†™æ³•ï¼Œåˆ†æˆäº†ç»„åˆé€»è¾‘å’Œæ—¶åºé€»è¾‘ã€‚æ—¶åºé€»è¾‘é‡Œä½œçŠ¶æ€çš„è½¬ç§»ï¼Œç»„åˆé€»è¾‘é‡Œä½œè¾“å…¥æ¡ä»¶åˆ¤æ–­å’Œè¾“å‡ºã€‚ä½†æ˜¯ç»„åˆé€»è¾‘è¾“å‡ºå®¹æ˜“å‡ºç°æ¯›åˆºé—®é¢˜ã€‚</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> pro(</span><br><span class="line">	<span class="keyword">input</span>	clk,</span><br><span class="line">	<span class="keyword">input</span>	rst_n,</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">input</span>	data,</span><br><span class="line">	<span class="keyword">output</span>	cntout</span><br><span class="line">);</span><br><span class="line">	<span class="keyword">parameter</span>	INITIALSTATE = <span class="number">5'b00_001</span>,</span><br><span class="line">						STATE_0 = <span class="number">5'b00_010</span>,</span><br><span class="line">						STATE_1 = <span class="number">5'b00_100</span>,</span><br><span class="line">						STATE_2 = <span class="number">5'b01_000</span>,</span><br><span class="line">						STATE_3 = <span class="number">5'b10_000</span>;</span><br><span class="line">					</span><br><span class="line">	<span class="keyword">reg</span>[<span class="number">4</span>:<span class="number">0</span>]	state_ce;</span><br><span class="line">	<span class="keyword">reg</span>[<span class="number">4</span>:<span class="number">0</span>]	state_nt;</span><br><span class="line">	<span class="keyword">reg</span>	cnt;</span><br><span class="line">	<span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n)	<span class="keyword">begin</span></span><br><span class="line">		<span class="keyword">if</span>(!rst_n)</span><br><span class="line">			state_ce &lt;= INITIALSTATE;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			state_ce &lt;= state_nt;</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">always</span> @ (state_ce <span class="keyword">or</span> data)	<span class="keyword">begin</span></span><br><span class="line">		<span class="keyword">case</span>(state_ce)</span><br><span class="line">			INITIALSTATE:	<span class="keyword">begin</span></span><br><span class="line">										cnt = <span class="number">1'b0</span>;</span><br><span class="line">										<span class="keyword">if</span>(data == <span class="number">1'b1</span>)</span><br><span class="line">											state_nt = STATE_0;</span><br><span class="line">										<span class="keyword">else</span></span><br><span class="line">											state_nt = INITIALSTATE;</span><br><span class="line">										<span class="keyword">end</span></span><br><span class="line">			STATE_0:			<span class="keyword">begin</span></span><br><span class="line">										cnt = <span class="number">1'b0</span>;</span><br><span class="line">										<span class="keyword">if</span>(data == <span class="number">1'b0</span>)</span><br><span class="line">											state_nt = STATE_1;</span><br><span class="line">										<span class="keyword">else</span></span><br><span class="line">											state_nt = STATE_0;</span><br><span class="line">										<span class="keyword">end</span></span><br><span class="line">			STATE_1:			<span class="keyword">begin</span></span><br><span class="line">										cnt = <span class="number">1'b0</span>;</span><br><span class="line">										<span class="keyword">if</span>(data == <span class="number">1'b1</span>)</span><br><span class="line">											state_nt = STATE_2;</span><br><span class="line">										<span class="keyword">else</span></span><br><span class="line">											state_nt = INITIALSTATE;</span><br><span class="line">										<span class="keyword">end</span></span><br><span class="line">			STATE_2:			<span class="keyword">begin</span></span><br><span class="line">										<span class="keyword">if</span>(data == <span class="number">1'b1</span>)</span><br><span class="line">											state_nt= STATE_3;</span><br><span class="line">										<span class="keyword">else</span></span><br><span class="line">											state_nt =STATE_1;</span><br><span class="line">										<span class="keyword">end</span></span><br><span class="line">			STATE_3:			<span class="keyword">begin</span></span><br><span class="line">										cnt = <span class="number">1'b1</span>;</span><br><span class="line">										state_nt = INITIALSTATE;</span><br><span class="line">										<span class="keyword">end</span>			</span><br><span class="line">		<span class="keyword">endcase</span></span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">assign</span>	cntout = cnt;</span><br><span class="line">	</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<p>ä¸‰æ®µå¼å†™æ³•ï¼Œåˆå°†è¾“å‡ºå†™ä½œæ—¶åºé€»è¾‘è¾“å‡ºï¼Œè§£å†³äº†äºŒæ®µå¼ä¸­æ¯›åˆºçš„é—®é¢˜ã€‚</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> pro(</span><br><span class="line">	<span class="keyword">input</span>	clk,</span><br><span class="line">	<span class="keyword">input</span>	rst_n,</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">input</span>	data,</span><br><span class="line">	<span class="keyword">output</span>	cntout</span><br><span class="line">);</span><br><span class="line">	<span class="keyword">parameter</span>	INITIALSTATE = <span class="number">5'b00_001</span>,</span><br><span class="line">						STATE_0 = <span class="number">5'b00_010</span>,</span><br><span class="line">						STATE_1 = <span class="number">5'b00_100</span>,</span><br><span class="line">						STATE_2 = <span class="number">5'b01_000</span>,</span><br><span class="line">						STATE_3 = <span class="number">5'b10_000</span>;</span><br><span class="line">						</span><br><span class="line">	<span class="keyword">reg</span>[<span class="number">4</span>:<span class="number">0</span>]	state_ce;</span><br><span class="line">	<span class="keyword">reg</span>[<span class="number">4</span>:<span class="number">0</span>]	state_nt;</span><br><span class="line">	<span class="keyword">reg</span>	cnt;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n)	<span class="keyword">begin</span></span><br><span class="line">		<span class="keyword">if</span>(!rst_n)</span><br><span class="line">			state_ce &lt;= INITIALSTATE;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			state_ce &lt;= state_nt;</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">			</span><br><span class="line">	<span class="keyword">always</span> @ (state_ce <span class="keyword">or</span> data)	<span class="keyword">begin</span></span><br><span class="line">		<span class="keyword">case</span>(state_ce)</span><br><span class="line">			INITIALSTATE:	<span class="keyword">if</span>(data == <span class="number">1'b1</span>)</span><br><span class="line">										state_nt = STATE_0;</span><br><span class="line">									<span class="keyword">else</span></span><br><span class="line">										state_nt = INITIALSTATE;</span><br><span class="line">			STATE_0:			<span class="keyword">if</span>(data == <span class="number">1'b0</span>)</span><br><span class="line">										state_nt = STATE_1;</span><br><span class="line">									<span class="keyword">else</span></span><br><span class="line">										state_nt = STATE_0;</span><br><span class="line">			STATE_1:			<span class="keyword">if</span>(data == <span class="number">1'b1</span>)</span><br><span class="line">										state_nt = STATE_2;</span><br><span class="line">									<span class="keyword">else</span></span><br><span class="line">										state_nt = INITIALSTATE;</span><br><span class="line">			STATE_2:			<span class="keyword">if</span>(data == <span class="number">1'b1</span>)</span><br><span class="line">										state_nt = STATE_3;</span><br><span class="line">									<span class="keyword">else</span> </span><br><span class="line">										state_nt = STATE_2;</span><br><span class="line">			STATE_3:  		state_nt = INITIALSTATE;</span><br><span class="line">		<span class="keyword">endcase</span></span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n)	<span class="keyword">begin</span></span><br><span class="line">		<span class="keyword">if</span>(!rst_n)</span><br><span class="line">			cnt &lt;= <span class="number">'d0</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(state_nt == STATE_3)</span><br><span class="line">			cnt &lt;= <span class="number">1'b1</span>;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			cnt &lt;= <span class="number">1'b0</span>;</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">		</span><br><span class="line">	<span class="keyword">assign</span>	cntout = cnt;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>FPGA</category>
      </categories>
      <tags>
        <tag>FPGA</tag>
        <tag>çŠ¶æ€æœº</tag>
      </tags>
  </entry>
  <entry>
    <title>FPGA--inoutçš„ç”¨æ³•</title>
    <url>/2018/01/16/FPGA%E2%80%94%E2%80%94inout%E7%9A%84%E7%94%A8%E6%B3%95/</url>
    <content><![CDATA[<p>ï»¿inoutï¼Œé¡¾åæ€ä¹‰ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªç«¯å£æ—¢å¯ä»¥è¾“å…¥æ•°æ®ä¹Ÿå¯ä»¥è¾“å‡ºæ•°æ®ï¼Œä½†æ˜¯ä»–æœ‰ä¸€ä¸ªè§„åˆ™ï¼šå½“ä»–åšè¾“å…¥ç«¯å£æ—¶ï¼Œä¸€å®šè¦ç½®ä¸ºé«˜é˜»æ€ã€‚</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">reg</span>	out_data;</span><br><span class="line"><span class="keyword">reg</span>	test_cnt;<span class="comment">//testç«¯å£è¾“å…¥\è¾“å…¥æ–¹å‘æ§åˆ¶ä½ï¼Œ1  è¾“å…¥  0  è¾“å‡º</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">assign</span>	test = test_cnt ? <span class="number">1'bz</span> : out_data;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>FPGA</category>
      </categories>
      <tags>
        <tag>FPGA</tag>
        <tag>inout</tag>
      </tags>
  </entry>
  <entry>
    <title>FPGA--forå¾ªç¯çš„äº›è®¸æ€è€ƒ</title>
    <url>/2018/01/16/FPGA%E2%80%94%E2%80%94for%E5%BE%AA%E7%8E%AF%E7%9A%84%E4%BA%9B%E8%AE%B8%E6%80%9D%E8%80%83/</url>
    <content><![CDATA[<p>â€‹        ä»¥å‰çš„å­¦ä¹ çš„æ—¶å€™ï¼Œæ²¡æœ‰ç”¨è¿‡verilogä¸­çš„forå¾ªç¯ã€‚åœ¨æ•°å­—ç”µè·¯çš„è¯¾å ‚ä¸Šï¼Œä¹Ÿç»å¸¸ä¼šæƒ³å¾ªç¯ç”µè·¯åˆ°åº•æ˜¯ä¸€ä¸ªä»€ä¹ˆæ ·çš„ç”µè·¯å‘¢ï¼Ÿåœ¨æˆ‘çš„è„‘æµ·ä¸­ï¼Œæ„Ÿè§‰å¾ªç¯ç”µè·¯å°±åƒé‚£ç§é‡å¤åˆ©ç”¨å·²çŸ¥ç”µè·¯çš„ç”µè·¯ï¼Œæˆ‘æ˜¯è¿™æ ·ç†è§£çš„ï¼šforå¾ªç¯è¯­å¥å—ä¸­çš„æ‰§è¡Œè¯­å¥æ˜¯ä¸€æ ·çš„ï¼Œå…¶ç”Ÿæˆçš„ç”µè·¯ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œè¿™ä¸ªç”µè·¯æˆ‘æŠŠ å®ƒäº¤åšæ‰§è¡Œç”µè·¯ã€‚é‚£ä¹ˆå¾ªç¯ç”µè·¯æ˜¯ä¸æ˜¯å°±æ˜¯æ ¹æ®æ¡ä»¶åˆ¤æ–­è¿è¡Œæ‰§è¡Œç”µè·¯å‘¢ï¼Œå°±æ˜¯é‚£ç§ç±»ä¼¼äºè´Ÿåé¦ˆç”µè·¯ã€‚æ ¹æ®æ‰§è¡Œç”µè·¯è¾“å‡ºçš„ä¸€ä¸ªç»“æœæ¥å†³å®šä¸‹æ¬¡ æ˜¯å¦è¦è¿˜è¦ç»§ç»­è¿è¡Œæ‰§è¡Œç”µè·¯ã€‚</p>
<a id="more"></a>

<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> Pro(</span><br><span class="line">	<span class="keyword">input</span>	clk,</span><br><span class="line">	<span class="keyword">input</span>	rst_n,</span><br><span class="line">	<span class="keyword">input</span>[<span class="number">12</span>:<span class="number">0</span>]	data,</span><br><span class="line">	<span class="keyword">output</span>[<span class="number">3</span>:<span class="number">0</span>]	numout</span><br><span class="line">);</span><br><span class="line">	<span class="keyword">reg</span>[<span class="number">3</span>:<span class="number">0</span>]	i;</span><br><span class="line">	<span class="keyword">reg</span>[<span class="number">3</span>:<span class="number">0</span>]	num;</span><br><span class="line">	<span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n)	<span class="keyword">begin</span></span><br><span class="line">		<span class="keyword">if</span>(!rst_n)	<span class="keyword">begin</span></span><br><span class="line">			num = <span class="number">'d0</span>;</span><br><span class="line">			i = <span class="number">'d0</span>;</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">		<span class="keyword">else</span>	<span class="keyword">begin</span></span><br><span class="line">			num = <span class="number">'d0</span>;</span><br><span class="line">			<span class="keyword">for</span>(i = <span class="number">'d0</span>;i &lt;= <span class="number">12</span>;i = i + <span class="number">1</span>)	</span><br><span class="line">				<span class="keyword">if</span>(data[i])</span><br><span class="line">					num = num + <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">end</span>				</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">assign</span>	numout = num;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<p>forå¾ªç¯ç”Ÿæˆçš„RTLå›¾å¦‚ä¸‹ï¼š</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTgwMTE2MjAyMTQyOTA5?x-oss-process=image/format,png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br>ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸæ£€æµ‹ä¸€æ¬¡çš„RTLå›¾å¦‚ä¸‹ï¼š<br><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTgwMTE2MjAyNjEwNTg4?x-oss-process=image/format,png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br>    äº‹å®ç»“æœå’Œæˆ‘æƒ³çš„ç›¸å·®å¤ªè¿œï¼Œåè€Œæ˜¯ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸæ£€æµ‹ä¸€æ¬¡çš„ç”µè·¯å’Œæˆ‘æƒ³çš„ä¸€æ ·ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°forå¾ªç¯ç”µè·¯è™½ç„¶èŠ‚çœäº†æ—¶é—´ï¼Œä½†æ˜¯å ç”¨çš„èµ„æºä¹Ÿæ˜æ˜¾è¾ƒå¤šã€‚<br>    åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬åˆ°åº•åº”è¯¥ä¸åº”è¯¥å¤§èƒ†çš„ä½¿ç”¨forå¾ªç¯å‘¢ï¼Ÿ<br>    æˆ‘è‡ªå·±çš„è§‚ç‚¹ï¼šå½“ä½ åªè€ƒè™‘é€Ÿåº¦è€Œä¸å…³å¿ƒç”µè·¯çš„è¯ï¼Œæ˜¯å¯ä»¥ä½¿ç”¨forå¾ªç¯çš„ã€‚</p>
]]></content>
      <categories>
        <category>FPGA</category>
      </categories>
      <tags>
        <tag>FPGA</tag>
        <tag>forå¾ªç¯</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¨¡æ‹Ÿç™»å½•çŸ¥ä¹</title>
    <url>/2017/09/09/%E7%94%A8python%E5%81%9A%E6%9C%89%E8%B6%A3%E7%9A%84%E4%BA%8B%E5%84%BF%E2%80%94%E2%80%94%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E7%9F%A5%E4%B9%8E/</url>
    <content><![CDATA[<p><font face="å®‹ä½“" size="4">  ç”¨Pythonåšç½‘ç»œæ•°æ®é‡‡é›†ï¼Œæ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚ç‰¹åˆ«æ˜¯ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“requestsã€‚<br>    windowä¸‹å®‰è£…æ–¹æ³•         pip install requests<br>    å¤„ç†ç½‘é¡µè¶…æ–‡æœ¬ä¿¡æ¯ï¼Œä½¿ç”¨ç¬¬ä¸‰æ–¹åº“BeautifulSoupï¼Œä¹Ÿæ˜¯å¾ˆæ–¹ä¾¿ã€‚<br>    windowä¸‹å®‰è£…æ–¹æ³•         pip install beautifulsoup4<br>    é€šå¸¸ä¼šç”¨åˆ°çš„æ˜¯requests.get()å’Œrequests.post()ã€‚</font></p>
<a id="more"></a>

<p>å…¶ä»–çš„ï¼Œå½“ä½ éœ€è¦çš„æ—¶å€™å»å®˜æ–¹æ–‡æ¡£æ˜¯æœ€å¥½çš„æ·å¾„ã€‚<br>    æˆ‘ä»¬å¤„ç†çš„è¿˜æ˜¯HTMLï¼Œäº†è§£ä¸€äº›HTMLæ˜¯å¿…é¡»çš„ï¼Œèµ·ç å¾—çŸ¥é“æ ‡ç­¾ï¼Œå±æ€§ï¼Œå±æ€§å€¼ç­‰ç­‰ï¼Œåªæœ‰è¿™æ ·æˆ‘ä»¬æ‰èƒ½åœ¨ä¸€å †ä¿¡æ¯é‡Œæå–å‡ºæˆ‘ä»¬æƒ³è¦å¾—ä¿¡æ¯ã€‚<br>    æœ€è¿‘åœ¨çœ‹ã€ŠPythonç½‘ç»œæ•°æ®é‡‡é›†ã€‹ï¼Œæ‰“ç®—æ‹¿çŸ¥ä¹å½“ä½œç»ƒæ‰‹çš„ç½‘ç«™ï¼ˆå¿ƒç–¼çŸ¥ä¹-ã€‚-ï¼‰ã€‚çŸ¥ä¹æ¯•ç«Ÿæ˜¯ä¼ä¸šçº§çš„ç½‘ç«™ï¼Œåœ¨æ¨¡æ‹Ÿç™»å½•çš„æ—¶å€™é‡åˆ°äº†å¾ˆå¤šæŒ«æŠ˜ï¼Œå¯¹ï¼Œå°±æ˜¯æŒ«æŠ˜ï¼Œå‰å‡ å¤©å› ä¸ºä¸€ç›´ç™»å½•ä¸ä¸Šè¿˜æ”¾å¼ƒè¿‡ï¼ˆå‘¸ï¼Œä¸¢äººçš„å®¶ä¼™ï¼‰ã€‚ä»Šå¤©ä¸ç»æ„çš„åœ¨ä¹¦ä¸­çœ‹åˆ°éšè—å­—æ®µï¼Œæç„¶å¤§æ‚Ÿã€‚åŸæ¥çŸ¥ä¹çš„è¡¨å•é‡Œæœ‰éšè—å­—æ®µå•Šã€‚<br>   é€šè¿‡BeautifulSoupè¿‡æ»¤å‡ºéšè—å­—æ®µï¼Œç„¶åpostï¼Œä½†æ˜¯è¿˜æ˜¯ä¸èƒ½ç™»å½•æˆåŠŸï¼Œå¾ˆæ¼ç«ã€‚é€¼ä¸å¾—å·²ä¸Šç½‘çœ‹äº†åˆ«äººçš„æºç ï¼Œç«Ÿç„¶æœ‰éªŒè¯ç ï¼Œæˆ‘åœ¨çŸ¥ä¹çš„ç½‘é¡µç«¯æ²¡çœ‹è§å•Šï¼Œæ‰€ä»¥æˆ‘æŠŠéªŒè¯ç çš„è¿™å¿«ç¨‹åºåŠ ä¸Šï¼Œç»“æœï¼Œï¼Œï¼Œï¼Œç™»å½•æˆåŠŸã€‚å¥½å§ï¼ŒçŸ¥ä¹ä½ èµ¢äº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">&apos;&apos;&apos;</span><br><span class="line">Info</span><br><span class="line">- auther  : Cherish_x</span><br><span class="line">- qq      : 344799672</span><br><span class="line">- data    : 2017.9.8</span><br><span class="line">&apos;&apos;&apos;</span><br><span class="line">import re</span><br><span class="line">import time</span><br><span class="line">import requests</span><br><span class="line">from io import BytesIO</span><br><span class="line">from PIL import Image</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line"></span><br><span class="line">loadpost_url = &apos;https://www.zhihu.com/login/phone_num&apos;</span><br><span class="line">load_url = &apos;https://www.zhihu.com/#signin&apos;</span><br><span class="line">agent = &apos;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.104 Safari/537.36&apos;</span><br><span class="line">headers = &#123;</span><br><span class="line">    &apos;User-Agent&apos;: agent,</span><br><span class="line">    &apos;Referer&apos;: &apos;https://www.zhihu.com/&apos;,</span><br><span class="line">    &apos;Host&apos;: &apos;www.zhihu.com&apos;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">FormData = &#123;</span><br><span class="line">    &apos;_xsrf&apos;: &apos;&apos;,</span><br><span class="line">    &apos;password&apos;: &apos;xu344799672&apos;,</span><br><span class="line">    &apos;phone_num&apos;: &apos;17853530696&apos;</span><br><span class="line">&#125;</span><br><span class="line">#â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line">#       æ¨¡æ‹Ÿç™»é™†çŸ¥ä¹</span><br><span class="line">def anaLoad(load_url, loadpost_url, headers, FormData):</span><br><span class="line">    #â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line">    #   ä¿æŒä¼šè¯ä¿¡æ¯</span><br><span class="line">    session = requests.session()</span><br><span class="line">    #â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line">    #   è·å–åŠ¨æ€å‚æ•°_xsrf</span><br><span class="line">    r = session.get(load_url, headers=headers)</span><br><span class="line">    _xsrf = r.cookies[&apos;_xsrf&apos;]</span><br><span class="line">    FormData[&apos;_xsrf&apos;] = _xsrf</span><br><span class="line">    #â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line">    #   è·å–éªŒè¯ç ï¼Œå¹¶ä»¥ç…§ç‰‡çš„å½¢å¼æ‰“å¼€ï¼Œæ‰‹åŠ¨è¾“å…¥</span><br><span class="line">    randomtime = str(int(time.time() * 1000))</span><br><span class="line">    captchaurl = &apos;https://www.zhihu.com/captcha.gif?r=&apos; + \</span><br><span class="line">                 randomtime + &quot;&amp;type=login&quot;</span><br><span class="line">    captcharesponse = session.get(url=captchaurl, headers=headers)</span><br><span class="line">    tempIm = BytesIO(captcharesponse.content)  # å°†æ•°æ®æµæ”¾å…¥tempImä»¥å­—èŠ‚çš„å½¢å¼</span><br><span class="line">    im = Image.open(tempIm)  # è½¬æ¢ä¸ºå›¾ç‰‡çš„å½¢å¼</span><br><span class="line">    im.show()  # æ‰“å¼€</span><br><span class="line">    captch = input(&apos;Please input coding:&apos;)</span><br><span class="line">    #â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line">    #   ç™»å½•</span><br><span class="line">    FormData[&apos;captcha&apos;] =captch</span><br><span class="line">    posthtml = session.post(loadpost_url, data=FormData, headers=headers)</span><br><span class="line">    #print(posthtml.cookies)</span><br><span class="line">    msg = eval(posthtml.text)#  è½¬ä¸ºå­—å…¸æ ¼å¼</span><br><span class="line">    print(msg[&apos;msg&apos;])</span><br><span class="line">    return session  #è¿”å›ä¼šè¯ä¿¡æ¯ï¼Œä»¥å¤‡ä¸‹æ¬¡ä½¿ç”¨</span><br><span class="line"></span><br><span class="line">#â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line">#   è·³è½¬çŸ¥ä¹å†…é“¾</span><br><span class="line">def throughUrl(session, headers):</span><br><span class="line">    urlList = []</span><br><span class="line">    r = session.get(&apos;https://www.zhihu.com/#signin&apos;, headers=headers)</span><br><span class="line">    bs0bj = BeautifulSoup(r.text, &apos;html.parser&apos;)</span><br><span class="line">    Text = bs0bj.findAll(&apos;meta&apos;, &#123;&apos;itemprop&apos;: &apos;url&apos;&#125;)</span><br><span class="line">    for i in Text:</span><br><span class="line">        i = i.attrs[&apos;content&apos;]</span><br><span class="line">        if i not in urlList and &apos;www.zhihu.com&apos; in i:#  å»é‡ã€å»å¤–é“¾ï¼ˆçŸ¥ä¹ä¸“æ ï¼Œä¸èƒ½è·³è½¬ï¼Œå¾…è§£å†³ï¼‰</span><br><span class="line">            urlList.append(i)</span><br><span class="line">            accessUrl(session, i, headers, urlList)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line">#   è®¿é—®é“¾æ¥</span><br><span class="line">def accessUrl(session, url, headers, urlList):</span><br><span class="line">    r = session.get(url, headers=headers)</span><br><span class="line">    bs0bj = BeautifulSoup(r.text, &apos;html.parser&apos;)</span><br><span class="line">    #text = bs0bj.findAll(&apos;span&apos;, &#123;&apos;itemprop&apos;: &apos;text&apos;&#125;)</span><br><span class="line">    text = bs0bj.findAll(&apos;meta&apos;, &#123;&apos;itemprop&apos;: &apos;name&apos;&#125;)</span><br><span class="line">    print(text)</span><br><span class="line">    print(&apos;â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”&apos;)</span><br><span class="line">    html = bs0bj.findAll(&apos;meta&apos;, &#123;&apos;itemprop&apos;: &apos;url&apos;&#125;)#  å¯»æ‰¾é“¾æ¥æ‰€åœ¨</span><br><span class="line">    for i in html:</span><br><span class="line">        i = i.attrs[&apos;content&apos;]</span><br><span class="line">        if i not in urlList and &apos;www.zhihu.com&apos; in i:#  å»é‡ã€å»å¤–é“¾ï¼ˆçŸ¥ä¹ä¸“æ ï¼Œä¸èƒ½è·³è½¬ï¼Œå¾…è§£å†³ï¼‰</span><br><span class="line">            urlList.append(i)</span><br><span class="line">            time.sleep(3)</span><br><span class="line">            accessUrl(session, i, headers, urlList)</span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    session = anaLoad(load_url, loadpost_url, headers, FormData)</span><br><span class="line">    throughUrl(session, headers)</span><br></pre></td></tr></table></figure>

<p>&lt;font face = â€˜å®‹ä½“â€™ï¼Œ size = 4&gt;    ç›®å‰å®ç°äº†æ¨¡æ‹Ÿç™»é™†çŸ¥ä¹ï¼Œéå†é‡‡é›†çš„çŸ¥ä¹å†…é“¾ï¼ˆå»é‡æ£€æŸ¥ï¼‰ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¸€å®šè¦æœ‰å»¶æ—¶ï¼Œåº”ä¸ºçŸ¥ä¹çš„é˜²çˆ¬æ„è¯†å¾ˆä¸¥è‚ƒï¼Œåœ¨è°ƒè¯•ç¨‹åºçš„æ—¶å€™ï¼Œæˆ‘å°±ç»å¸¸è¢«çŸ¥ä¹å°ipï¼Œæ­¤æ—¶éœ€è¦ç”¨ç½‘é¡µç™»å½•ä¸€æ¬¡è¾“å…¥éªŒè¯ç å³å¯ã€‚    </p>
]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>çˆ¬è™«</tag>
      </tags>
  </entry>
  <entry>
    <title>å°†.pyæ–‡ä»¶æ‰“åŒ…ä¸º.exe</title>
    <url>/2017/08/30/%E7%94%A8Python%E5%81%9A%E6%9C%89%E8%B6%A3%E7%9A%84%E4%BA%8B%E5%84%BF%E2%80%94%E2%80%94%E6%89%93%E5%8C%85%E7%A8%8B%E5%BA%8F%E4%B8%BA.exe/</url>
    <content><![CDATA[<p>ï»¿<font face="å®‹ä½“" size="4">     Pythonä½œä¸ºä¸€ç§è„šæœ¬è¯­è¨€ï¼Œæˆ‘ä»¬åœ¨å­¦ä¹ çš„æ—¶å€™ï¼Œä¼šå‘ç°ï¼Œç”¨ç¼–è¾‘å™¨ç å®Œä»£ç åï¼Œç”Ÿæˆçš„ä¸æ˜¯.exeæ–‡ä»¶ï¼Œè¿™ç‚¹å’ŒCè¯­è¨€ä¸åŒï¼Œç”Ÿæˆçš„æ˜¯.pyæ–‡ä»¶ï¼Œæƒ³è¦è¿è¡Œå°±å¿…é¡»åœ¨æœ‰å®‰è£…Pythonçš„ç¯å¢ƒä¸‹ï¼Œæ‰§è¡Œ.pyã€‚å†™å¥½ä¸€ä¸ªè„šæœ¬æƒ³ç»™åˆ«äººç”¨ï¼Œå°±å¾—æŠŠå®ƒæ‰“åŒ…ä¸º.exeæ–‡ä»¶ã€‚<br>    æˆ‘é€‰æ‹©ä½¿ç”¨pyinstallerç¬¬ä¸‰æ–¹ã€‚</font></p>
<a id="more"></a>

<p>â€‹    pipä¸‹è½½æ–¹æ³•ï¼špip install pyinstaller<br>â€‹    ä½¿ç”¨æ–¹æ³•ï¼šåœ¨cmdå‘½ä»¤è¡Œä¸‹ï¼Œæ‰“å¼€å¾…æ‰“åŒ…çš„.pyæ–‡ä»¶ç›®å½•ï¼Œ<br>â€‹    æ‰§è¡Œå‘½ä»¤ï¼Œpyinstaller â€“F (yourPro).pyï¼Œä¼šç”Ÿæˆå•ä¸ªå¯æ‰§è¡Œæ–‡ä»¶<br>â€‹              pyinstaller â€“ key (password)ï¼ŒåŠ å¯†ä½ çš„ä»£ç ï¼Œå®æµ‹è¿˜éœ€è¦ä¸€ä¸ªç¬¬ä¸‰æ–¹PyCrytoï¼Œè¿™ä¸ªç¬¬ä¸‰æ–¹åˆéœ€è¦ï¼¶ï¼£ï¼‹ï¼‹ï¼’ï¼ï¼‘ï¼•ï¼ŒæŒºéº»çƒ¦çš„ï¼Œä¹Ÿå°±æ²¡è¯•è¿‡è¿™æ¡å‘½ä»¤è¡Œã€‚<br><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwODMwMTQ1OTE3MTIy?x-oss-process=image/format,png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br>â€‹    ä¸Šä¸€å¼ æˆå“å›¾ï¼Œç›®å‰ç‰ˆæœ¬çš„è„šæœ¬ï¼Œå®ç°äº†æŸ¥è¯¢å½“å‰å·²æŠ½ä¸­è¯¾ç¨‹ä¿¡æ¯å¹¶æ‰“å°ï¼ŒæŸ¥è¯¢åŸ¹å…»æ–¹æ¡ˆçš„è¯¾ç¨‹ä¿¡æ¯ï¼Œæ¯”è¾ƒä¸¤ä¸ªä¿¡æ¯ï¼Œå¯»æ‰¾ä¸ºæŠ½ä¸­çš„è¯¾ç¨‹ï¼Œæ£€æŸ¥æœªæŠ½ä¸­è¯¾ç¨‹çš„è¯¾ä½™é‡ï¼Œå¦‚æœè¯¾ä½™é‡å¤§äº0ï¼Œè‡ªåŠ¨å¸®ç”¨æˆ· é€‰ä¸Šã€‚</p>
]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¨¡æ‹Ÿç™»å½•å­¦æ ¡æ•™åŠ¡ç³»ç»Ÿ</title>
    <url>/2017/08/29/%E7%94%A8Python%E5%81%9A%E6%9C%89%E8%B6%A3%E7%9A%84%E4%BA%8B%E5%84%BF%E2%80%94%E2%80%94%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E5%AD%A6%E6%A0%A1%E6%95%99%E5%8A%A1%E7%B3%BB%E7%BB%9F/</url>
    <content><![CDATA[<p> HTTPï¼Œè¯´ç™½äº†å°±æ˜¯ç”¨Postï¼ŒGetè·å–ä¿¡æ¯ã€‚é€‰è¯¾ï¼Œå’±ä»¬å¾—å…ˆç™»å½•å­¦æ ¡çš„æ•™åŠ¡ç³»ç»Ÿå•Šï¼Œæ‰€ä»¥ç”¨<strong>è°·æ­Œæµè§ˆå™¨</strong>è§‚å¯Ÿå½“æˆ‘ä»¬ç™»å½•æ•™åŠ¡ç³»ç»Ÿçš„æ—¶å€™ï¼Œç½‘é¡µå¹²äº†ä»€ä¹ˆã€‚åœ¨ç™»å½•é¡µé¢ï¼ŒæŒ‰F12ï¼Œæ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œå‡è£…ç™»å½•ä¸€ä¸‹ã€‚</p>
<a id="more"></a>

<p>   æˆ‘ä»¬å‘ç°å½“æˆ‘ä»¬ç™»å½•çš„æ—¶å€™ï¼Œç½‘é¡µå¸¦ç€æ•°æ®Postäº†ä¸€ä¸‹ï¼Œæˆ‘ä»¬åªè¦æ¨¡ä»¿è¿™ä¸ªPostï¼Œå°±å¯ä»¥ç™»å½•å•¦ï¼Œæ˜¯ä¸æ˜¯ç‰¹åˆ«ç®€å•ã€‚<br>    ä½†æ˜¯æˆ‘ä»¬å‘ç°ï¼Œæœ‰éªŒè¯ç å•Šï¼Œè¿™ä¸ªå°±æ˜¯ç”¨æ¥é‰´åˆ«ç™»å½•çš„ç”¨æˆ·æ˜¯äººè¿˜æ˜¯æœºå™¨äººã€‚è¿™ä¸ªè¯†åˆ«éªŒè¯ç ï¼Œå¤§å®¶å¯ä»¥ç”¨pythonçš„å›¾åƒå¤„ç†çš„ä¸€äº›ç¬¬ä¸‰æ–¹å¤„ç†è¯•è¯•ï¼Œæˆ‘æ˜¯ç›´æ¥æŠŠå›¾ç‰‡æå–å‡ºæ¥ï¼Œç„¶åäººå·¥è¾“å…¥çš„ã€‚<br>   ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬è·å–äº†éªŒè¯ç åï¼Œå†æŠŠè´¦å·ï¼Œå¯†ç ï¼ŒéªŒè¯ç ç»™Postä¸Šå»ã€‚ä¸€æ¥ä¸€å»ï¼Œæˆ‘ä»¬å°±è®¿é—®äº†ä¸¤æ¬¡æœåŠ¡å™¨ï¼Œä½†æ˜¯æˆ‘ä»¬å¾—è®©æœåŠ¡å™¨çŸ¥é“è¿™ä¸¤æ¬¡è®¿é—®éƒ½æ˜¯æ¥è‡ªåŒä¸€ä¸ªipçš„ï¼Œå¦åˆ™éªŒè¯ç å°±å˜äº†ï¼Œæˆ‘ä»¬ä¹Ÿå°±ä¸èƒ½æˆåŠŸPostäº†ã€‚è¿™ä¸ªæ—¶å€™ï¼Œcookieså°±å¸®äº†å¤§å¿™ï¼Œå¥¹å¯ä»¥å¸®åŠ©æˆ‘ä»¬ä½¿å¾—ä¸¤æ¬¡è®¿é—®æ˜¯åŒä¸€ä¸ªä¼šè¯ï¼Œæ€ä¹ˆä¿æŒcookiesï¼ŒPythonçš„ç¬¬ä¸‰æ–¹åº“requertså¯å°±ååˆ†å¼ºå¤§äº†ï¼Œsession = requests.session()ï¼Œå°±å¯ä»¥å¸®åŠ©æˆ‘ä»¬å»ºç«‹ä¸€ä¸ªä¼šè¯ï¼Œä¿æŒä¼šè¯ä¿¡æ¯ã€‚<br>å¥½äº†ï¼ŒåºŸè¯ä¸å¤šè¯´äº†ï¼Œç›´æ¥ä¸Šã€‚<br>   æˆ‘ç”¨çš„Python3.5ï¼Œä¸€å¼€å§‹ç”¨çš„Python3.6ï¼Œå¯æ˜¯ä¸èƒ½æ‰“åŒ…æˆexeæ–‡ä»¶ï¼Œå°±é€€å›äº†Pyhton3.5ã€‚ç¼–è¾‘å™¨ç”¨çš„Pycharmï¼Œä¸ªäººè§‚ç‚¹è¿™æ˜¯ä¸€æ¬¾éå¸¸æ£’çš„ç¼–è¾‘å™¨ã€‚<br>   é¦–å…ˆï¼Œå®‰è£…éœ€è¦çš„ç¬¬ä¸‰æ–¹åº“ã€‚BeautifulSoupï¼ˆå’Œæ­£åˆ™ä¸€èµ·ç”¨ï¼Œè¿˜ä¸æ˜¯çˆ½æ­ªæ­ªï¼‰ã€requestsï¼ˆè®©HTTPæœåŠ¡äºäººç±»ï¼‰å’ŒPILï¼ˆå›¾åƒå¤„ç†çš„ä¸€ä¸ªç¬¬ä¸‰æ–¹ï¼Œæˆ‘ç”¨å®ƒæŠŠæ‰’å–çš„éªŒè¯ç æ‰“å¼€ï¼Œç„¶åäººå·¥è¾“å…¥ï¼‰ã€‚å¦‚æœä½ å®‰è£…çš„Python3ï¼Œä¹Ÿå°±è‡ªåŠ¨å®‰è£…äº†pipï¼ˆç”¨pipä¸æ˜¯æ›´ç®€å•å—ï¼Ÿï¼‰<br>   ä¸‰ä¸ªç¬¬ä¸‰æ–¹çš„pipä¸‹è½½æ–¹æ³•ï¼špip install beautifulsoup4<br>                            pip install requests<br>                            pip install Pillow<br>                              ä»¥æˆ‘ä»¬å­¦æ ¡çš„æ•™åŠ¡ç³»ç»Ÿä¸ºä¾‹ã€‚æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œç‚¹å‡»Networkï¼Œç„¶åè´¦å·ï¼Œå¯†ç ï¼ŒéªŒè¯ç çæ‰“ç‚¹ç™»å½•ï¼Œå°±ä¼šåœ¨å³è¾¹çœ‹è§åœ¨ç™»å½•çš„æ—¶å€™å‘ç”Ÿäº†ä»€ä¹ˆã€‚<br><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwODI5MjExNzM1ODAy?x-oss-process=image/format,png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°">   æ‰¾åˆ°ä¸€ä¸ªè·Ÿç™»å½•æœ‰å…³çš„.doæ–‡ä»¶ï¼Œé€‰æ‹©headersï¼Œä¼šçœ‹åˆ°å¥¹å¾€ä¸€ä¸ªç½‘å€(Request URLï¼Œè¿™ä¸ªurlæš‚å®šä¹‰ä¸ºpost_url)postäº†ä¸€ä¸‹ï¼Œè¯·æ±‚è¡¨å¤´ï¼ˆRequests Headersï¼‰ä¹Ÿåœ¨è¿™é‡Œï¼Œé‡Œé¢å°±æœ‰å’±éœ€è¦çš„cookiesï¼Œéœ€è¦å…³æ³¨ä¸€ç‚¹Refererï¼Œè¿™é‡Œå¿…é¡»ä»Refererä¸€æ çš„ç½‘å€è·³åˆ°è¿™é‡Œæ‰è¡Œã€‚å¤§å®¶å¯ä»¥å…ˆè¯•ä¸‹ä¸è·³ä¼šæ€ä¹ˆæ ·ï¼Œå› ä¸ºæ¯ä¸ªæ•™åŠ¡ç³»ç»Ÿéƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¸éœ€è¦è·³è½¬çš„ï¼Œå°±ç›´æ¥Postå°±å¥½äº†ã€‚<img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwODI5MjEzMDI0Mzg0?x-oss-process=image/format,png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°">    ä¸‹æ‹‰ä¼šçœ‹åˆ°åœ¨Postçš„æ•°æ®ï¼Œåˆ†åˆ«æ˜¯è´¦å·ï¼Œå¯†ç ï¼ŒéªŒè¯ç ï¼Œå…¶ä»–çš„å¯èƒ½ä¼šæœ‰åˆ«çš„å‚æ•°ï¼Œåº”è¯¥åªæœ‰ è¿™ä¸‰ä¸ªæ˜¯å˜å¾—ã€‚æˆ‘åªéœ€è¦åœ¨Postçš„æ—¶å€™å°†æ•°æ®ä¹Ÿå¸¦ä¸Šå°±è¡Œäº†ã€‚ä¸å¾—ä¸è¯´ï¼ŒPython3çš„ç¬¬ä¸‰æ–¹åº“requestså®åœ¨å¼ºå¤§ï¼Œç”šè‡³æš´åŠ›ï¼Œåˆæœ‰ç‚¹å°æ¸…æ–°<img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwODI5MjEzMzM5MjA0?x-oss-process=image/format,png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°">ã€‚    ç‚¹å‡»Previewï¼Œç„¶åæŒ¨ä¸ªé€‰æ‹©Nameä¸‹çš„æ–‡ä»¶ï¼Œæ‰¾åˆ°å‡ºç°éªŒè¯ç çš„ä¸€ä¸ªã€‚åƒä¸‹å›¾ã€‚<img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwODI5MjEzNTM3NzUy?x-oss-process=image/format,png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°">    å†ç‚¹å›Headerså¯ä»¥çœ‹åˆ°ç™»å½•çš„æ—¶å€™éªŒè¯ç æ˜¯æ€ä¹ˆæ¥çš„ï¼ŒRequests URLå°±æ˜¯æˆ‘ä»¬è¦è·å–éªŒè¯ç è€ŒGetçš„urlï¼Œåªå–çº¢çº¿çš„éƒ¨åˆ†ï¼ˆæš‚å®šä¹‰ä¸ºyzm_urlï¼‰å³å¯ï¼Œåé¢å°±æ˜¯å”¬äººçš„ã€‚åœ¨è¡¨å¤´é‚£å—æˆ‘ä»¬å¯ä»¥çœ‹åˆ°Refereræ˜¯loginAction.doçš„urlã€‚<img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwODI5MjE0MTA1Mjg5?x-oss-process=image/format,png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°">    æ‰€ä»¥æ€è·¯å°±æ¥äº†ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆè®¿é—®post_urlï¼Œæ‹¿åˆ°cookiesåï¼Œåˆ©ç”¨sessionä¿æŒä¼šè¯ï¼Œè®¿é—®yzm_urlï¼Œè·å¾—éªŒè¯ç åï¼Œå†å°†è´¦å·ã€å¯†ç å’ŒéªŒè¯ç Poståˆ°post_urlã€‚è‡³æ­¤æˆ‘ä»¬å°±å¯ä»¥æ¨¡æ‹Ÿç™»é™†æ•™åŠ¡ç³»ç»Ÿäº†ã€‚<br>   ä¸‹é¢ç›´æ¥è´´æ ¸å¿ƒä»£ç äº†ï¼ˆæ”¯æŒå¼€æºï¼‰</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">            session = requests.session()  <span class="comment"># å»ºç«‹ä¼šè¯ï¼Œä¿æŒä¼šè¯ä¿¡æ¯ï¼Œcookies</span></span><br><span class="line">            r = session.get(post_url)</span><br><span class="line">            cookies = r.headers[<span class="string">'Set-Cookie'</span>]  <span class="comment"># è·å–cookies</span></span><br><span class="line">            cookies = cookies.strip(<span class="string">'; path=/'</span>)  </span><br><span class="line">            yam_headers = &#123;</span><br><span class="line">                <span class="string">'Accept'</span>: <span class="string">'image/webp,image/apng,image/*,*/*;q=0.8'</span>,</span><br><span class="line">                <span class="string">'Accept-Encoding'</span>: <span class="string">'gzip, deflate'</span>,</span><br><span class="line">                <span class="string">'Accept-Language'</span>: <span class="string">'zh-CN,zh;q=0.8'</span>,</span><br><span class="line">                <span class="string">'Connection'</span>: <span class="string">'keep-alive'</span>,</span><br><span class="line">                <span class="string">'Cookie'</span>: cookies,</span><br><span class="line">                <span class="string">'Host'</span>: <span class="string">'************'</span></span><br><span class="line">                <span class="string">'Referer'</span>:<span class="string">'*************'</span> </span><br><span class="line">                <span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.104 Safari/537.36'</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="comment">#è¿™æ˜¯è·å–éªŒè¯ç çš„è¡¨å¤´ï¼Œè¿™é‡Œçš„é“¾æ¥é€šgoogleæµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·ï¼ŒæŒ‰ç…§å‰é¢è¯´çš„å»æ‰¾ã€‚</span></span><br><span class="line">            yamdata = session.get(yzm_url, headers=yam_headers)  <span class="comment"># è·å–éªŒè¯ç </span></span><br><span class="line">            tempIm = BytesIO(yamdata.content)  <span class="comment"># å°†æ•°æ®æµæ”¾å…¥tempImä»¥å­—èŠ‚çš„å½¢å¼</span></span><br><span class="line">            im = Image.open(tempIm)  <span class="comment"># è½¬æ¢ä¸ºå›¾ç‰‡çš„å½¢å¼</span></span><br><span class="line">            im.show()  <span class="comment"># å±•ç¤ºéªŒè¯ç </span></span><br><span class="line">            Code = input(<span class="string">'Please Enter Code:'</span>)</span><br><span class="line">            logindata[<span class="string">'v_yzm'</span>] = Code</span><br><span class="line">            login_headers = &#123;</span><br><span class="line">                <span class="string">'Accept'</span>: <span class="string">'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8'</span>,</span><br><span class="line">                <span class="string">'Accept-Encoding'</span>: <span class="string">'gzip, deflate'</span>,</span><br><span class="line">                <span class="string">'Accept-Language'</span>: <span class="string">'zh-CN,zh;q=0.8'</span>,</span><br><span class="line">                <span class="string">'Cache-Control'</span>: <span class="string">'max-age=0'</span>,</span><br><span class="line">                <span class="string">'Connection'</span>: <span class="string">'keep-alive'</span>,</span><br><span class="line">                <span class="string">'Content-Length'</span>: <span class="string">'37'</span>,</span><br><span class="line">                <span class="string">'Content-Type'</span>: <span class="string">'application/x-www-form-urlencoded'</span>,</span><br><span class="line">                <span class="string">'Cookie'</span>: <span class="string">''</span>,</span><br><span class="line">                <span class="string">'Host'</span>: <span class="string">'***********'</span></span><br><span class="line">                <span class="string">'Origin'</span>: <span class="string">'*********'</span></span><br><span class="line">                <span class="string">'Referer'</span>: <span class="string">'***********'</span></span><br><span class="line">                <span class="string">'Upgrade-Insecure-Requests'</span>: <span class="string">'1'</span>,</span><br><span class="line">                <span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.104 Safari/537.36'</span></span><br><span class="line">            &#125;</span><br><span class="line">            login_headers[<span class="string">'Cookie'</span>] = cookies</span><br><span class="line">            d = session.post(post_url, data=logindata, headers=login_headers)<span class="comment">#å°†è´¦å·ï¼Œå¯†ç ï¼ŒéªŒè¯ç å’Œè¡¨å¤´Postä¸Šå»ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥ç”¨è¿‡BeautifulSoupæˆ–è€…æ­£åˆ™è¡¨è¾¾å¼ï¼ŒæŠ“å–d.textæœ‰ç”¨çš„ä¿¡æ¯ï¼Œåˆ¤æ–­æ˜¯å¦ç™»å½•æˆåŠŸã€‚</span></span><br></pre></td></tr></table></figure>

<pre><code>&lt;font face = &quot;å®‹ä½“&quot; size = 4&gt; æˆ‘ä»¬æˆåŠŸæ¨¡æ‹Ÿç™»é™†æ•™åŠ¡ç³»ç»Ÿåï¼Œå°±å¯ä»¥åšä¸€äº›æˆ‘æˆ‘ä»¬æƒ³åšçš„äº‹æƒ…äº†ï¼Œä¾‹å¦‚æŠ¢è¯¾ã€‚æ¨¡æ‹Ÿç™»é™†ææ˜ç™½äº†ï¼ŒæŠ¢è¯¾ä¹Ÿå°±å¾ˆç®€å•äº†ï¼Œå°±æ˜¯Getæˆ–è€…Postçš„è€Œå·²ï¼Œæˆ‘æµªè´¹äº†å¾ˆå¤šæ—¶é—´å’Œä»£ç åœ¨å¤„ç†æ–‡æœ¬ä¿¡æ¯ä¸Šã€‚å› ä¸ºæ¯ä¸ªå­¦æ ¡çš„æ•™åŠ¡ç³»ç»Ÿä¸ä¸€æ ·ï¼Œæ‰€ä»¥å°±ä¸è´´ä»£ç äº†ã€‚</code></pre><p>â€‹    </p>
]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>çˆ¬è™«</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®€æ˜“é¢‘è°±åˆ†æä»ªå’Œé¢‘ç‡ç‰¹æ€§æµ‹è¯•ä»ªçš„åŸç†</title>
    <url>/2017/08/04/%E7%AE%80%E6%98%93%E9%A2%91%E8%B0%B1%E5%88%86%E6%9E%90%E4%BB%AA%E5%92%8C%E9%A2%91%E7%8E%87%E7%89%B9%E6%80%A7%E6%B5%8B%E8%AF%95%E4%BB%AA%E7%9A%84%E5%8E%9F%E7%90%86/</url>
    <content><![CDATA[<p>ï»¿<font face="æ¥·ä½“" size="5">   17å¹´ç”µèµ›çš„å…ƒå™¨ä»¶æ¸…å•ä¸‹æ¥äº†,åŸºæœ¬ä»ªå™¨æœ‰é¢‘ç‡ç‰¹æ€§æµ‹è¯•ä»ªï¼Œä¸”13å¹´å›½èµ›å‡ºç°è¿‡ï¼Œ15å¹´å›½èµ›ä¹Ÿå‡ºç°è¿‡é¢‘è°±åˆ†æä»ªï¼ŒçŸ¥ä¹ä¸Šæœ‰äººçŒœæµ‹ä»Šå¹´ä¾ç„¶ä¼šå‡ºé¢‘åŸŸæµ‹é‡çš„é¢˜ï¼Œè¿™å‡ å¤©æˆ‘å°±æ‰¾äº†ä¸å°‘èµ„æ–™ã€‚äº†è§£äº†é¢‘è°±åˆ†æä»ªå’Œé¢‘ç‡ç‰¹æ€§æµ‹è¯•ä»ªçš„åŸç†ã€‚ </font><br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<a id="more"></a>

<p><font face="å®‹ä½“" size="5"><strong>é¢‘è°±åˆ†æä»ª</strong> </font><br><font face="å®‹ä½“" size="4">     é¢‘è°±åˆ†æä»ªä¸»è¦ç”¨æ¥åˆ†æä¿¡å·ä¸­å„é¢‘ç‡æˆåˆ†ã€‚ä¸»è¦æœ‰å¤šæ»¤æ³¢å™¨å¹¶è¡Œåˆ†æå¼ã€æ‰«é¢‘å¤–å·®åˆ†æå¼å’ŒFFTåˆ†æå¼ã€‚ä½†æ˜¯ç”µèµ›åšç®€æ˜“é¢‘è°±åˆ†æä»ªæˆ‘ä»¬å¸¸ç”¨æ‰«é¢‘æ³•ã€‚å¤šæ»¤æ³¢å™¨å¹¶è¡Œåˆ†æå¤ªä¾èµ–ç¡¬ä»¶ï¼Œåœ¨åšæµ‹é‡ä»ªå™¨ä¸­ï¼Œç¡¬ä»¶çš„éš¾åº¦å·²ç»å¾ˆå¤§äº†ã€‚FFTåˆ†æå¼å¤ªä¾èµ–ADé‡‡æ ·é€Ÿç‡ï¼Œåƒ15å¹´çš„èµ›é¢˜ï¼Œåš80M~100Mï¼Œå¦‚æœæƒ³ç”¨FFTåšå°±è¦æ±‚ADèŠ¯ç‰‡çš„é‡‡æ ·é€Ÿç‡å¯ä»¥è¾¾åˆ°200Mä»¥ä¸Šã€‚å¦‚æœæƒ³é‡‡ç”¨ç­‰æ•ˆé‡‡æ ·æ³•éœ€è¦äº§ç”Ÿå¾…åˆ†æä¿¡å·çš„åŒé¢‘ç‡çš„æ–¹æ³¢ï¼Œæ‰èƒ½ç²¾å‡†çš„äº§ç”Ÿç­‰æ•ˆé‡‡æ ·çš„æ—¶é’Ÿä¿¡å·ï¼ˆè‡³å°‘æˆ‘ä»¬ç°åœ¨æŒæ¡çš„æŠ€æœ¯ï¼Œåˆšæ‰è¯·æ•™äº†æˆ‘ä»¬é˜Ÿçš„ç¡¬ä»¶ï¼Œéœ€è¦ç‰¹å®šçš„èŠ¯ç‰‡å»è½¬æ¢ï¼‰ã€‚<br><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwODA0MTAzNjQ5MDIx?x-oss-process=image/format,png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></font><br><font face="å®‹ä½“" size="4">    è¢«æµ‹ä¿¡å·å¯èƒ½ä¼šæœ‰Nä¸ªé¢‘è°±åˆ†é‡ï¼Œä½†åˆ©ç”¨ä¸€ä¸ª<strong>é¢‘ç‡è¿ç»­æ‰«åŠ¨</strong>çš„æ‰«é¢‘æœ¬åœ°æŒ¯è¡å™¨ï¼ˆæ‰«é¢‘æœ¬æŒ¯ï¼‰äº§ç”Ÿçš„é¢‘ç‡fLä¸è¢«æµ‹ä¿¡å·æ··é¢‘ï¼Œè¿™æ ·è¢«æµ‹ä¿¡å·çš„ç¬¬nä¸ªé¢‘è°±åˆ†é‡æ€»ä¼šæœ‰æœºä¼šè½å…¥ä¸­é¢‘æ»¤æ³¢å™¨çš„é€šå¸¦ä¸­ã€‚é€šå¸¸ä»¤æœ¬åœ°æŒ¯è¡çš„å¹…åº¦ä¿æŒä¸å˜ï¼Œè¿™æ—¶æ··é¢‘å™¨çš„è¾“å‡ºåŠç»æ»¤æ³¢åè¾“å‡ºã€æ˜¾ç¤ºéƒ½ä¾æ¬¡ä¸è¢«æµ‹ä¿¡å·çš„é¢‘è°±åˆ†é‡çš„å¹…åº¦æˆæ­£æ¯”ã€‚æ£€æ³¢åå¯åœ¨Yæ–¹å‘æ˜¾ç¤ºè¯¥é¢‘è°±åˆ†é‡çš„å¤§å°ã€‚<br>    å›¾ä¸­çš„æ‰«é¢‘æœ¬æŒ¯çš„è¾“å‡ºé¢‘ç‡æ˜¯å—æ‰«æç”µå‹å‘ç”Ÿå™¨æ§åˆ¶çš„ã€‚è‹¥çº¿æ€§æ‰«é¢‘ï¼Œé‚£æ‰«æç”µå‹çš„å¹…åº¦åŠæ‰«é¢‘å‘ç”Ÿå™¨çš„è¾“å‡ºé¢‘ç‡å‘ˆçº¿æ€§å˜åŒ–ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠæ‰«æç”µå‹ç”¨æ¥é©±åŠ¨æ˜¾ç¤ºå™¨å…‰ç‚¹åœ¨Xæ–¹å‘ç§»åŠ¨ï¼Œå¹¶æŠŠæ¨ªè½´ç›´æ¥ç”¨è¢«æµ‹ä¿¡å·è°±çº¿çš„é¢‘ç‡æ¥åˆ»åº¦ã€‚<br> <strong>é¢‘è°±åˆ†æä»ªçš„ä¸»è¦æŠ€æœ¯æŒ‡æ ‡</strong><br>     <strong>1ã€æœ‰æ•ˆé¢‘ç‡èŒƒå›´</strong>æ˜¯æŒ‡åœ¨æ»¡è¶³ä»ªå™¨æ€§èƒ½æŒ‡æ ‡çš„æƒ…å†µä¸‹ï¼Œä»ªå™¨èƒ½åˆ†æçš„æœ€å®½é¢‘ç‡èŒƒå›´ã€‚åœ¨æ‰«é¢‘å¤–å·®å¼åˆ†æä»ªä¸­ï¼Œæœ‰æ•ˆé¢‘ç‡èŒƒå›´æ˜¯æŒ‡<strong>æ»¤æ³¢å™¨èƒ½é€‰å‡ºçš„ä¿¡å·æœ€ä½é¢‘ç‡è‡³æœ€é«˜é¢‘ç‡ã€‚</strong><br>      <strong>2ã€é¢‘ç‡ç›¸å¯¹è¯¯å·®</strong>æ˜¯æ‰€æœ‰ä¸é¢‘ç‡ç›¸å…³ä»ªå™¨æµ‹é‡ç»“æœçš„åŸºæœ¬ä¿éšœï¼Œå®ƒå¯¹é¢‘è°±ä»ªæ˜¯å¾ˆé‡è¦çš„ã€‚<br>      <strong>3ã€çµæ•åº¦</strong> ç”¨æ¥è¡¨å¾åœ¨ç»™å®šçš„å…¶ä»–æŒ‡æ ‡æ¡ä»¶ä¸‹ï¼Œé¢‘è°±ä»ªèƒ½æµ‹é‡æœ€å°ä¿¡å·çš„èƒ½åŠ›ã€‚<br>      <strong>4ã€åˆ†ææ—¶é—´æˆ–æ‰«ææ—¶é—´</strong>ï¼Œåˆ†ææ—¶é—´æ˜¯æŒ‡è¿›è¡Œä¸€æ¬¡é¢‘è°±åˆ†ææ‰€ç”¨çš„æ—¶é—´ã€‚å¯¹äºæ‰«é¢‘å¤–å·®å¼åˆ†æä»ªåˆ†ææ—¶é—´å®é™…ä¸Šå¸¸æŒ‡æ‰«ææˆ–æ™¨æ‰«é¢‘æ—¶é—´ï¼Œæ—¢æ˜¾ç¤ºå™¨ä¸Šæ‰«æçº¿ä»æœ€å·¦ç«¯æ‰«åˆ°æœ€å³ç«¯æ‰€ç”¨çš„æ—¶é—´ï¼Œåº”ä¿è¯ä¸­é¢‘æ»¤æ³¢å™¨çš„åŠ¨æ€ç‰¹æ€§ä¸èƒ½å› æ‰«é€Ÿè¿‡å¿«è€Œå˜åã€‚  </font><br> <font face="æ¥·ä½“" size="5"><strong>é¢‘ç‡ç‰¹æ€§æµ‹è¯•ä»ª</strong> </font><br> <font face="å®‹ä½“" size="4">   é¢‘ç‡ç‰¹æ€§çš„æµ‹é‡æœ‰å¾ˆå¤šæ–¹æ³•ã€‚å…¶åˆ†ç±»å¯ä»¥æ˜¯æ­£å¼¦æ³¢ç‚¹é¢‘æµ‹é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯æ‰«é¢‘æµ‹é‡ï¼›å¯ä»¥æ˜¯ç›´æ¥æ³•æµ‹é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯æ¯”è¾ƒæ³•æˆ–ç§°æ¯”å€¼æ³•æµ‹é‡ï¼›å¯ä»¥åªåæ˜ å¹…å€¼çš„å¢ç›Šæˆ–è¡°å‡ï¼Œä¹Ÿå¯ä»¥æ—¢åæ˜ å¹…é¢‘ç‰¹æ€§åˆåæ˜ ç›¸é¢‘ç‰¹æ€§ç­‰ã€‚<br>     <strong>ç‚¹é¢‘æ³•</strong>æ—¢æ˜¯å°†æ­£å¼¦ä¿¡å·è¢«è°ƒè‡³ä¸€ä¸ªä¸ªé¢‘ç‡ç‚¹è¿›è¡Œæµ‹é‡ã€‚<br>     <strong>æ‰«é¢‘æ³•</strong>æ˜¯æŒ‡é‡‡ç”¨ä¸€å®šæ–¹æ³•ä½¿æ­£å¼¦ä¿¡å·çš„è¾“å‡ºé¢‘ç‡èƒ½éšæ—¶é—´åœ¨ä¸€å®šèŒƒå›´å†…æ‰«æã€‚ï¼ˆä¸ªäººç†è§£å’Œæ‰«é¢‘å¤–å·®å¼é¢‘è°±åˆ†æä»ªå·®ä¸å¤šï¼Œä¸€ä¸ªæ˜¯ä¿¡å·æºç»è¿‡ç³»ç»Ÿï¼Œä¸€ä¸ªæ˜¯å’Œå¾…æµ‹ä¿¡å·æ··é¢‘ï¼‰<br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>    ä»¥ä¸Šä¸»è¦å†…å®¹æ‘˜è‡ªã€Šç”µå­æµ‹é‡ã€‹ç¬¬ä¸‰ç‰ˆã€‚ä¾µåˆ ã€‚  </font></p>
]]></content>
      <categories>
        <category>FPGA</category>
      </categories>
      <tags>
        <tag>ç”µèµ›</tag>
      </tags>
  </entry>
  <entry>
    <title>FFTé¢‘ç‡å’Œå®é™…ç‰©ç†é¢‘ç‡çš„åˆ†æ</title>
    <url>/2017/07/31/FFT%E9%A2%91%E7%8E%87%E5%92%8C%E5%AE%9E%E9%99%85%E7%89%A9%E7%90%86%E9%A2%91%E7%8E%87%E7%9A%84%E5%88%86%E6%9E%90/</url>
    <content><![CDATA[<p><font face="æ¥·ä½“" size="5">ä¹‹å‰æœ‰è½¬è½½è¿‡ä¸€ç¯‡å…³äºé¢‘è°±åˆ†æçš„åšå®¢ï¼Œä»Šå¤©æƒ³åˆ©ç”¨FPGAåšFFTçš„æœ‰å…³è®¡ç®—ï¼Œä»”ç»†æŸ¥çœ‹äº†é‚£ç¯‡åšå®¢å‘ç°åŸåšä¸»å†™çš„æ˜¯ä¸€å¡Œç³Šæ¶‚ï¼Œè¢«é€¼æ— å¥ˆæ‹¿èµ·å‰å‡ å‘¨è€ƒå®ŒæœŸæœ«è€ƒçš„ã€Šæ•°å­—ä¿¡å·å¤„ç†ã€‹ï¼ŒåŒæ—¶ç½‘ä¸Šä¹Ÿæœ‰æŸ¥èµ„æ–™ï¼Œç»ˆäºæœ‰ä¸€ç‚¹æ€è·¯äº†ã€‚</font><br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<a id="more"></a>

<p><font face="å®‹ä½“" size="4">FFTæ˜¯å¿«é€Ÿå‚…é‡Œå¶å˜æ¢ï¼Œæ˜¯ç¦»æ•£å‚…é‡Œå¶å˜æ¢çš„å¿«é€Ÿç®—æ³•ã€‚æˆ‘ä»¬æƒ³è¦åˆ©ç”¨FFTè®¡ç®—é¢‘ç‡æˆ–è€…è§‚å¯Ÿé¢‘è°±ç‰¹æ€§ï¼Œç¦»ä¸å¼€DFTçš„å®šä¹‰å’Œæ€§è´¨ã€‚å…ˆç®€å•ä»‹ç»ä¸‰ä¸ªåè¯ã€‚</font></p>
<p>[å¤–é“¾å›¾ç‰‡è½¬å­˜ä¸­â€¦(img-Y1SwIZJR-1571226079885)]</p>
<p><font face="å®‹ä½“" size="4">f æ˜¯å®é™…ç‰©ç†é¢‘ç‡ï¼Œè¡¨ç¤º<strong>ADé‡‡é›†ç‰©ç†æ¨¡æ‹Ÿä¿¡å·çš„é¢‘ç‡</strong>ï¼ŒFså°±æ˜¯<strong>é‡‡æ ·é¢‘ç‡</strong>ï¼Œæ ¹æ®<strong>å¥ˆå¥æ–¯ç‰¹é‡‡æ ·å®šç†</strong>å¯ä»¥çŸ¥é“ï¼ŒFså¿…é¡»â‰¥ä¿¡å·æœ€é«˜é¢‘ç‡çš„2å€æ‰èƒ½é¿å…äº§ç”Ÿ<strong>é¢‘è°±æ··å </strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ç”¨Fsåšé‡‡æ ·é¢‘ç‡ï¼Œä¿¡å·çš„æœ€é«˜é¢‘ç‡ä¸ºFs/2ã€‚<br>Î©ç§°ä¸ºæ¨¡æ‹Ÿé¢‘ç‡ã€‚Ï‰ç§°ä¸ºæ•°å­—é¢‘ç‡ã€‚äºŒè€…çš„å…³ç³»<strong>Ï‰ = Î©/Fs</strong>ã€‚<br>å‡è®¾x(n)çš„Nç‚¹ç¦»æ•£å‚…ç«‹å¶å˜æ¢ä¸ºX(k),ç”±å®šä¹‰å¼å¯ä»¥æ¨å‡ºX(k)ä¸ºx(n)çš„å‚…é‡Œå¶å˜æ¢X(e^jw)åœ¨åŒºé—´[0,2Ï€]ä¸Šçš„Nç‚¹ç­‰é—´éš”é‡‡æ ·ï¼Œè¿™ä¹Ÿæ˜¯DFTçš„ç‰©ç†æ„ä¹‰ã€‚DFTçš„å˜æ¢åŒºé—´é•¿åº¦Nä¸åŒï¼Œè¡¨ç¤ºå¯¹å‚…é‡Œå¶å˜æ¢X(e^jw)åœ¨åŒºé—´[0,2Ï€]ä¸Šçš„é‡‡æ ·é—´éš”å’Œé‡‡æ ·ç‚¹æ•°ä¸åŒã€‚Nç‚¹DFTçš„ç»“æœè¿˜æ˜¯Nç‚¹ã€‚<br>æˆ‘ä»¬é€šå¸¸åªå…³å¿ƒ0<del>Ï€çš„é¢‘è°±ï¼Œè¿™æ˜¯ç”±äºåªæœ‰f = Fs/2èŒƒå›´å†…æ‰æ˜¯è¢«é‡‡æ ·åˆ°çš„æœ‰æ•ˆä¿¡å·ã€‚ä¹Ÿæ—¢åœ¨Ï‰çš„èŒƒå›´å†…å¾—åˆ°çš„é¢‘è°±æ˜¯å¯¹ç§°ã€‚</del></font><br><font face="å®‹ä½“" size="4">ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå¦‚æœåš16ç‚¹DFTï¼Œå‡è®¾æ¨¡æ‹Ÿä¿¡å·çš„æœ€é«˜é¢‘ç‡ä¸ºf = 64KHz,é‡‡æ ·é¢‘ç‡æ˜¯Fs = 128KHzï¼Œæ ¹æ®æ¨¡æ‹Ÿé¢‘ç‡å’Œæ•°å­—é¢‘ç‡çš„å…³ç³»å¯ä»¥çŸ¥é“128KHzçš„æ¨¡æ‹Ÿé‡‡æ ·é¢‘ç‡è¢«åˆ†æˆ16ä»½ï¼Œæ¯ä¸€ä»½æ˜¯8KHzï¼Œè¿™å°±æ˜¯<strong>é¢‘ç‡åˆ†è¾¨ç‡</strong>ï¼ˆé¢‘ç‡åˆ†è¾¨ç‡å¯ä»¥ç†è§£ä¸ºåœ¨ä½¿ç”¨DFTæ—¶ï¼Œåœ¨é¢‘ç‡è½´ä¸Šçš„æ‰€èƒ½å¾—åˆ°çš„æœ€å°é¢‘ç‡é—´éš”f0 = fs/N =1/T ï¼Œå…¶ä¸­Nä¸ºé‡‡æ ·ç‚¹æ•°ï¼Œ  fsä¸ºé‡‡æ ·é¢‘ç‡,Tä¸ºé‡‡æ ·å‰æ¨¡æ‹Ÿä¿¡å·çš„æ—¶é—´é•¿åº¦ã€‚æ‰€ä»¥ä¿¡å·é•¿åº¦è¶Šé•¿ï¼Œé¢‘ç‡åˆ†è¾¨ç‡è¶Šå¥½ã€‚æ‘˜è‡ªç™¾åº¦ç™¾ç§‘ï¼‰ã€‚å¦‚æœæƒ³è¦æé«˜é¢‘ç‡åˆ†è¾¨ç‡ï¼Œåœ¨åšFFTçš„æ—¶å€™å¯ä»¥é€‚å½“å¢åŠ é‡‡æ ·ç‚¹æ•°ã€‚é‚£ä¹ˆDFTå¾—åˆ°çš„é¢‘è°±çš„æ¨ªåæ ‡ï¼Œn = 0æ—¶å¯¹åº”çš„f = 0ï¼Œn = 1æ—¶å¯¹åº”çš„f = 8KHzï¼Œä¾æ¬¡ç±»æ¨n = 7æ—¶å¯¹åº”f = 56KHzï¼Œå› ä¸ºæ¨¡æ‹Ÿä¿¡å·çš„æœ€é«˜é¢‘ç‡ä¸º64KHz,è€Œä¸”é¢‘è°±æ˜¯å…³äºn = 8å¯¹ç§°ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å…³å¿ƒnå–07ä»¥å†…çš„é¢‘è°±å°±è¶³å¤Ÿäº†ã€‚<br>å¦‚æœæˆ‘ä»¬æƒ³æ±‚ç¬¬kä¸ªç‚¹çš„å®é™…é¢‘ç‡ï¼Œæˆ‘ä»¬å¿…é¡»çŸ¥é“åŸä¿¡å·çš„é‡‡æ ·é¢‘ç‡å’Œé‡‡æ ·ç‚¹æ•°ã€‚å…¬å¼ä¸ºf(k)=k<em>(fs/n)ã€‚</em></font><br><font face="å®‹ä½“" size="5">*ç”¨DFTå¯¹è¿ç»­ä¿¡å·è¿›è¡Œè°±åˆ†æ<strong></strong></font><br><font face="å®‹ä½“" size="4">åœ¨å¯¹è¿ç»­ä¿¡å·è¿›è¡Œè°±åˆ†ææ—¶ï¼Œä¸»è¦å…³å¿ƒä¸¤ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è°±åˆ†æèŒƒå›´å’Œé¢‘ç‡åˆ†è¾¨ç‡ã€‚è°±åˆ†æèŒƒå›´ä¸º[0ï¼ŒFs/2]ï¼Œç›´æ¥å—é‡‡æ ·é¢‘ç‡Fsçš„é™åˆ¶ï¼Œä¸ºäº†ä¸äº§ç”Ÿé¢‘è°±æ··å å¤±çœŸï¼Œé€šå¸¸è¦æ±‚ä¿¡å·çš„æœ€é«˜é¢‘ç‡f &lt; Fs/2ã€‚é¢‘ç‡åˆ†è¾¨ç‡ç”¨é¢‘ç‡é‡‡æ ·é—´éš”Fæ¥æè¿°ï¼ŒF = Fs/Nï¼›Fè¡¨ç¤ºè°±åˆ†æä¸­èƒ½å¤Ÿåˆ†è¾¨çš„ä¸¤ä¸ªé¢‘ç‡åˆ†é‡çš„æœ€å°é—´éš”ã€‚Fè¾ƒå°æ—¶ï¼Œé¢‘ç‡åˆ†è¾¨ç‡è¾ƒé«˜ã€‚å¦‚æœç»´æŒé‡‡æ ·é¢‘ç‡Fsä¸å˜ï¼Œä¸ºæé«˜é¢‘ç‡åˆ†è¾¨ç‡å¯ä»¥å¢åŠ é‡‡æ ·ç‚¹æ•°Nï¼Œåªè¦å¢åŠ å¯¹ä¿¡å·çš„è§‚å¯Ÿæ—¶é—´Tpï¼Œæ‰èƒ½å¢åŠ é‡‡æ ·ç‚¹æ•°Nã€‚</font><br><font face="å®‹ä½“" size="5">ç”¨DFTè¿›è¡Œè°±åˆ†æçš„è¯¯å·®é—®é¢˜**</font><br><font face="å®‹ä½“" size="4">        DFTå¯ç”¨æ¥å¯¹è¿ç»­ä¿¡å·å’Œæ•°å­—ä¿¡å·è¿›è¡Œè°±åˆ†æï¼Œåœ¨å®é™…åˆ†æè¿‡ç¨‹ä¸­ï¼Œè¦å¯¹è¿ç»­ä¿¡å·é‡‡æ ·å’Œæˆªæ–­ï¼Œå°±ä¼šå¼•å‘è¯¯å·®ï¼Œä¸‹é¢ä»‹å¯èƒ½äº§ç”Ÿè¯¯å·®çš„ä¸‰ç§ç°è±¡ã€‚<br>ï¼ˆ1ï¼‰æ··å ç°è±¡ã€‚å¯¹è¿ç»­ä¿¡å·è¿›è¡Œè°±åˆ†ææ˜¯ï¼Œé¦–å…ˆè¦å¯¹å…¶é‡‡æ ·ï¼Œå˜æˆæ—¶åŸŸç¦»æ•£ä¿¡å·åæ‰èƒ½ç”¨DFT(FFT)è¿›è¡Œè°±åˆ†æã€‚é‡‡æ ·é€Ÿç‡Fså¿…é¡»æ»¡è¶³å¥ˆå¥æ–¯ç‰¹é‡‡æ ·å®šç†ï¼Œå¦åˆ™ä¼šåœ¨Fs/2é™„è¿‘å‘ç”Ÿé¢‘è°±æ··å ç°è±¡ã€‚<br>ï¼ˆ2ï¼‰æ …æ æ•ˆåº”ã€‚Nç‚¹DFTæ˜¯åœ¨é¢‘ç‡åŒºé—´[0ï¼Œ2Ï€]ä¸Šå¯¹æ—¶åŸŸç¦»æ•£ä¿¡å·çš„é¢‘è°±è¿›è¡ŒNç‚¹ç­‰é—´éš”é‡‡æ ·ï¼Œè€Œé‡‡æ ·ç‚¹ä¹‹é—´çš„é¢‘è°±æ˜¯çœ‹ä¸åˆ°çš„ã€‚å°±åƒä¸Šæ–‡ä¸­ä¸¾çš„ä¾‹å­ï¼ŒåŸæ¥ä¿¡å·å¯èƒ½ä¼šåœ¨5KHzå‡ºæœ‰é¢‘è°±çš„åˆ†é‡ï¼Œä½†æˆ‘ä»¬çš„é¢‘ç‡åˆ†è¾¨ç‡åªæœ‰8KHzï¼Œè¿™å°±å¯¼è‡´æˆ‘ä»¬æ— æ³•è§‚å¯Ÿåœ¨5KHzçš„åˆ†é‡ã€‚è¦æƒ³è§‚å¯Ÿï¼Œæˆ‘ä»¬å°±å¿…é¡»æé«˜é¢‘ç‡åˆ†è¾¨ç‡ã€‚å¯¹äºæœ‰é™é•¿åºåˆ—ï¼Œå¯ä»¥åœ¨åŸåºåˆ—å°¾éƒ¨è¡¥é›¶ï¼›å¯¹äºæ— é™é•¿åºåˆ—ï¼Œå¯ä»¥å¢å¤§æˆªå–é•¿åº¦åŠDFTå˜æ¢åŒºé—´é•¿åº¦ï¼Œä»è€Œä½¿é¢‘åŸŸé‡‡æ ·é—´éš”å˜å°ï¼Œå¢åŠ é¢‘åŸŸé‡‡æ ·ç‚¹æ•°å’Œé‡‡æ ·ç‚¹ä½ç½®ï¼Œä½¿åŸæ¥æ¼æ‰çš„æŸäº›é¢‘è°±åˆ†é‡è¢«æ£€æµ‹å‡ºæ¥ã€‚å¯¹äºè¿ç»­ä¿¡å·çš„è°±åˆ†æï¼Œåªè¦é‡‡æ ·é€Ÿç‡Fsè¶³å¤Ÿé«˜ï¼Œä¸”é‡‡æ ·ç‚¹æ•°æ»¡è¶³é¢‘ç‡åˆ†è¾¨ç‡è¦æ±‚ï¼Œå°±å¯ä»¥è®¤ä¸ºDFTåæ‰€å¾—ç¦»æ•£è°±çš„åŒ…ç»œè¿‘ä¼¼ä»£è¡¨åŸä¿¡å·çš„é¢‘è°±ã€‚<br>ï¼ˆ3ï¼‰æˆªæ–­æ•ˆåº”ã€‚å®é™…ä¸­é‡åˆ°çš„åºåˆ—x(n)å¯èƒ½æ— é™é•¿çš„ï¼Œç”¨DFTè¿›è¡Œè°±åˆ†ææ—¶ï¼Œå¿…é¡»å°†å…¶æˆªæ–­ï¼Œå½¢æˆæœ‰é™é•¿åºåˆ—ã€‚è€Œæˆªæ–­ååºåˆ—çš„é¢‘è°±å¿…å°†å‘ç”Ÿå˜åŒ–ã€‚ä¸»è¦æœ‰ä¸¤ä¸ªæ–¹é¢ï¼š<br>    â‘ æ³„éœ² ï¼šåŸæ¥çš„åºåˆ—çš„é¢‘è°±æ˜¯ç¦»æ•£è°±çº¿ï¼Œç»æˆªæ–­åï¼Œä½¿åŸæ¥çš„ç¦»æ•£è°±çº¿å‘é™„è¿‘å±•å®½ã€‚é€šå¸¸ç§°è¿™ç§å±•å®½ä¸ºæ³„éœ²ã€‚æ³„éœ²ä½¿é¢‘è°±å˜æ¨¡ç³Šï¼Œé¢‘ç‡åˆ†è¾¨ç‡é™ä½ã€‚<br>    â‘¡è°±é—´å¹²æ‰°ã€‚</font></p>
]]></content>
      <categories>
        <category>FPGA</category>
      </categories>
      <tags>
        <tag>FFT</tag>
      </tags>
  </entry>
  <entry>
    <title>FPGAåˆ©ç”¨FIFOåšæ•°æ®ç¼“å†²</title>
    <url>/2017/07/30/FPGA%E5%88%A9%E7%94%A8FIFO%E5%81%9A%E6%95%B0%E6%8D%AE%E7%BC%93%E5%86%B2/</url>
    <content><![CDATA[<p>ï»¿ä»Šå¤©å°è¯•ä½¿ç”¨äº†Quartus â…¡ 15.1 çš„FIFOçš„IPæ ¸ã€‚<br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>ç®€å•ä»‹ç»ä¸€ä¸‹FIFOã€‚FIFOï¼ˆFirst Input First Outputï¼‰ï¼Œå¾ˆå®¹æ˜“ç†è§£ï¼Œå°±æ˜¯å…ˆè¿›å…ˆå‡ºï¼Œå’Œæ•°æ®ç»“æ„é‡Œçš„é˜Ÿåˆ—ä¸€æ ·ã€‚ä¸¾ä¸€ä¸ªé€šä¿—çš„ä¾‹å­ï¼Œåœ¨è¶…å¸‚ä¹°ä¸œè¥¿ï¼Œç»“è´¦çš„æ—¶å€™ï¼Œå¤§å®¶éƒ½åœ¨æ’é˜Ÿï¼Œå…ˆæ’é˜Ÿçš„äººå…ˆç»“è´¦èµ°äººï¼Œä¸åœ¨è¿™é‡Œé€—ç•™ï¼ˆè¿™ç‚¹å’ŒRAMä¸åŒï¼‰ã€‚æ‰€ä»¥FIFOé€šå¸¸æ˜¯ä½œä¸ºæ•°æ®ç¼“å†²ç»“æ„ï¼Œä¸€èˆ¬ç”¨äºä¸åŒæ—¶é’ŸåŸŸä¹‹é—´çš„æ•°æ®ä¼ è¾“ï¼Œæ¯”å¦‚FIFOä¸€ç«¯æ˜¯é‡‡æ ·é€Ÿç‡æ¯”è¾ƒæ…¢çš„æ¥å£ï¼Œå¦ä¸€ç«¯æ˜¯é‡‡æ ·é€Ÿç‡æ¯”è¾ƒå—çš„æ¥å£ã€‚ä¹Ÿå¯ä»¥ç”¨äºè¾“å…¥æ•°æ®å’Œè¾“å‡ºæ•°æ®ä½å®½ä¸åŒçš„æƒ…å†µã€‚</p>
<a id="more"></a>

<p>Ipæ ¸çš„å‚æ•°é…ç½®ç½‘ä¸Šæœ‰å¾ˆå¤šï¼Œå¤§å®¶ä¹Ÿå¯ä»¥çœ‹ä¸‹ã€ŠHELLO FPGAã€‹é‡Œçš„è¯¦ç»†ä»‹ç»ã€‚<br>FIFO IPæ ¸ä¸»è¦ç”¨äºåŒæ­¥æˆ–å¼‚æ­¥æ—¶é’ŸåŸŸå…ˆå…¥å…ˆå‡ºæ•°æ®æµçš„ç¼“å­˜ã€‚<br>FIFOæ˜¯æ²¡æœ‰è¯»å†™åœ°å€çš„ï¼Œæ ¹æ®è¯»å†™ä½¿èƒ½å’Œä¸Šå‡æ²¿è§¦å‘çš„æ—¶é’Ÿè¿›è¡Œå†™å…¥å’Œè¯»å‡ºã€‚è€Œä¸”æ•°æ®ä¸å†FIFOé‡Œé€—ç•™ï¼Œè¯»å‡ºæ—¢ä»â€œç»“å®Œè´¦èµ°äººäº†â€ã€‚æ‰€ä»¥å®ƒæœ‰å†™æ»¡å’Œè¯»ç©ºçš„æ ‡å¿—ä½ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸¤ä¸ªæ ‡å¿—ä½å†™è¯»å†™é€»è¾‘ä½¿èƒ½ï¼Œè¿™ä¸€ç‚¹æ¯”åˆ©ç”¨åŒå£RAMåšç¼“å†²ä¼šç®€å•æ–¹ä¾¿å¾ˆå¤šã€‚<br>ç®€å•çš„è´´ä¸‹ä»£ç ï¼Œä½¿ç”¨SignalTapä»¿çœŸã€‚ </p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span>	fifo(</span><br><span class="line">		clk,rst_n,</span><br><span class="line">		RomAddr,rddata,RomData,rden,full,empty,clk_10M</span><br><span class="line">						</span><br><span class="line">);</span><br><span class="line"><span class="keyword">input</span>						clk;</span><br><span class="line"><span class="keyword">input</span>						rst_n;</span><br><span class="line"><span class="keyword">output</span>				[<span class="number">7</span>:<span class="number">0</span>]		RomData;</span><br><span class="line"><span class="keyword">output</span>		<span class="keyword">reg</span>		[<span class="number">4</span>:<span class="number">0</span>]		RomAddr;</span><br><span class="line"><span class="keyword">output</span>				[<span class="number">7</span>:<span class="number">0</span>]		rddata;</span><br><span class="line"><span class="keyword">output</span>		<span class="keyword">reg</span>				rden;</span><br><span class="line"><span class="keyword">output</span>						full;</span><br><span class="line"><span class="keyword">output</span>						empty;</span><br><span class="line"><span class="keyword">output</span>						clk_10M;</span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n)</span><br><span class="line">	<span class="keyword">if</span>(!rst_n)</span><br><span class="line">		rden &lt;= <span class="number">'d0</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(full)</span><br><span class="line">		rden &lt;= <span class="number">1'b1</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(empty)</span><br><span class="line">		rden &lt;= <span class="number">1'b0</span>;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		rden &lt;= rden;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">Dif_Fifo Dif_Fifo_inst (</span><br><span class="line">	<span class="variable">.data</span>(RomData),</span><br><span class="line">	<span class="variable">.rdclk</span>(clk),</span><br><span class="line">	<span class="variable">.rdreq</span>(rden),</span><br><span class="line">	<span class="variable">.wrclk</span>(clk_10M),</span><br><span class="line">	<span class="variable">.wrreq</span>(~rden),</span><br><span class="line">	<span class="variable">.q</span>(rddata),</span><br><span class="line">	<span class="variable">.rdempty</span>(empty),</span><br><span class="line">	<span class="variable">.wrfull</span>(full)</span><br><span class="line">	);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">FIFO FIFO_inst (</span></span><br><span class="line"><span class="comment">	.clock(clk),</span></span><br><span class="line"><span class="comment">	.data(RomData),</span></span><br><span class="line"><span class="comment">	.rdreq(rden),</span></span><br><span class="line"><span class="comment">	.wrreq(wren),</span></span><br><span class="line"><span class="comment">	.empty(empty),</span></span><br><span class="line"><span class="comment">	.full(full),</span></span><br><span class="line"><span class="comment">	.q(rddata),</span></span><br><span class="line"><span class="comment">	.usedw(usedw)</span></span><br><span class="line"><span class="comment">);</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/*****************10Må»è¯»rom*****************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//reg		[4:0]		RomAddr;</span></span><br><span class="line"><span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk_10M <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n)</span><br><span class="line">	<span class="keyword">if</span>(!rst_n)</span><br><span class="line">		RomAddr &lt;= <span class="number">'d0</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(RomAddr &gt;= <span class="number">5'd31</span>)</span><br><span class="line">		RomAddr &lt;= <span class="number">'d0</span>;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		RomAddr &lt;= RomAddr  + <span class="number">1'b1</span>;</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line"><span class="comment">//wire		[7:0]		RomData;</span></span><br><span class="line">Rom_Test Rom_Test_inst (</span><br><span class="line">	<span class="variable">.address</span>(RomAddr),</span><br><span class="line">	<span class="variable">.clock</span>(clk_10M),</span><br><span class="line">	<span class="variable">.q</span>(RomData)</span><br><span class="line">	);</span><br><span class="line">	</span><br><span class="line"><span class="comment">/*****PLLåˆ†é¢‘äº§ç”Ÿ10Mçš„æ—¶é’Ÿ*****/</span></span><br><span class="line"><span class="comment">//wire						clk_10M;</span></span><br><span class="line">Ip_Core_PLL Ip_Core_PLL_inst (</span><br><span class="line">		 <span class="variable">.refclk</span>(clk),   <span class="comment">//  refclk.clk</span></span><br><span class="line">		 <span class="variable">.rst</span>(!rst_n),      <span class="comment">//   reset.reset</span></span><br><span class="line">		 <span class="variable">.outclk_0</span>(clk_10M), <span class="comment">// outclk0.clk</span></span><br><span class="line">		 <span class="variable">.locked</span>()    <span class="comment">//  locked.export</span></span><br><span class="line">	);</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<p>ä»¿çœŸï¼š<br><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwNzMwMjAwMTMyNjQ3?x-oss-process=image/format,png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
]]></content>
      <categories>
        <category>FPGA</category>
      </categories>
      <tags>
        <tag>FPGA</tag>
        <tag>FIFO</tag>
        <tag>æ•°æ®ç¼“å†²</tag>
      </tags>
  </entry>
  <entry>
    <title>ç­‰ç²¾åº¦æµ‹é¢‘çš„åŸç†å’ŒåŸºäºFPGAçš„å®ç°</title>
    <url>/2017/07/29/%E7%AD%89%E7%B2%BE%E5%BA%A6%E6%B5%8B%E9%A2%91%E7%9A%84%E5%8E%9F%E7%90%86%E5%92%8C%E5%9F%BA%E4%BA%8EFPGA%E7%9A%84%E5%AE%9E%E7%8E%B0/</url>
    <content><![CDATA[<p>ï»¿æˆ‘ä»¬é€šè¿‡FPGAæµ‹é‡ä¿¡å·é¢‘ç‡ï¼Œä¸€èˆ¬æ¥è¯´æœ‰ä¸¤ç§æ–¹æ¡ˆã€‚ä¼ ç»Ÿæµ‹é¢‘æ³•å’Œç­‰ç²¾åº¦æµ‹é¢‘æ³•ã€‚<br>æ–¹æ¡ˆä¸€ï¼š<br>ä¼ ç»Ÿæµ‹é¢‘æ˜¯åœ¨ä¸€æ®µé—¸é—¨æ—¶é—´å†…ç›´æ¥å¯¹è¾“å…¥ä¿¡å·çš„å‘¨æœŸè¿›è¡Œè®¡æ•°ï¼Œä¹Ÿè¢«å«åšç›´æ¥æµ‹é¢‘æ³•ã€‚è®¾é—¸é—¨ä¿¡å·ä¸ºgateï¼Œæ£€æµ‹å¾…æµ‹ä¿¡å·ä¸Šå‡æ²¿ï¼Œç„¶ååˆ¤æ–­gateæ˜¯å¦ä¸ºé«˜ç”µå¹³ï¼Œè‹¥ä¸ºé«˜ç”µå¹³ä¾¿å¼€å§‹è®¡æ•°ã€‚è¿™å°±å­˜åœ¨gateçš„æ—¶é—´å’Œå¾…æµ‹ä¿¡å·å‘¨æœŸæ•°å¯èƒ½ä¸æˆæ•´æ•°å€ï¼Œå¯¼è‡´äº§ç”Ÿ+1hzæˆ–-1hzçš„è¯¯å·®ã€‚</p>
<a id="more"></a>

<p>æ–¹æ¡ˆäºŒï¼š<br>ç­‰ç²¾åº¦æµ‹é¢‘å¯ä»¥å¼¥è¡¥ä¼ ç»Ÿæµ‹é¢‘çš„ç¼ºç‚¹ï¼Œå®ƒä¿è¯äº†é—¸é—¨æ—¶é—´æ°¸è¿œæ˜¯è¢«æµ‹ä¿¡å·å‘¨æœŸçš„æ•´æ•°å€ã€‚è®¾é¢„è®¾é—¸é—¨ä¿¡å·ä¸ºbaseï¼Œå®é™…é—¸é—¨ä¿¡å·ä¸ºgateï¼Œæ£€æµ‹å¾…æµ‹ä¿¡å·ä¸Šå‡æ²¿ï¼Œå½“baseä¸ºé«˜ç”µå¹³æ—¶ï¼Œå®é™…é—¸é—¨æ‰“å¼€ï¼Œgateä¸ºé«˜ç”µå¹³ï¼Œæ­¤æ—¶ä¸¤ä¸ªè®¡æ•°å™¨åŒæ—¶å¯¹æ ‡å‡†ä¿¡å·å’Œå¾…æµ‹ä¿¡å·çš„å‘¨æœŸè¿›è¡Œè®¡æ•°ã€‚å½“baseä¸ºä½ç”µå¹³ï¼Œå®é™…é—¸é—¨å…³é—­ï¼Œgateä¸ºä½ç”µå¹³è®¡æ•°å™¨åœæ­¢è®¡æ•°ã€‚ä¸‹é¢çš„æ—¶åºå›¾ï¼ˆä»åˆ«äººåšå®¢æ‘˜è¿‡æ¥çš„ï¼Œä½†æ˜¯ä»–åšå®¢é‡Œè¯´æ—¶ä»ç™¾åº¦æ‘˜è¿‡æ¥çš„ï¼ŒåŸåšå®¢çœ‹æ°´å°ï¼‰å¯ä»¥å¾ˆå¥½çš„è¯´æ˜ã€‚<br><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwNzI5MjA1NDU0OTM0?x-oss-process=image/format,png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br> æœ€ç»ˆç”±å…¬å¼ï¼š<br>å¾…æµ‹ä¿¡å·é¢‘ç‡/å¾…æµ‹ä¿¡å·å®é™…é—¸é—¨å‘¨æœŸæ•° = æ ‡å‡†ä¿¡å·é¢‘ç‡/æ ‡å‡†ä¿¡å·å®é™…é—¸é—¨å‘¨æœŸæ•°<br>       å¯ä»¥å¾—åˆ°å¾…æµ‹ä¿¡å·çš„é¢‘ç‡ã€‚<br>ç»“è®ºï¼š<br>       ç”±ç­‰ç²¾åº¦æµ‹é‡å…¬å¼å¯ä»¥çŸ¥é“ç­‰ç²¾åº¦æµ‹é¢‘çš„è¯¯å·®æ¥æºäºæ ‡å‡†ä¿¡å·ï¼Œè€Œæ ‡å‡†ä¿¡å·çš„é¢‘ç‡ä¸º50Mhzï¼Œå¯ä»¥è®¤ä¸ºè¯¯å·®è¶³å¤Ÿå°ï¼Œæ‰€ä»¥å¯ä»¥æ¶ˆé™¤+1hzæˆ–-1hzçš„è¯¯å·®ã€‚å¹¶ä¸”å› ä¸ºç­‰ç²¾åº¦æµ‹é¢‘èƒ½å¤Ÿåœ¨æ•´ä¸ªæ—¶åŸŸä¿æŒæ’å®šçš„è¯¯å·®ï¼Œæ‰€ä»¥éå¸¸é€‚åˆç”¨æ¥æµ‹é‡å¯è°ƒä½åŒæ­¥æ—¶é’Ÿä¿¡å·çš„é¢‘ç‡ã€‚</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span>	FreMeasure(</span><br><span class="line">	<span class="keyword">input</span>							clk,</span><br><span class="line">	<span class="keyword">input</span>							rst_n,</span><br><span class="line">	<span class="keyword">input</span>							Sig_in,</span><br><span class="line">	<span class="keyword">output</span>	<span class="keyword">reg</span>	[<span class="number">31</span>:<span class="number">0</span>]	         Â  	Fre</span><br><span class="line">);</span><br><span class="line"><span class="keyword">parameter</span> T_1s = <span class="number">28'd49_999_999</span>;</span><br><span class="line"><span class="comment">//â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span></span><br><span class="line"><span class="comment">//			é¢„ç½®é—¸é—¨</span></span><br><span class="line"><span class="keyword">reg</span>	[<span class="number">27</span>:<span class="number">0</span>]	TCount;</span><br><span class="line"><span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n)</span><br><span class="line">	<span class="keyword">if</span>(!rst_n)</span><br><span class="line">		TCount &lt;= <span class="number">28'd0</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(TCount &gt;= T_1s)</span><br><span class="line">		TCount &lt;= <span class="number">'d0</span>;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		TCount &lt;= TCount + <span class="number">1'b1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span>	TCountCnt;</span><br><span class="line"><span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n)</span><br><span class="line">	<span class="keyword">if</span>(!rst_n)</span><br><span class="line">		TCountCnt &lt;= <span class="number">1'b0</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(TCount &gt;= T_1s)</span><br><span class="line">		TCountCnt &lt;= ~TCountCnt;</span><br><span class="line">		</span><br><span class="line"><span class="comment">//â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span></span><br><span class="line"><span class="comment">//			å®é™…é—¸é—¨</span></span><br><span class="line"><span class="keyword">reg</span>	startCnt;</span><br><span class="line"><span class="keyword">always</span> @ (<span class="keyword">posedge</span> Sig_in)</span><br><span class="line">	<span class="keyword">if</span>(TCountCnt == <span class="number">1'b1</span>)</span><br><span class="line">		startCnt &lt;= <span class="number">1'b1</span>;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		startCnt &lt;= <span class="number">1'b0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span></span><br><span class="line"><span class="comment">//			åœ¨å®é™…é—¸é—¨ä¸­è®¡æ•°</span></span><br><span class="line"><span class="keyword">reg</span>	[<span class="number">31</span>:<span class="number">0</span>]	SigTemp;</span><br><span class="line"><span class="keyword">always</span> @ (<span class="keyword">negedge</span> Sig_in)</span><br><span class="line">	<span class="keyword">if</span>(startCnt == <span class="number">1'b1</span>)</span><br><span class="line">		SigTemp &lt;= SigTemp + <span class="number">1'b1</span>;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		SigTemp &lt;= <span class="number">'d0</span>;</span><br><span class="line"><span class="comment">//â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span></span><br><span class="line"><span class="comment">//			é”å­˜è¾“å‡º</span></span><br><span class="line"><span class="keyword">always</span> @ (<span class="keyword">negedge</span> startCnt)</span><br><span class="line">	Fre &lt;= SigTemp;</span><br><span class="line">	</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>FPGA</category>
      </categories>
      <tags>
        <tag>ç­‰ç²¾åº¦æµ‹è¯„</tag>
      </tags>
  </entry>
</search>
